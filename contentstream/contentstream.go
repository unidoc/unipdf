//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package contentstream provides functionality for parsing and creating content streams for PDF files.
//
// For processing and manipulating content streams, it allows parse the content stream into a list of
// operands that can then be processed further for rendering or extraction of information.
// The ContentStreamProcessor offers a basic engine for processing the content stream and can be used
// to render or modify the contents.
//
// For creating content streams, see NewContentCreator.  It allows adding multiple operands and then can
// be converted to a string for embedding in a PDF file.
//
// The contentstream package uses the core and model packages.
package contentstream ;import (_a "bufio";_ad "bytes";_e "encoding/hex";_d "errors";_fa "fmt";_bd "github.com/unidoc/unipdf/v4/common";_ea "github.com/unidoc/unipdf/v4/core";_ab "github.com/unidoc/unipdf/v4/internal/imageutil";_adb "github.com/unidoc/unipdf/v4/internal/transform";
_fd "github.com/unidoc/unipdf/v4/model";_ca "image/color";_dg "image/jpeg";_dc "io";_de "math";_b "regexp";_f "strconv";);

// Add_j adds 'j' operand to the content stream: Set the line join style (graphics state).
//
// See section 8.4.4 "Graphic State Operators" and Table 57 (pp. 135-136 PDF32000_2008).
func (_gf *ContentCreator )Add_j (lineJoinStyle string )*ContentCreator {_bbeg :=ContentStreamOperation {};_bbeg .Operand ="\u006a";_bbeg .Params =_ceag ([]_ea .PdfObjectName {_ea .PdfObjectName (lineJoinStyle )});_gf ._ebd =append (_gf ._ebd ,&_bbeg );
return _gf ;};

// Add_quotes appends `"` operand to the content stream:
// Move to next line and show a string, using `aw` and `ac` as word
// and character spacing respectively.
//
// See section 9.4.3 "Text Showing Operators" and
// Table 209 (pp. 258-259 PDF32000_2008).
func (_gcb *ContentCreator )Add_quotes (textstr _ea .PdfObjectString ,aw ,ac float64 )*ContentCreator {_caee :=ContentStreamOperation {};_caee .Operand ="\u0022";_caee .Params =_faefg ([]float64 {aw ,ac });_caee .Params =append (_caee .Params ,_daca ([]_ea .PdfObjectString {textstr })...);
_gcb ._ebd =append (_gcb ._ebd ,&_caee );return _gcb ;};

// Bytes converts the content stream operations to a content stream byte presentation, i.e. the kind that can be
// stored as a PDF stream or string format.
func (_fge *ContentCreator )Bytes ()[]byte {return _fge ._ebd .Bytes ()};func (_aagc *ContentStreamProcessor )getInitialColor (_eccf _fd .PdfColorspace )(_fd .PdfColor ,error ){switch _cfdb :=_eccf .(type ){case *_fd .PdfColorspaceDeviceGray :return _fd .NewPdfColorDeviceGray (0.0),nil ;
case *_fd .PdfColorspaceDeviceRGB :return _fd .NewPdfColorDeviceRGB (0.0,0.0,0.0),nil ;case *_fd .PdfColorspaceDeviceCMYK :return _fd .NewPdfColorDeviceCMYK (0.0,0.0,0.0,1.0),nil ;case *_fd .PdfColorspaceCalGray :return _fd .NewPdfColorCalGray (0.0),nil ;
case *_fd .PdfColorspaceCalRGB :return _fd .NewPdfColorCalRGB (0.0,0.0,0.0),nil ;case *_fd .PdfColorspaceLab :_efab :=0.0;_geeb :=0.0;_eeef :=0.0;if _cfdb .Range [0]> 0{_efab =_cfdb .Range [0];};if _cfdb .Range [2]> 0{_geeb =_cfdb .Range [2];};return _fd .NewPdfColorLab (_efab ,_geeb ,_eeef ),nil ;
case *_fd .PdfColorspaceICCBased :if _cfdb .Alternate ==nil {_bd .Log .Trace ("\u0049\u0043\u0043\u0020\u0042\u0061\u0073\u0065\u0064\u0020\u006eo\u0074\u0020\u0064\u0065\u0066\u0069\u006e\u0065d\u0020-\u0020\u0061\u0074\u0074\u0065\u006d\u0070\u0074\u0069\u006e\u0067\u0020\u0066\u0061\u006c\u006c\u0020\u0062a\u0063\u006b\u0020\u0028\u004e\u0020\u003d\u0020\u0025\u0064\u0029",_cfdb .N );
switch _cfdb .N {case 1:_bd .Log .Trace ("\u0046\u0061\u006c\u006c\u0069\u006e\u0067\u0020\u0062\u0061\u0063k\u0020\u0074\u006f\u0020\u0044\u0065\u0076\u0069\u0063\u0065G\u0072\u0061\u0079");return _aagc .getInitialColor (_fd .NewPdfColorspaceDeviceGray ());
case 3:_bd .Log .Trace ("\u0046a\u006c\u006c\u0069\u006eg\u0020\u0062\u0061\u0063\u006b \u0074o\u0020D\u0065\u0076\u0069\u0063\u0065\u0052\u0047B");return _aagc .getInitialColor (_fd .NewPdfColorspaceDeviceRGB ());case 4:_bd .Log .Trace ("\u0046\u0061\u006c\u006c\u0069\u006e\u0067\u0020\u0062\u0061\u0063k\u0020\u0074\u006f\u0020\u0044\u0065\u0076\u0069\u0063\u0065C\u004d\u0059\u004b");
return _aagc .getInitialColor (_fd .NewPdfColorspaceDeviceCMYK ());default:return nil ,_d .New ("a\u006c\u0074\u0065\u0072\u006e\u0061t\u0065\u0020\u0073\u0070\u0061\u0063e\u0020\u006e\u006f\u0074\u0020\u0064\u0065f\u0069\u006e\u0065\u0064\u0020\u0066\u006f\u0072\u0020\u0049C\u0043");
};};return _aagc .getInitialColor (_cfdb .Alternate );case *_fd .PdfColorspaceSpecialIndexed :if _cfdb .Base ==nil {return nil ,_d .New ("\u0069\u006e\u0064\u0065\u0078\u0065\u0064\u0020\u0062\u0061\u0073e\u0020\u006e\u006f\u0074\u0020\u0073\u0070\u0065\u0063\u0069f\u0069\u0065\u0064");
};return _aagc .getInitialColor (_cfdb .Base );case *_fd .PdfColorspaceSpecialSeparation :if _cfdb .AlternateSpace ==nil {return nil ,_d .New ("\u0061\u006ct\u0065\u0072\u006e\u0061\u0074\u0065\u0020\u0073\u0070\u0061\u0063\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0070\u0065\u0063\u0069fi\u0065\u0064");
};return _aagc .getInitialColor (_cfdb .AlternateSpace );case *_fd .PdfColorspaceDeviceN :if _cfdb .AlternateSpace ==nil {return nil ,_d .New ("\u0061\u006ct\u0065\u0072\u006e\u0061\u0074\u0065\u0020\u0073\u0070\u0061\u0063\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0070\u0065\u0063\u0069fi\u0065\u0064");
};return _aagc .getInitialColor (_cfdb .AlternateSpace );case *_fd .PdfColorspaceSpecialPattern :return _fd .NewPdfColorPattern (),nil ;};_bd .Log .Debug ("Un\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065r\u006d\u0069\u006e\u0065\u0020\u0069\u006e\u0069\u0074\u0069\u0061\u006c\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0066\u006f\u0072\u0020\u0075\u006e\u006b\u006e\u006fw\u006e \u0063\u006f\u006c\u006f\u0072\u0073\u0070\u0061c\u0065:\u0020\u0025T",_eccf );
return nil ,_d .New ("\u0075\u006e\u0073\u0075pp\u006f\u0072\u0074\u0065\u0064\u0020\u0063\u006f\u006c\u006f\u0072\u0073\u0070\u0061c\u0065");};

// Add_TJ appends 'TJ' operand to the content stream:
// Show one or more text string. Array of numbers (displacement) and strings.
//
// See section 9.4.3 "Text Showing Operators" and
// Table 209 (pp. 258-259 PDF32000_2008).
func (_cbaa *ContentCreator )Add_TJ (vals ..._ea .PdfObject )*ContentCreator {_afce :=ContentStreamOperation {};_afce .Operand ="\u0054\u004a";_afce .Params =[]_ea .PdfObject {_ea .MakeArray (vals ...)};_cbaa ._ebd =append (_cbaa ._ebd ,&_afce );return _cbaa ;
};

// NewContentStreamProcessor returns a new ContentStreamProcessor for operations `ops`.
func NewContentStreamProcessor (ops []*ContentStreamOperation )*ContentStreamProcessor {_daee :=ContentStreamProcessor {};_daee ._cbad =GraphicStateStack {};_bcbc :=GraphicsState {};_daee ._gabf =_bcbc ;_daee ._eccb =[]handlerEntry {};_daee ._cfab =0;_daee ._faee =ops ;
return &_daee ;};

// Add_m adds 'm' operand to the content stream: Move the current point to (x,y).
//
// See section 8.5.2 "Path Construction Operators" and Table 59 (pp. 140-141 PDF32000_2008).
func (_ecg *ContentCreator )Add_m (x ,y float64 )*ContentCreator {_bea :=ContentStreamOperation {};_bea .Operand ="\u006d";_bea .Params =_faefg ([]float64 {x ,y });_ecg ._ebd =append (_ecg ._ebd ,&_bea );return _ecg ;};

// Transform returns coordinates x, y transformed by the CTM.
func (_bgaf *GraphicsState )Transform (x ,y float64 )(float64 ,float64 ){return _bgaf .CTM .Transform (x ,y );};

// Add_SC appends 'SC' operand to the content stream:
// Set color for stroking operations.  Input: c1, ..., cn.
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_acbf *ContentCreator )Add_SC (c ...float64 )*ContentCreator {_ccd :=ContentStreamOperation {};_ccd .Operand ="\u0053\u0043";_ccd .Params =_faefg (c );_acbf ._ebd =append (_acbf ._ebd ,&_ccd );return _acbf ;};

// ContentStreamParser represents a content stream parser for parsing content streams in PDFs.
type ContentStreamParser struct{_bfeb *_a .Reader };func _cdbe (_acbg _fd .PdfColorspace )bool {_ ,_fcg :=_acbg .(*_fd .PdfColorspaceSpecialPattern );return _fcg ;};

// Add_J adds 'J' operand to the content stream: Set the line cap style (graphics state).
//
// See section 8.4.4 "Graphic State Operators" and Table 57 (pp. 135-136 PDF32000_2008).
func (_cd *ContentCreator )Add_J (lineCapStyle string )*ContentCreator {_cba :=ContentStreamOperation {};_cba .Operand ="\u004a";_cba .Params =_ceag ([]_ea .PdfObjectName {_ea .PdfObjectName (lineCapStyle )});_cd ._ebd =append (_cd ._ebd ,&_cba );return _cd ;
};

// Add_scn_pattern appends 'scn' operand to the content stream for pattern `name`:
// scn with name attribute (for pattern). Syntax: c1 ... cn name scn.
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_dbc *ContentCreator )Add_scn_pattern (name _ea .PdfObjectName ,c ...float64 )*ContentCreator {_bbg :=ContentStreamOperation {};_bbg .Operand ="\u0073\u0063\u006e";_bbg .Params =_faefg (c );_bbg .Params =append (_bbg .Params ,_ea .MakeName (string (name )));
_dbc ._ebd =append (_dbc ._ebd ,&_bbg );return _dbc ;};

// Add_TL appends 'TL' operand to the content stream:
// Set leading.
//
// See section 9.3 "Text State Parameters and Operators" and
// Table 105 (pp. 251-252 PDF32000_2008).
func (_cff *ContentCreator )Add_TL (leading float64 )*ContentCreator {_cae :=ContentStreamOperation {};_cae .Operand ="\u0054\u004c";_cae .Params =_faefg ([]float64 {leading });_cff ._ebd =append (_cff ._ebd ,&_cae );return _cff ;};func _caag (_gee *ContentStreamInlineImage )(_ea .StreamEncoder ,error ){if _gee .Filter ==nil {return _ea .NewRawEncoder (),nil ;
};_cdfg ,_fae :=_gee .Filter .(*_ea .PdfObjectName );if !_fae {_bee ,_gadb :=_gee .Filter .(*_ea .PdfObjectArray );if !_gadb {return nil ,_fa .Errorf ("\u0066\u0069\u006c\u0074\u0065\u0072 \u006e\u006f\u0074\u0020\u0061\u0020\u004e\u0061\u006d\u0065\u0020\u006f\u0072 \u0041\u0072\u0072\u0061\u0079\u0020\u006fb\u006a\u0065\u0063\u0074");
};if _bee .Len ()==0{return _ea .NewRawEncoder (),nil ;};if _bee .Len ()!=1{_dag ,_eea :=_fegb (_gee );if _eea !=nil {_bd .Log .Error ("\u0046\u0061\u0069\u006c\u0065\u0064 \u0063\u0072\u0065\u0061\u0074\u0069\u006e\u0067\u0020\u006d\u0075\u006c\u0074i\u0020\u0065\u006e\u0063\u006f\u0064\u0065r\u003a\u0020\u0025\u0076",_eea );
return nil ,_eea ;};_bd .Log .Trace ("\u004d\u0075\u006c\u0074\u0069\u0020\u0065\u006e\u0063:\u0020\u0025\u0073\u000a",_dag );return _dag ,nil ;};_ede :=_bee .Get (0);_cdfg ,_gadb =_ede .(*_ea .PdfObjectName );if !_gadb {return nil ,_fa .Errorf ("\u0066\u0069l\u0074\u0065\u0072\u0020a\u0072\u0072a\u0079\u0020\u006d\u0065\u006d\u0062\u0065\u0072 \u006e\u006f\u0074\u0020\u0061\u0020\u004e\u0061\u006d\u0065\u0020\u006fb\u006a\u0065\u0063\u0074");
};};switch *_cdfg {case "\u0041\u0048\u0078","\u0041\u0053\u0043\u0049\u0049\u0048\u0065\u0078\u0044e\u0063\u006f\u0064\u0065":return _ea .NewASCIIHexEncoder (),nil ;case "\u0041\u0038\u0035","\u0041\u0053\u0043\u0049\u0049\u0038\u0035\u0044\u0065\u0063\u006f\u0064\u0065":return _ea .NewASCII85Encoder (),nil ;
case "\u0044\u0043\u0054","\u0044C\u0054\u0044\u0065\u0063\u006f\u0064e":return _agb (_gee );case "\u0046\u006c","F\u006c\u0061\u0074\u0065\u0044\u0065\u0063\u006f\u0064\u0065":return _eddd (_gee ,nil );case "\u004c\u005a\u0057","\u004cZ\u0057\u0044\u0065\u0063\u006f\u0064e":return _aba (_gee ,nil );
case "\u0043\u0043\u0046","\u0043\u0043\u0049\u0054\u0054\u0046\u0061\u0078\u0044e\u0063\u006f\u0064\u0065":return _ea .NewCCITTFaxEncoder (),nil ;case "\u0052\u004c","\u0052u\u006eL\u0065\u006e\u0067\u0074\u0068\u0044\u0065\u0063\u006f\u0064\u0065":return _ea .NewRunLengthEncoder (),nil ;
default:_bd .Log .Debug ("\u0055\u006e\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064\u0020\u0069\u006e\u006c\u0069\u006e\u0065 \u0069\u006d\u0061\u0067\u0065\u0020\u0065n\u0063\u006f\u0064\u0069\u006e\u0067\u0020\u0066\u0069\u006c\u0074e\u0072\u0020\u006e\u0061\u006d\u0065\u0020\u003a\u0020\u0025\u0073",*_cdfg );
return nil ,_d .New ("\u0075\u006e\u0073up\u0070\u006f\u0072\u0074\u0065\u0064\u0020\u0069\u006el\u0069n\u0065 \u0065n\u0063\u006f\u0064\u0069\u006e\u0067\u0020\u006d\u0065\u0074\u0068\u006f\u0064");};};

// Add_w adds 'w' operand to the content stream, which sets the line width.
//
// See section 8.4.4 "Graphic State Operators" and Table 57 (pp. 135-136 PDF32000_2008).
func (_ag *ContentCreator )Add_w (lineWidth float64 )*ContentCreator {_ega :=ContentStreamOperation {};_ega .Operand ="\u0077";_ega .Params =_faefg ([]float64 {lineWidth });_ag ._ebd =append (_ag ._ebd ,&_ega );return _ag ;};

// Add_h appends 'h' operand to the content stream:
// Close the current subpath by adding a line between the current position and the starting position.
//
// See section 8.5.2 "Path Construction Operators" and Table 59 (pp. 140-141 PDF32000_2008).
func (_ae *ContentCreator )Add_h ()*ContentCreator {_cdf :=ContentStreamOperation {};_cdf .Operand ="\u0068";_ae ._ebd =append (_ae ._ebd ,&_cdf );return _ae ;};

// All returns true if `hce` is equivalent to HandlerConditionEnumAllOperands.
func (_bad HandlerConditionEnum )All ()bool {return _bad ==HandlerConditionEnumAllOperands };

// Parse parses all commands in content stream, returning a list of operation data.
func (_efa *ContentStreamParser )Parse ()(*ContentStreamOperations ,error ){_bggg :=ContentStreamOperations {};for {_cafb :=ContentStreamOperation {};for {_bdff ,_cbcg ,_dfg :=_efa .parseObject ();if _dfg !=nil {if _dfg ==_dc .EOF {return &_bggg ,nil ;
};return &_bggg ,_dfg ;};if _cbcg {_cafb .Operand ,_ =_ea .GetStringVal (_bdff );_bggg =append (_bggg ,&_cafb );break ;}else {_cafb .Params =append (_cafb .Params ,_bdff );};};if _cafb .Operand =="\u0042\u0049"{_gaca ,_egd :=_efa .ParseInlineImage ();if _egd !=nil {return &_bggg ,_egd ;
};_cafb .Params =append (_cafb .Params ,_gaca );};};};

// Add_sh appends 'sh' operand to the content stream:
// Paints the shape and colour shading described by a shading dictionary specified by `name`,
// subject to the current clipping path
//
// See section 8.7.4 "Shading Patterns" and Table 77 (p. 190 PDF32000_2008).
func (_ceg *ContentCreator )Add_sh (name _ea .PdfObjectName )*ContentCreator {_ebag :=ContentStreamOperation {};_ebag .Operand ="\u0073\u0068";_ebag .Params =_ceag ([]_ea .PdfObjectName {name });_ceg ._ebd =append (_ceg ._ebd ,&_ebag );return _ceg ;};func _faefg (_dgdf []float64 )[]_ea .PdfObject {var _adea []_ea .PdfObject ;
for _ ,_defd :=range _dgdf {_adea =append (_adea ,_ea .MakeFloat (_defd ));};return _adea ;};

// Operations returns the list of operations.
func (_fbbg *ContentCreator )Operations ()*ContentStreamOperations {return &_fbbg ._ebd };

// String is same as Bytes() except returns as a string for convenience.
func (_ga *ContentCreator )String ()string {return string (_ga ._ebd .Bytes ())};

// Push pushes `gs` on the `gsStack`.
func (_eaff *GraphicStateStack )Push (gs GraphicsState ){*_eaff =append (*_eaff ,gs )};

// Add_Tc appends 'Tc' operand to the content stream:
// Set character spacing.
//
// See section 9.3 "Text State Parameters and Operators" and
// Table 105 (pp. 251-252 PDF32000_2008).
func (_eaad *ContentCreator )Add_Tc (charSpace float64 )*ContentCreator {_gcce :=ContentStreamOperation {};_gcce .Operand ="\u0054\u0063";_gcce .Params =_faefg ([]float64 {charSpace });_eaad ._ebd =append (_eaad ._ebd ,&_gcce );return _eaad ;};

// IsMask checks if an image is a mask.
// The image mask entry in the image dictionary specifies that the image data shall be used as a stencil
// mask for painting in the current color. The mask data is 1bpc, grayscale.
func (_gfcb *ContentStreamInlineImage )IsMask ()(bool ,error ){if _gfcb .ImageMask !=nil {_gdfa ,_bfd :=_gfcb .ImageMask .(*_ea .PdfObjectBool );if !_bfd {_bd .Log .Debug ("\u0049m\u0061\u0067\u0065\u0020\u006d\u0061\u0073\u006b\u0020\u006e\u006ft\u0020\u0061\u0020\u0062\u006f\u006f\u006c\u0065\u0061\u006e");
return false ,_d .New ("\u0069\u006e\u0076\u0061li\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0074\u0079\u0070\u0065");};return bool (*_gdfa ),nil ;};return false ,nil ;};func (_fg *ContentStreamOperations )isWrapped ()bool {if len (*_fg )< 2{return false ;
};_gc :=0;for _ ,_fb :=range *_fg {switch _fb .Operand {case "\u0071":_gc ++;case "\u0051":_gc --;default:if _gc < 1{return false ;};};};return _gc ==0;};

// Add_RG appends 'RG' operand to the content stream:
// Set the stroking colorspace to DeviceRGB and sets the r,g,b colors (0-1 each).
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_aae *ContentCreator )Add_RG (r ,g ,b float64 )*ContentCreator {_cge :=ContentStreamOperation {};_cge .Operand ="\u0052\u0047";_cge .Params =_faefg ([]float64 {r ,g ,b });_aae ._ebd =append (_aae ._ebd ,&_cge );return _aae ;};

// Add_Tj appends 'Tj' operand to the content stream:
// Show a text string.
//
// See section 9.4.3 "Text Showing Operators" and
// Table 209 (pp. 258-259 PDF32000_2008).
func (_eee *ContentCreator )Add_Tj (textstr _ea .PdfObjectString )*ContentCreator {_deb :=ContentStreamOperation {};_deb .Operand ="\u0054\u006a";_deb .Params =_daca ([]_ea .PdfObjectString {textstr });_eee ._ebd =append (_eee ._ebd ,&_deb );return _eee ;
};

// Add_BDC appends 'BDC' operand to the content stream:
// Begins a marked-content sequence with an associated property list terminated by a balancing EMC operator.
// `tag` shall be a name object indicating the role or significance of
// the sequence.
// `propertyList` shall be a dictionary containing the properties of the
//
// See section 14.6 "Marked Content" and Table 320 (p. 561 PDF32000_2008).
func (_bgc *ContentCreator )Add_BDC (tag _ea .PdfObjectName ,propertyList map[string ]_ea .PdfObject )*ContentCreator {_gab :=ContentStreamOperation {};_gab .Operand ="\u0042\u0044\u0043";_gab .Params =_ceag ([]_ea .PdfObjectName {tag });if len (propertyList )> 0{_gab .Params =append (_gab .Params ,_ea .MakeDictMap (propertyList ));
};_bgc ._ebd =append (_bgc ._ebd ,&_gab );return _bgc ;};const (HandlerConditionEnumOperand HandlerConditionEnum =iota ;HandlerConditionEnumAllOperands ;);type handlerEntry struct{Condition HandlerConditionEnum ;Operand string ;Handler HandlerFunc ;};

// Add_Ts appends 'Ts' operand to the content stream:
// Set text rise.
//
// See section 9.3 "Text State Parameters and Operators" and
// Table 105 (pp. 251-252 PDF32000_2008).
func (_bdb *ContentCreator )Add_Ts (rise float64 )*ContentCreator {_bab :=ContentStreamOperation {};_bab .Operand ="\u0054\u0073";_bab .Params =_faefg ([]float64 {rise });_bdb ._ebd =append (_bdb ._ebd ,&_bab );return _bdb ;};

// Add_b appends 'b' operand to the content stream:
// Close, fill and then stroke the path (nonzero winding number rule).
//
// See section 8.5.3 "Path Painting Operators" and Table 60 (p. 143 PDF32000_2008).
func (_cfa *ContentCreator )Add_b ()*ContentCreator {_eba :=ContentStreamOperation {};_eba .Operand ="\u0062";_cfa ._ebd =append (_cfa ._ebd ,&_eba );return _cfa ;};

// Add_Q adds 'Q' operand to the content stream: Pops the most recently stored state from the stack.
//
// See section 8.4.4 "Graphic State Operators" and Table 57 (pp. 135-136 PDF32000_2008).
func (_af *ContentCreator )Add_Q ()*ContentCreator {_ead :=ContentStreamOperation {};_ead .Operand ="\u0051";_af ._ebd =append (_af ._ebd ,&_ead );return _af ;};func _daca (_dgde []_ea .PdfObjectString )[]_ea .PdfObject {var _bacc []_ea .PdfObject ;for _ ,_gdac :=range _dgde {_bacc =append (_bacc ,_ea .MakeString (_gdac .Str ()));
};return _bacc ;};

// WrapIfNeeded wraps the entire contents within q ... Q.  If unbalanced, then adds extra Qs at the end.
// Only does if needed. Ensures that when adding new content, one start with all states
// in the default condition.
func (_gg *ContentStreamOperations )WrapIfNeeded ()*ContentStreamOperations {if len (*_gg )==0{return _gg ;};if _gg .isWrapped (){return _gg ;};*_gg =append ([]*ContentStreamOperation {{Operand :"\u0071"}},*_gg ...);_bfe :=0;for _ ,_eaf :=range *_gg {switch _eaf .Operand {case "\u0071":_bfe ++;
case "\u0051":_bfe --;};};for _bfe > 0{*_gg =append (*_gg ,&ContentStreamOperation {Operand :"\u0051"});_bfe --;};return _gg ;};

// Add_BT appends 'BT' operand to the content stream:
// Begin text.
//
// See section 9.4 "Text Objects" and Table 107 (p. 256 PDF32000_2008).
func (_acc *ContentCreator )Add_BT ()*ContentCreator {_abee :=ContentStreamOperation {};_abee .Operand ="\u0042\u0054";_acc ._ebd =append (_acc ._ebd ,&_abee );return _acc ;};

// NewContentCreator returns a new initialized ContentCreator.
func NewContentCreator ()*ContentCreator {_fbg :=&ContentCreator {};_fbg ._ebd =ContentStreamOperations {};return _fbg ;};

// Add_Tstar appends 'T*' operand to the content stream:
// Move to the start of next line.
//
// See section 9.4.2 "Text Positioning Operators" and
// Table 108 (pp. 257-258 PDF32000_2008).
func (_efc *ContentCreator )Add_Tstar ()*ContentCreator {_gge :=ContentStreamOperation {};_gge .Operand ="\u0054\u002a";_efc ._ebd =append (_efc ._ebd ,&_gge );return _efc ;};

// ContentStreamProcessor defines a data structure and methods for processing a content stream, keeping track of the
// current graphics state, and allowing external handlers to define their own functions as a part of the processing,
// for example rendering or extracting certain information.
type ContentStreamProcessor struct{_cbad GraphicStateStack ;_faee []*ContentStreamOperation ;_gabf GraphicsState ;_eccb []handlerEntry ;_cfab int ;_gdbf bool ;};func (_aagg *ContentStreamProcessor )handleCommand_sc (_bce *ContentStreamOperation ,_ *_fd .PdfPageResources )error {_fafd :=_aagg ._gabf .ColorspaceNonStroking ;
if !_cdbe (_fafd ){if len (_bce .Params )!=_fafd .GetNumComponents (){_bd .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006e\u0075\u006d\u0062\u0065\u0072 \u006f\u0066\u0020\u0070\u0061\u0072\u0061m\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006f\u0072\u0020S\u0043");
_bd .Log .Debug ("\u004e\u0075mb\u0065\u0072\u0020%\u0064\u0020\u006e\u006ft m\u0061tc\u0068\u0069\u006e\u0067\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u0020%\u0054",len (_bce .Params ),_fafd );if !_aagg ._gdbf {return _d .New ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0073");
};_gfcg ,_efdc :=_adaa (_bce .Params );if _efdc !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0074\u006f\u0020\u0067\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_bce .Params );
return _efdc ;};_bce .Params =[]_ea .PdfObject {_gfcg };};};_fcfc ,_dff :=_fafd .ColorFromPdfObjects (_bce .Params );if _dff !=nil {return _dff ;};_aagg ._gabf .ColorNonStroking =_fcfc ;return nil ;};func (_eadd *ContentStreamParser )parseHexString ()(*_ea .PdfObjectString ,error ){_eadd ._bfeb .ReadByte ();
_degb :=[]byte ("\u0030\u0031\u0032\u003345\u0036\u0037\u0038\u0039\u0061\u0062\u0063\u0064\u0065\u0066\u0041\u0042\u0043\u0044E\u0046");var _dcd []byte ;for {_eadd .skipSpaces ();_geeg ,_afdg :=_eadd ._bfeb .Peek (1);if _afdg !=nil {return _ea .MakeString (""),_afdg ;
};if _geeg [0]=='>'{_eadd ._bfeb .ReadByte ();break ;};_dabe ,_ :=_eadd ._bfeb .ReadByte ();if _ad .IndexByte (_degb ,_dabe )>=0{_dcd =append (_dcd ,_dabe );};};if len (_dcd )%2==1{_dcd =append (_dcd ,'0');};_bbbg ,_ :=_e .DecodeString (string (_dcd ));
return _ea .MakeHexString (string (_bbbg )),nil ;};

// Add_k appends 'k' operand to the content stream:
// Same as K but used for nonstroking operations.
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_egc *ContentCreator )Add_k (c ,m ,y ,k float64 )*ContentCreator {_bdd :=ContentStreamOperation {};_bdd .Operand ="\u006b";_bdd .Params =_faefg ([]float64 {c ,m ,y ,k });_egc ._ebd =append (_egc ._ebd ,&_bdd );return _egc ;};

// Add_y appends 'y' operand to the content stream: Append a Bezier curve to the current path from the
// current point to (x3,y3) with (x1, y1) and (x3,y3) as control points.
//
// See section 8.5.2 "Path Construction Operators" and Table 59 (pp. 140-141 PDF32000_2008).
func (_cc *ContentCreator )Add_y (x1 ,y1 ,x3 ,y3 float64 )*ContentCreator {_gdf :=ContentStreamOperation {};_gdf .Operand ="\u0079";_gdf .Params =_faefg ([]float64 {x1 ,y1 ,x3 ,y3 });_cc ._ebd =append (_cc ._ebd ,&_gdf );return _cc ;};

// Add_l adds 'l' operand to the content stream:
// Append a straight line segment from the current point to (x,y).
//
// See section 8.5.2 "Path Construction Operators" and Table 59 (pp. 140-141 PDF32000_2008).
func (_faa *ContentCreator )Add_l (x ,y float64 )*ContentCreator {_bcb :=ContentStreamOperation {};_bcb .Operand ="\u006c";_bcb .Params =_faefg ([]float64 {x ,y });_faa ._ebd =append (_faa ._ebd ,&_bcb );return _faa ;};

// Add_n appends 'n' operand to the content stream:
// End the path without filling or stroking.
//
// See section 8.5.3 "Path Painting Operators" and Table 60 (p. 143 PDF32000_2008).
func (_ecc *ContentCreator )Add_n ()*ContentCreator {_acd :=ContentStreamOperation {};_acd .Operand ="\u006e";_ecc ._ebd =append (_ecc ._ebd ,&_acd );return _ecc ;};

// Add_quote appends "'" operand to the content stream:
// Move to next line and show a string.
//
// See section 9.4.3 "Text Showing Operators" and
// Table 209 (pp. 258-259 PDF32000_2008).
func (_babe *ContentCreator )Add_quote (textstr _ea .PdfObjectString )*ContentCreator {_gcg :=ContentStreamOperation {};_gcg .Operand ="\u0027";_gcg .Params =_daca ([]_ea .PdfObjectString {textstr });_babe ._ebd =append (_babe ._ebd ,&_gcg );return _babe ;
};

// Pop pops and returns the topmost GraphicsState off the `gsStack`.
func (_ffac *GraphicStateStack )Pop ()GraphicsState {_ebdc :=(*_ffac )[len (*_ffac )-1];*_ffac =(*_ffac )[:len (*_ffac )-1];return _ebdc ;};

// Translate applies a simple x-y translation to the transformation matrix.
func (_fe *ContentCreator )Translate (tx ,ty float64 )*ContentCreator {return _fe .Add_cm (1,0,0,1,tx ,ty );};func (_dfcc *ContentStreamParser )parseName ()(_ea .PdfObjectName ,error ){_ade :="";_bfac :=false ;for {_aedf ,_eff :=_dfcc ._bfeb .Peek (1);
if _eff ==_dc .EOF {break ;};if _eff !=nil {return _ea .PdfObjectName (_ade ),_eff ;};if !_bfac {if _aedf [0]=='/'{_bfac =true ;_dfcc ._bfeb .ReadByte ();}else {_bd .Log .Error ("N\u0061\u006d\u0065\u0020\u0073\u0074a\u0072\u0074\u0069\u006e\u0067\u0020\u0077\u0069\u0074h\u0020\u0025\u0073 \u0028%\u0020\u0078\u0029",_aedf ,_aedf );
return _ea .PdfObjectName (_ade ),_fa .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_aedf [0]);};}else {if _ea .IsWhiteSpace (_aedf [0]){break ;}else if (_aedf [0]=='/')||(_aedf [0]=='[')||(_aedf [0]=='(')||(_aedf [0]==']')||(_aedf [0]=='<')||(_aedf [0]=='>'){break ;
}else if _aedf [0]=='#'{_acg ,_ceff :=_dfcc ._bfeb .Peek (3);if _ceff !=nil {return _ea .PdfObjectName (_ade ),_ceff ;};_dfcc ._bfeb .Discard (3);_gfbd ,_ceff :=_e .DecodeString (string (_acg [1:3]));if _ceff !=nil {return _ea .PdfObjectName (_ade ),_ceff ;
};_ade +=string (_gfbd );}else {_ffba ,_ :=_dfcc ._bfeb .ReadByte ();_ade +=string (_ffba );};};};return _ea .PdfObjectName (_ade ),nil ;};

// Scale applies x-y scaling to the transformation matrix.
func (_aa *ContentCreator )Scale (sx ,sy float64 )*ContentCreator {return _aa .Add_cm (sx ,0,0,sy ,0,0);};

// Add_TD appends 'TD' operand to the content stream:
// Move to start of next line with offset (`tx`, `ty`).
//
// See section 9.4.2 "Text Positioning Operators" and
// Table 108 (pp. 257-258 PDF32000_2008).
func (_gce *ContentCreator )Add_TD (tx ,ty float64 )*ContentCreator {_gaaa :=ContentStreamOperation {};_gaaa .Operand ="\u0054\u0044";_gaaa .Params =_faefg ([]float64 {tx ,ty });_gce ._ebd =append (_gce ._ebd ,&_gaaa );return _gce ;};

// Add_B_starred appends 'B*' operand to the content stream:
// Fill and then stroke the path (even-odd rule).
//
// See section 8.5.3 "Path Painting Operators" and Table 60 (p. 143 PDF32000_2008).
func (_fea *ContentCreator )Add_B_starred ()*ContentCreator {_fda :=ContentStreamOperation {};_fda .Operand ="\u0042\u002a";_fea ._ebd =append (_fea ._ebd ,&_fda );return _fea ;};func (_cdg *ContentStreamParser )parseOperand ()(*_ea .PdfObjectString ,error ){var _gcca []byte ;
for {_fgcg ,_ebdd :=_cdg ._bfeb .Peek (1);if _ebdd !=nil {return _ea .MakeString (string (_gcca )),_ebdd ;};if _ea .IsDelimiter (_fgcg [0]){break ;};if _ea .IsWhiteSpace (_fgcg [0]){break ;};_afde ,_ :=_cdg ._bfeb .ReadByte ();_gcca =append (_gcca ,_afde );
};return _ea .MakeString (string (_gcca )),nil ;};

// ContentStreamInlineImage is a representation of an inline image in a Content stream. Everything between the BI and EI operands.
// ContentStreamInlineImage implements the core.PdfObject interface although strictly it is not a PDF object.
type ContentStreamInlineImage struct{BitsPerComponent _ea .PdfObject ;ColorSpace _ea .PdfObject ;Decode _ea .PdfObject ;DecodeParms _ea .PdfObject ;Filter _ea .PdfObject ;Height _ea .PdfObject ;ImageMask _ea .PdfObject ;Intent _ea .PdfObject ;Interpolate _ea .PdfObject ;
Width _ea .PdfObject ;_cega []byte ;_fec *_ab .ImageBase ;};

// Add_K appends 'K' operand to the content stream:
// Set the stroking colorspace to DeviceCMYK and sets the c,m,y,k color (0-1 each component).
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_dcg *ContentCreator )Add_K (c ,m ,y ,k float64 )*ContentCreator {_gaf :=ContentStreamOperation {};_gaf .Operand ="\u004b";_gaf .Params =_faefg ([]float64 {c ,m ,y ,k });_dcg ._ebd =append (_dcg ._ebd ,&_gaf );return _dcg ;};

// GraphicStateStack represents a stack of GraphicsState.
type GraphicStateStack []GraphicsState ;

// SetRelaxedMode sets the relaxed mode for the content stream processor.
func (_gde *ContentStreamProcessor )SetRelaxedMode (val bool ){_gde ._gdbf =val };func (_bagg *ContentStreamProcessor )getColorspace (_aag string ,_efce *_fd .PdfPageResources )(_fd .PdfColorspace ,error ){switch _aag {case "\u0044\u0065\u0076\u0069\u0063\u0065\u0047\u0072\u0061\u0079":return _fd .NewPdfColorspaceDeviceGray (),nil ;
case "\u0044e\u0076\u0069\u0063\u0065\u0052\u0047B":return _fd .NewPdfColorspaceDeviceRGB (),nil ;case "\u0044\u0065\u0076\u0069\u0063\u0065\u0043\u004d\u0059\u004b":return _fd .NewPdfColorspaceDeviceCMYK (),nil ;case "\u0050a\u0074\u0074\u0065\u0072\u006e":return _fd .NewPdfColorspaceSpecialPattern (),nil ;
};if _efce !=nil {_edf ,_bagb :=_efce .GetColorspaceByName (_ea .PdfObjectName (_aag ));if _bagb {return _edf ,nil ;};};switch _aag {case "\u0043a\u006c\u0047\u0072\u0061\u0079":return _fd .NewPdfColorspaceCalGray (),nil ;case "\u0043\u0061\u006c\u0052\u0047\u0042":return _fd .NewPdfColorspaceCalRGB (),nil ;
case "\u004c\u0061\u0062":return _fd .NewPdfColorspaceLab (),nil ;};_bd .Log .Debug ("\u0055\u006e\u006b\u006e\u006f\u0077\u006e\u0020\u0063\u006f\u006c\u006f\u0072\u0073\u0070a\u0063e\u0020\u0072\u0065\u0071\u0075\u0065\u0073\u0074\u0065\u0064\u003a\u0020\u0025\u0073",_aag );
return nil ,_fa .Errorf ("\u0075\u006e\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u0063\u006f\u006c\u006f\u0072\u0073\u0070\u0061\u0063\u0065:\u0020\u0025\u0073",_aag );};func _agb (_dddc *ContentStreamInlineImage )(*_ea .DCTEncoder ,error ){_dfd :=_ea .NewDCTEncoder ();
_aace :=_ad .NewReader (_dddc ._cega );_age ,_cdad :=_dg .DecodeConfig (_aace );if _cdad !=nil {_bd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0064\u0065\u0063\u006f\u0064\u0069\u006e\u0067\u0020\u0066\u0069\u006c\u0065\u003a\u0020\u0025\u0073",_cdad );
return nil ,_cdad ;};switch _age .ColorModel {case _ca .RGBAModel :_dfd .BitsPerComponent =8;_dfd .ColorComponents =3;case _ca .RGBA64Model :_dfd .BitsPerComponent =16;_dfd .ColorComponents =3;case _ca .GrayModel :_dfd .BitsPerComponent =8;_dfd .ColorComponents =1;
case _ca .Gray16Model :_dfd .BitsPerComponent =16;_dfd .ColorComponents =1;case _ca .CMYKModel :_dfd .BitsPerComponent =8;_dfd .ColorComponents =4;case _ca .YCbCrModel :_dfd .BitsPerComponent =8;_dfd .ColorComponents =3;default:return nil ,_d .New ("\u0075\u006e\u0073up\u0070\u006f\u0072\u0074\u0065\u0064\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u006d\u006f\u0064\u0065\u006c");
};_dfd .Width =_age .Width ;_dfd .Height =_age .Height ;_bd .Log .Trace ("\u0044\u0043T\u0020\u0045\u006ec\u006f\u0064\u0065\u0072\u003a\u0020\u0025\u002b\u0076",_dfd );return _dfd ,nil ;};

// GetColorSpace returns the colorspace of the inline image.
func (_abdf *ContentStreamInlineImage )GetColorSpace (resources *_fd .PdfPageResources )(_fd .PdfColorspace ,error ){if _abdf .ColorSpace ==nil {_bd .Log .Debug ("\u0049\u006e\u006c\u0069\u006e\u0065\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u006e\u006f\u0074\u0020\u0068\u0061\u0076i\u006e\u0067\u0020\u0073\u0070\u0065\u0063\u0069\u0066\u0069\u0065\u0064\u0020\u0063\u006f\u006c\u006f\u0072\u0073\u0070\u0061\u0063\u0065\u002c\u0020\u0061\u0073\u0073\u0075\u006di\u006e\u0067\u0020\u0047\u0072a\u0079");
return _fd .NewPdfColorspaceDeviceGray (),nil ;};if _cfc ,_dda :=_abdf .ColorSpace .(*_ea .PdfObjectArray );_dda {return _cagc (_cfc );};_beab ,_bfgfe :=_abdf .ColorSpace .(*_ea .PdfObjectName );if !_bfgfe {_bd .Log .Debug ("E\u0072\u0072\u006f\u0072\u003a\u0020I\u006e\u0076\u0061\u006c\u0069\u0064 \u006f\u0062\u006a\u0065\u0063\u0074\u0020t\u0079\u0070\u0065\u0020\u0028\u0025\u0054\u003b\u0025\u002bv\u0029",_abdf .ColorSpace ,_abdf .ColorSpace );
return nil ,_d .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");};switch *_beab {case "\u0047","\u0044\u0065\u0076\u0069\u0063\u0065\u0047\u0072\u0061\u0079":return _fd .NewPdfColorspaceDeviceGray (),nil ;
case "\u0052\u0047\u0042","\u0044e\u0076\u0069\u0063\u0065\u0052\u0047B":return _fd .NewPdfColorspaceDeviceRGB (),nil ;case "\u0043\u004d\u0059\u004b","\u0044\u0065\u0076\u0069\u0063\u0065\u0043\u004d\u0059\u004b":return _fd .NewPdfColorspaceDeviceCMYK (),nil ;
case "\u0049","\u0049n\u0064\u0065\u0078\u0065\u0064":return nil ,_d .New ("\u0075\u006e\u0073\u0075p\u0070\u006f\u0072\u0074\u0065\u0064\u0020\u0049\u006e\u0064e\u0078 \u0063\u006f\u006c\u006f\u0072\u0073\u0070a\u0063\u0065");default:if resources .ColorSpace ==nil {_bd .Log .Debug ("\u0045\u0072r\u006f\u0072\u002c\u0020\u0075\u006e\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064\u0020\u0069\u006e\u006c\u0069\u006e\u0065\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006c\u006f\u0072\u0073\u0070\u0061\u0063\u0065\u003a\u0020\u0025\u0073",*_beab );
return nil ,_d .New ("\u0075n\u006bn\u006f\u0077\u006e\u0020\u0063o\u006c\u006fr\u0073\u0070\u0061\u0063\u0065");};_aed ,_eeaa :=resources .GetColorspaceByName (*_beab );if !_eeaa {_bd .Log .Debug ("\u0045\u0072r\u006f\u0072\u002c\u0020\u0075\u006e\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064\u0020\u0069\u006e\u006c\u0069\u006e\u0065\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006c\u006f\u0072\u0073\u0070\u0061\u0063\u0065\u003a\u0020\u0025\u0073",*_beab );
return nil ,_d .New ("\u0075n\u006bn\u006f\u0077\u006e\u0020\u0063o\u006c\u006fr\u0073\u0070\u0061\u0063\u0065");};return _aed ,nil ;};};

// Add_s appends 's' operand to the content stream: Close and stroke the path.
//
// See section 8.5.3 "Path Painting Operators" and Table 60 (p. 143 PDF32000_2008).
func (_cfe *ContentCreator )Add_s ()*ContentCreator {_bec :=ContentStreamOperation {};_bec .Operand ="\u0073";_cfe ._ebd =append (_cfe ._ebd ,&_bec );return _cfe ;};

// Add_EMC appends 'EMC' operand to the content stream:
// Ends a marked-content sequence.
//
// See section 14.6 "Marked Content" and Table 320 (p. 561 PDF32000_2008).
func (_aggg *ContentCreator )Add_EMC ()*ContentCreator {_bgd :=ContentStreamOperation {};_bgd .Operand ="\u0045\u004d\u0043";_aggg ._ebd =append (_aggg ._ebd ,&_bgd );return _aggg ;};var _fggg =map[string ]struct{}{"\u0062":{},"\u0042":{},"\u0062\u002a":{},"\u0042\u002a":{},"\u0042\u0044\u0043":{},"\u0042\u0049":{},"\u0042\u004d\u0043":{},"\u0042\u0054":{},"\u0042\u0058":{},"\u0063":{},"\u0063\u006d":{},"\u0043\u0053":{},"\u0063\u0073":{},"\u0064":{},"\u0064\u0030":{},"\u0064\u0031":{},"\u0044\u006f":{},"\u0044\u0050":{},"\u0045\u0049":{},"\u0045\u004d\u0043":{},"\u0045\u0054":{},"\u0045\u0058":{},"\u0066":{},"\u0046":{},"\u0066\u002a":{},"\u0047":{},"\u0067":{},"\u0067\u0073":{},"\u0068":{},"\u0069":{},"\u0049\u0044":{},"\u006a":{},"\u004a":{},"\u004b":{},"\u006b":{},"\u006c":{},"\u006d":{},"\u004d":{},"\u004d\u0050":{},"\u006e":{},"\u0071":{},"\u0051":{},"\u0072\u0065":{},"\u0052\u0047":{},"\u0072\u0067":{},"\u0072\u0069":{},"\u0073":{},"\u0053":{},"\u0053\u0043":{},"\u0073\u0063":{},"\u0053\u0043\u004e":{},"\u0073\u0063\u006e":{},"\u0073\u0068":{},"\u0054\u002a":{},"\u0054\u0063":{},"\u0054\u0064":{},"\u0054\u0044":{},"\u0054\u0066":{},"\u0054\u006a":{},"\u0054\u004a":{},"\u0054\u004c":{},"\u0054\u006d":{},"\u0054\u0072":{},"\u0054\u0073":{},"\u0054\u0077":{},"\u0054\u007a":{},"\u0076":{},"\u0077":{},"\u0057":{},"\u0057\u002a":{},"\u0079":{},"\u0027":{},"\u0022":{}};


// Add_G appends 'G' operand to the content stream:
// Set the stroking colorspace to DeviceGray and sets the gray level (0-1).
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_ff *ContentCreator )Add_G (gray float64 )*ContentCreator {_bgg :=ContentStreamOperation {};_bgg .Operand ="\u0047";_bgg .Params =_faefg ([]float64 {gray });_ff ._ebd =append (_ff ._ebd ,&_bgg );return _ff ;};

// Add_B appends 'B' operand to the content stream:
// Fill and then stroke the path (nonzero winding number rule).
//
// See section 8.5.3 "Path Painting Operators" and Table 60 (p. 143 PDF32000_2008).
func (_ded *ContentCreator )Add_B ()*ContentCreator {_aef :=ContentStreamOperation {};_aef .Operand ="\u0042";_ded ._ebd =append (_ded ._ebd ,&_aef );return _ded ;};

// Add_cm adds 'cm' operation to the content stream: Modifies the current transformation matrix (ctm)
// of the graphics state.
//
// See section 8.4.4 "Graphic State Operators" and Table 57 (pp. 135-136 PDF32000_2008).
func (_dd *ContentCreator )Add_cm (a ,b ,c ,d ,e ,f float64 )*ContentCreator {_ggf :=ContentStreamOperation {};_ggf .Operand ="\u0063\u006d";_ggf .Params =_faefg ([]float64 {a ,b ,c ,d ,e ,f });_dd ._ebd =append (_dd ._ebd ,&_ggf );return _dd ;};

// NewInlineImageFromImage makes a new content stream inline image object from an image.
func NewInlineImageFromImage (img _fd .Image ,encoder _ea .StreamEncoder )(*ContentStreamInlineImage ,error ){if encoder ==nil {encoder =_ea .NewRawEncoder ();};encoder .UpdateParams (img .GetParamsDict ());_gbdg :=ContentStreamInlineImage {};switch img .ColorComponents {case 1:_gbdg .ColorSpace =_ea .MakeName ("\u0047");
case 3:_gbdg .ColorSpace =_ea .MakeName ("\u0052\u0047\u0042");case 4:_gbdg .ColorSpace =_ea .MakeName ("\u0043\u004d\u0059\u004b");default:_bd .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064 \u006e\u0075\u006db\u0065\u0072\u0020o\u0066\u0020c\u006f\u006c\u006f\u0072\u0020\u0063o\u006dpo\u006e\u0065\u006e\u0074\u0073\u0020\u0066\u006f\u0072\u0020\u0069\u006e\u006c\u0069\u006e\u0065\u0020\u0069\u006d\u0061\u0067\u0065\u003a\u0020\u0025\u0064",img .ColorComponents );
return nil ,_d .New ("\u0069\u006e\u0076al\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072 \u006ff\u0020c\u006fl\u006f\u0072\u0020\u0063\u006f\u006d\u0070\u006f\u006e\u0065\u006e\u0074\u0073");};_gbdg .BitsPerComponent =_ea .MakeInteger (img .BitsPerComponent );
_gbdg .Width =_ea .MakeInteger (img .Width );_gbdg .Height =_ea .MakeInteger (img .Height );_ccf ,_cfb :=encoder .EncodeBytes (img .Data );if _cfb !=nil {return nil ,_cfb ;};_gbdg ._cega =_ccf ;_aaea :=encoder .GetFilterName ();if _aaea !=_ea .StreamEncodingFilterNameRaw {_gbdg .Filter =_ea .MakeName (_aaea );
};return &_gbdg ,nil ;};

// Add_f appends 'f' operand to the content stream:
// Fill the path using the nonzero winding number rule to determine fill region.
//
// See section 8.5.3 "Path Painting Operators" and Table 60 (p. 143 PDF32000_2008).
func (_bca *ContentCreator )Add_f ()*ContentCreator {_gbb :=ContentStreamOperation {};_gbb .Operand ="\u0066";_bca ._ebd =append (_bca ._ebd ,&_gbb );return _bca ;};

// Operand returns true if `hce` is equivalent to HandlerConditionEnumOperand.
func (_badc HandlerConditionEnum )Operand ()bool {return _badc ==HandlerConditionEnumOperand };

// Wrap ensures that the contentstream is wrapped within a balanced q ... Q expression.
func (_dgfb *ContentCreator )Wrap (){_dgfb ._ebd .WrapIfNeeded ()};

// ParseInlineImage parses an inline image from a content stream, both reading its properties and binary data.
// When called, "BI" has already been read from the stream.  This function
// finishes reading through "EI" and then returns the ContentStreamInlineImage.
func (_gcceb *ContentStreamParser )ParseInlineImage ()(*ContentStreamInlineImage ,error ){_bgfe :=ContentStreamInlineImage {};for {_gcceb .skipSpaces ();_acdbd ,_gcd ,_aacc :=_gcceb .parseObject ();if _aacc !=nil {return nil ,_aacc ;};if !_gcd {_gaad ,_bag :=_ea .GetName (_acdbd );
if !_bag {_bd .Log .Debug ("\u0049\u006e\u0076\u0061\u006ci\u0064\u0020\u0069\u006e\u006c\u0069\u006e\u0065\u0020\u0069\u006d\u0061\u0067e\u0020\u0070\u0072\u006f\u0070\u0065\u0072\u0074\u0079\u0020\u0028\u0065\u0078\u0070\u0065\u0063\u0074\u0069\u006e\u0067\u0020\u006e\u0061\u006d\u0065\u0029\u0020\u002d\u0020\u0025T",_acdbd );
return nil ,_fa .Errorf ("\u0069\u006e\u0076\u0061\u006ci\u0064\u0020\u0069\u006e\u006c\u0069\u006e\u0065\u0020\u0069\u006d\u0061\u0067e\u0020\u0070\u0072\u006f\u0070\u0065\u0072\u0074\u0079\u0020\u0028\u0065\u0078\u0070\u0065\u0063\u0074\u0069\u006e\u0067\u0020\u006e\u0061\u006d\u0065\u0029\u0020\u002d\u0020\u0025T",_acdbd );
};_cbbb ,_cca ,_cfef :=_gcceb .parseObject ();if _cfef !=nil {return nil ,_cfef ;};if _cca {return nil ,_fa .Errorf ("\u006eo\u0074\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0069\u006e\u0067 \u0061\u006e\u0020\u006f\u0070\u0065\u0072\u0061\u006e\u0064");
};switch *_gaad {case "\u0042\u0050\u0043","\u0042\u0069t\u0073\u0050\u0065r\u0043\u006f\u006d\u0070\u006f\u006e\u0065\u006e\u0074":_bgfe .BitsPerComponent =_cbbb ;case "\u0043\u0053","\u0043\u006f\u006c\u006f\u0072\u0053\u0070\u0061\u0063\u0065":_bgfe .ColorSpace =_cbbb ;
case "\u0044","\u0044\u0065\u0063\u006f\u0064\u0065":_bgfe .Decode =_cbbb ;case "\u0044\u0050","D\u0065\u0063\u006f\u0064\u0065\u0050\u0061\u0072\u006d\u0073":_bgfe .DecodeParms =_cbbb ;case "\u0046","\u0046\u0069\u006c\u0074\u0065\u0072":_bgfe .Filter =_cbbb ;
case "\u0048","\u0048\u0065\u0069\u0067\u0068\u0074":_bgfe .Height =_cbbb ;case "\u0049\u004d","\u0049m\u0061\u0067\u0065\u004d\u0061\u0073k":_bgfe .ImageMask =_cbbb ;case "\u0049\u006e\u0074\u0065\u006e\u0074":_bgfe .Intent =_cbbb ;case "\u0049","I\u006e\u0074\u0065\u0072\u0070\u006f\u006c\u0061\u0074\u0065":_bgfe .Interpolate =_cbbb ;
case "\u0057","\u0057\u0069\u0064t\u0068":_bgfe .Width =_cbbb ;case "\u004c\u0065\u006e\u0067\u0074\u0068","\u004c","\u0053u\u0062\u0074\u0079\u0070\u0065","\u0054\u0079\u0070\u0065":_bd .Log .Debug ("\u0049\u0067\u006e\u006fr\u0069\u006e\u0067\u0020\u0069\u006e\u006c\u0069\u006e\u0065 \u0070a\u0072\u0061\u006d\u0065\u0074\u0065\u0072 \u0025\u0073",*_gaad );
default:return nil ,_fa .Errorf ("\u0075\u006e\u006b\u006e\u006f\u0077n\u0020\u0069\u006e\u006c\u0069\u006e\u0065\u0020\u0069\u006d\u0061\u0067\u0065 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0020\u0025\u0073",*_gaad );};};if _gcd {_dfa ,_ffa :=_acdbd .(*_ea .PdfObjectString );
if !_ffa {return nil ,_fa .Errorf ("\u0066a\u0069\u006ce\u0064\u0020\u0074o\u0020\u0072\u0065\u0061\u0064\u0020\u0069n\u006c\u0069\u006e\u0065\u0020\u0069m\u0061\u0067\u0065\u0020\u002d\u0020\u0069\u006e\u0076\u0061\u006ci\u0064\u0020\u006f\u0070\u0065\u0072\u0061\u006e\u0064");
};if _dfa .Str ()=="\u0045\u0049"{_bd .Log .Trace ("\u0049n\u006c\u0069\u006e\u0065\u0020\u0069\u006d\u0061\u0067\u0065\u0020f\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e\u002e\u002e");return &_bgfe ,nil ;}else if _dfa .Str ()=="\u0049\u0044"{_bd .Log .Trace ("\u0049\u0044\u0020\u0073\u0074\u0061\u0072\u0074");
_dab ,_dcgc :=_gcceb ._bfeb .Peek (1);if _dcgc !=nil {return nil ,_dcgc ;};if _ea .IsWhiteSpace (_dab [0]){_gcceb ._bfeb .Discard (1);};_bgfe ._cega =[]byte {};_daff :=0;var _cgga []byte ;for {_dccf ,_efb :=_gcceb ._bfeb .ReadByte ();if _efb !=nil {_bd .Log .Debug ("\u0055\u006e\u0061\u0062\u006ce\u0020\u0074\u006f\u0020\u0066\u0069\u006e\u0064\u0020\u0065\u006e\u0064\u0020o\u0066\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0045\u0049\u0020\u0069\u006e\u0020\u0069\u006e\u006c\u0069\u006e\u0065\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0064\u0061\u0074a");
return nil ,_efb ;};if _daff ==0{if _ea .IsWhiteSpace (_dccf ){_cgga =[]byte {};_cgga =append (_cgga ,_dccf );_daff =1;}else if _dccf =='E'{_cgga =append (_cgga ,_dccf );_daff =2;}else {_bgfe ._cega =append (_bgfe ._cega ,_dccf );};}else if _daff ==1{_cgga =append (_cgga ,_dccf );
if _dccf =='E'{_daff =2;}else {_bgfe ._cega =append (_bgfe ._cega ,_cgga ...);_cgga =[]byte {};if _ea .IsWhiteSpace (_dccf ){_daff =1;}else {_daff =0;};};}else if _daff ==2{_cgga =append (_cgga ,_dccf );if _dccf =='I'{_daff =3;}else {_bgfe ._cega =append (_bgfe ._cega ,_cgga ...);
_cgga =[]byte {};_daff =0;};}else if _daff ==3{_cgga =append (_cgga ,_dccf );if _ea .IsWhiteSpace (_dccf ){_cfd ,_dbcg :=_gcceb ._bfeb .Peek (20);if _dbcg !=nil &&_dbcg !=_dc .EOF {return nil ,_dbcg ;};_cecc :=NewContentStreamParser (string (_cfd ));_ceb :=true ;
for _cbbd :=0;_cbbd < 3;_cbbd ++{_gbf ,_ccc ,_aea :=_cecc .parseObject ();if _aea !=nil {if _aea ==_dc .EOF {break ;};_ceb =false ;continue ;};if _ccc &&!_fgcf (_gbf .String ()){_ceb =false ;break ;};};if _ceb {if len (_bgfe ._cega )> 100{_bd .Log .Trace ("\u0049\u006d\u0061\u0067\u0065\u0020\u0073\u0074\u0072\u0065\u0061m\u0020\u0028\u0025\u0064\u0029\u003a\u0020\u0025\u0020\u0078 \u002e\u002e\u002e",len (_bgfe ._cega ),_bgfe ._cega [:100]);
}else {_bd .Log .Trace ("\u0049\u006d\u0061\u0067e \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u0028\u0025\u0064\u0029\u003a\u0020\u0025 \u0078",len (_bgfe ._cega ),_bgfe ._cega );};return &_bgfe ,nil ;};};_bgfe ._cega =append (_bgfe ._cega ,_cgga ...);
_cgga =[]byte {};_daff =0;};};};};};};

// Add_q adds 'q' operand to the content stream: Pushes the current graphics state on the stack.
//
// See section 8.4.4 "Graphic State Operators" and Table 57 (pp. 135-136 PDF32000_2008).
func (_bff *ContentCreator )Add_q ()*ContentCreator {_bfa :=ContentStreamOperation {};_bfa .Operand ="\u0071";_bff ._ebd =append (_bff ._ebd ,&_bfa );return _bff ;};

// Add_W_starred appends 'W*' operand to the content stream:
// Modify the current clipping path by intersecting with the current path (even odd rule).
//
// See section 8.5.4 "Clipping Path Operators" and Table 61 (p. 146 PDF32000_2008).
func (_cec *ContentCreator )Add_W_starred ()*ContentCreator {_eca :=ContentStreamOperation {};_eca .Operand ="\u0057\u002a";_cec ._ebd =append (_cec ._ebd ,&_eca );return _cec ;};

// String returns `ops.Bytes()` as a string.
func (_eb *ContentStreamOperations )String ()string {return string (_eb .Bytes ())};

// ContentStreamOperations is a slice of ContentStreamOperations.
type ContentStreamOperations []*ContentStreamOperation ;

// Add_Tm appends 'Tm' operand to the content stream:
// Set the text line matrix.
//
// See section 9.4.2 "Text Positioning Operators" and
// Table 108 (pp. 257-258 PDF32000_2008).
func (_gac *ContentCreator )Add_Tm (a ,b ,c ,d ,e ,f float64 )*ContentCreator {_fc :=ContentStreamOperation {};_fc .Operand ="\u0054\u006d";_fc .Params =_faefg ([]float64 {a ,b ,c ,d ,e ,f });_gac ._ebd =append (_gac ._ebd ,&_fc );return _gac ;};

// Add_Do adds 'Do' operation to the content stream:
// Displays an XObject (image or form) specified by `name`.
//
// See section 8.8 "External Objects" and Table 87 (pp. 209-220 PDF32000_2008).
func (_gaa *ContentCreator )Add_Do (name _ea .PdfObjectName )*ContentCreator {_bac :=ContentStreamOperation {};_bac .Operand ="\u0044\u006f";_bac .Params =_ceag ([]_ea .PdfObjectName {name });_gaa ._ebd =append (_gaa ._ebd ,&_bac );return _gaa ;};

// Add_v appends 'v' operand to the content stream: Append a Bezier curve to the current path from the
// current point to (x3,y3) with the current point and (x2,y2) as control points.
//
// See section 8.5.2 "Path Construction Operators" and Table 59 (pp. 140-141 PDF32000_2008).
func (_ddcg *ContentCreator )Add_v (x2 ,y2 ,x3 ,y3 float64 )*ContentCreator {_ddd :=ContentStreamOperation {};_ddd .Operand ="\u0076";_ddd .Params =_faefg ([]float64 {x2 ,y2 ,x3 ,y3 });_ddcg ._ebd =append (_ddcg ._ebd ,&_ddd );return _ddcg ;};func (_ecfc *ContentStreamProcessor )handleCommand_K (_caga *ContentStreamOperation ,_ *_fd .PdfPageResources )error {_fcbe :=_fd .NewPdfColorspaceDeviceCMYK ();
if len (_caga .Params )!=_fcbe .GetNumComponents (){_bd .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006e\u0075\u006d\u0062\u0065\u0072 \u006f\u0066\u0020\u0070\u0061\u0072\u0061m\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006f\u0072\u0020S\u0043");
_bd .Log .Debug ("\u004e\u0075mb\u0065\u0072\u0020%\u0064\u0020\u006e\u006ft m\u0061tc\u0068\u0069\u006e\u0067\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u0020%\u0054",len (_caga .Params ),_fcbe );return _d .New ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0073");
};_gda ,_affb :=_fcbe .ColorFromPdfObjects (_caga .Params );if _affb !=nil {return _affb ;};_ecfc ._gabf .ColorspaceStroking =_fcbe ;_ecfc ._gabf .ColorStroking =_gda ;return nil ;};func (_acec *ContentStreamParser )parseObject ()(_beef _ea .PdfObject ,_gfd bool ,_fca error ){_acec .skipSpaces ();
for {_fcd ,_ecf :=_acec ._bfeb .Peek (2);if _ecf !=nil {return nil ,false ,_ecf ;};_bd .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_fcd ));if _fcd [0]=='%'{_acec .skipComments ();continue ;}else if _fcd [0]=='/'{_ddad ,_cgbg :=_acec .parseName ();
_bd .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_ddad );return &_ddad ,false ,_cgbg ;}else if _fcd [0]=='('{_bd .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");_dbdb ,_ddde :=_acec .parseString ();return _dbdb ,false ,_ddde ;
}else if _fcd [0]=='<'&&_fcd [1]!='<'{_bd .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0053\u0074\u0072\u0069\u006e\u0067\u0021");_dgbe ,_aggb :=_acec .parseHexString ();return _dgbe ,false ,_aggb ;}else if _fcd [0]=='['{_bd .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
_gcga ,_ecdc :=_acec .parseArray ();return _gcga ,false ,_ecdc ;}else if _ea .IsFloatDigit (_fcd [0])||(_fcd [0]=='-'&&_ea .IsFloatDigit (_fcd [1]))||(_fcd [0]=='+'&&_ea .IsFloatDigit (_fcd [1])){_bd .Log .Trace ("\u002d>\u004e\u0075\u006d\u0062\u0065\u0072!");
_dae ,_daa :=_acec .parseNumber ();return _dae ,false ,_daa ;}else if _fcd [0]=='<'&&_fcd [1]=='<'{_eaaa ,_gcdg :=_acec .parseDict ();return _eaaa ,false ,_gcdg ;}else {_bd .Log .Trace ("\u002d>\u004fp\u0065\u0072\u0061\u006e\u0064 \u006f\u0072 \u0062\u006f\u006f\u006c\u003f");
_fcd ,_ =_acec ._bfeb .Peek (5);_ddaa :=string (_fcd );_bd .Log .Trace ("\u0063\u006f\u006e\u0074\u0020\u0050\u0065\u0065\u006b\u0020\u0073\u0074r\u003a\u0020\u0025\u0073",_ddaa );if (len (_ddaa )> 3)&&(_ddaa [:4]=="\u006e\u0075\u006c\u006c"){_dbaef ,_debd :=_acec .parseNull ();
return &_dbaef ,false ,_debd ;}else if (len (_ddaa )> 4)&&(_ddaa [:5]=="\u0066\u0061\u006cs\u0065"){_aefc ,_ddeg :=_acec .parseBool ();return &_aefc ,false ,_ddeg ;}else if (len (_ddaa )> 3)&&(_ddaa [:4]=="\u0074\u0072\u0075\u0065"){_efeb ,_cdb :=_acec .parseBool ();
return &_efeb ,false ,_cdb ;};_egg ,_gdfb :=_acec .parseOperand ();if _gdfb !=nil {return _egg ,false ,_gdfb ;};if len (_egg .String ())< 1{return _egg ,false ,ErrInvalidOperand ;};return _egg ,true ,nil ;};};};

// Add_BMC appends 'BMC' operand to the content stream:
// Begins a marked-content sequence terminated by a balancing EMC operator.
// `tag` shall be a name object indicating the role or significance of
// the sequence.
//
// See section 14.6 "Marked Content" and Table 320 (p. 561 PDF32000_2008).
func (_abcc *ContentCreator )Add_BMC (tag _ea .PdfObjectName )*ContentCreator {_faf :=ContentStreamOperation {};_faf .Operand ="\u0042\u004d\u0043";_faf .Params =_ceag ([]_ea .PdfObjectName {tag });_abcc ._ebd =append (_abcc ._ebd ,&_faf );return _abcc ;
};func (_gdea *ContentStreamProcessor )handleCommand_rg (_bagd *ContentStreamOperation ,_ *_fd .PdfPageResources )error {_aaec :=_fd .NewPdfColorspaceDeviceRGB ();if len (_bagd .Params )!=_aaec .GetNumComponents (){_bd .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006e\u0075\u006d\u0062\u0065\u0072 \u006f\u0066\u0020\u0070\u0061\u0072\u0061m\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006f\u0072\u0020S\u0043");
_bd .Log .Debug ("\u004e\u0075mb\u0065\u0072\u0020%\u0064\u0020\u006e\u006ft m\u0061tc\u0068\u0069\u006e\u0067\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u0020%\u0054",len (_bagd .Params ),_aaec );if !_gdea ._gdbf {return _d .New ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0073");
};_ddf ,_bcac :=_adaa (_bagd .Params );if _bcac !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0074\u006f\u0020\u0067\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_bagd .Params );
return _bcac ;};_bagd .Params =[]_ea .PdfObject {_ddf };};_ggeb ,_agad :=_aaec .ColorFromPdfObjects (_bagd .Params );if _agad !=nil {return _agad ;};_gdea ._gabf .ColorspaceNonStroking =_aaec ;_gdea ._gabf .ColorNonStroking =_ggeb ;return nil ;};

// GraphicsState is a basic graphics state implementation for PDF processing.
// Initially only implementing and tracking a portion of the information specified. Easy to add more.
type GraphicsState struct{ColorspaceStroking _fd .PdfColorspace ;ColorspaceNonStroking _fd .PdfColorspace ;ColorStroking _fd .PdfColor ;ColorNonStroking _fd .PdfColor ;CTM _adb .Matrix ;};

// Process processes the entire list of operations. Maintains the graphics state that is passed to any
// handlers that are triggered during processing (either on specific operators or all).
func (_eeba *ContentStreamProcessor )Process (resources *_fd .PdfPageResources )error {_eeba ._gabf .ColorspaceStroking =_fd .NewPdfColorspaceDeviceGray ();_eeba ._gabf .ColorspaceNonStroking =_fd .NewPdfColorspaceDeviceGray ();_eeba ._gabf .ColorStroking =_fd .NewPdfColorDeviceGray (0);
_eeba ._gabf .ColorNonStroking =_fd .NewPdfColorDeviceGray (0);_eeba ._gabf .CTM =_adb .IdentityMatrix ();for _ ,_dgg :=range _eeba ._faee {var _dbad error ;switch _dgg .Operand {case "\u0071":_eeba ._cbad .Push (_eeba ._gabf );case "\u0051":if len (_eeba ._cbad )==0{_bd .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0060\u0051\u0060\u0020\u006f\u0070e\u0072\u0061\u0074\u006f\u0072\u002e\u0020\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074\u0061\u0074\u0065 \u0073\u0074\u0061\u0063\u006b\u0020\u0069\u0073\u0020\u0065\u006d\u0070\u0074\u0079.\u0020\u0053\u006bi\u0070\u0070\u0069\u006e\u0067\u002e");
continue ;};_eeba ._gabf =_eeba ._cbad .Pop ();case "\u0043\u0053":_dbad =_eeba .handleCommand_CS (_dgg ,resources );case "\u0063\u0073":_dbad =_eeba .handleCommand_cs (_dgg ,resources );case "\u0053\u0043":_dbad =_eeba .handleCommand_SC (_dgg ,resources );
case "\u0053\u0043\u004e":_dbad =_eeba .handleCommand_SCN (_dgg ,resources );case "\u0073\u0063":_dbad =_eeba .handleCommand_sc (_dgg ,resources );case "\u0073\u0063\u006e":_dbad =_eeba .handleCommand_scn (_dgg ,resources );case "\u0047":_dbad =_eeba .handleCommand_G (_dgg ,resources );
case "\u0067":_dbad =_eeba .handleCommand_g (_dgg ,resources );case "\u0052\u0047":_dbad =_eeba .handleCommand_RG (_dgg ,resources );case "\u0072\u0067":_dbad =_eeba .handleCommand_rg (_dgg ,resources );case "\u004b":_dbad =_eeba .handleCommand_K (_dgg ,resources );
case "\u006b":_dbad =_eeba .handleCommand_k (_dgg ,resources );case "\u0063\u006d":_dbad =_eeba .handleCommand_cm (_dgg ,resources );};if _dbad !=nil {_bd .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073s\u006f\u0072\u0020\u0068\u0061\u006e\u0064\u006c\u0069\u006e\u0067\u0020\u0065r\u0072\u006f\u0072\u0020\u0028\u0025\u0073)\u003a\u0020\u0025\u0076",_dgg .Operand ,_dbad );
_bd .Log .Debug ("\u004f\u0070\u0065r\u0061\u006e\u0064\u003a\u0020\u0025\u0023\u0076",_dgg .Operand );return _dbad ;};for _ ,_ebae :=range _eeba ._eccb {var _bggb error ;if _ebae .Condition .All (){_bggb =_ebae .Handler (_dgg ,_eeba ._gabf ,resources );
}else if _ebae .Condition .Operand ()&&_dgg .Operand ==_ebae .Operand {_bggb =_ebae .Handler (_dgg ,_eeba ._gabf ,resources );};if _bggb !=nil {_bd .Log .Debug ("P\u0072\u006f\u0063\u0065\u0073\u0073o\u0072\u0020\u0068\u0061\u006e\u0064\u006c\u0065\u0072 \u0065\u0072\u0072o\u0072:\u0020\u0025\u0076",_bggb );
return _bggb ;};};};return nil ;};func (_effa *ContentStreamProcessor )handleCommand_SCN (_ebcg *ContentStreamOperation ,_ *_fd .PdfPageResources )error {_gfdf :=_effa ._gabf .ColorspaceStroking ;if !_cdbe (_gfdf ){if len (_ebcg .Params )!=_gfdf .GetNumComponents (){_bd .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006e\u0075\u006d\u0062\u0065\u0072 \u006f\u0066\u0020\u0070\u0061\u0072\u0061m\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006f\u0072\u0020S\u0043");
_bd .Log .Debug ("\u004e\u0075mb\u0065\u0072\u0020%\u0064\u0020\u006e\u006ft m\u0061tc\u0068\u0069\u006e\u0067\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u0020%\u0054",len (_ebcg .Params ),_gfdf );if !_effa ._gdbf {return _d .New ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0073");
};_beeg ,_eafcf :=_adaa (_ebcg .Params );if _eafcf !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0074\u006f\u0020\u0067\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_ebcg .Params );
return _eafcf ;};_ebcg .Params =[]_ea .PdfObject {_beeg };};};_geec ,_gbbef :=_gfdf .ColorFromPdfObjects (_ebcg .Params );if _gbbef !=nil {return _gbbef ;};_effa ._gabf .ColorStroking =_geec ;return nil ;};func (_dfef *ContentStreamInlineImage )String ()string {var _cbc _ad .Buffer ;
_cbc .WriteString (_fa .Sprintf ("I\u006el\u0069\u006e\u0065\u0049\u006d\u0061\u0067\u0065(\u006c\u0065\u006e\u003d%d\u0029\u000a",len (_dfef ._cega )));if _dfef .BitsPerComponent !=nil {_cbc .WriteString ("\u002f\u0042\u0050C\u0020");_cbc .Write (_dfef .BitsPerComponent .Write ());
_cbc .WriteByte ('\n');};if _dfef .ColorSpace !=nil {_cbc .WriteString ("\u002f\u0043\u0053\u0020");_cbc .Write (_dfef .ColorSpace .Write ());_cbc .WriteByte ('\n');};if _dfef .Decode !=nil {_cbc .WriteString ("\u002f\u0044\u0020");_cbc .Write (_dfef .Decode .Write ());
_cbc .WriteByte ('\n');};if _dfef .DecodeParms !=nil {_cbc .WriteString ("\u002f\u0044\u0050\u0020");_cbc .Write (_dfef .DecodeParms .Write ());_cbc .WriteByte ('\n');};if _dfef .Filter !=nil {_cbc .WriteString ("\u002f\u0046\u0020");_cbc .Write (_dfef .Filter .Write ());
_cbc .WriteByte ('\n');};if _dfef .Height !=nil {_cbc .WriteString ("\u002f\u0048\u0020");_cbc .Write (_dfef .Height .Write ());_cbc .WriteByte ('\n');};if _dfef .ImageMask !=nil {_cbc .WriteString ("\u002f\u0049\u004d\u0020");_cbc .Write (_dfef .ImageMask .Write ());
_cbc .WriteByte ('\n');};if _dfef .Intent !=nil {_cbc .WriteString ("\u002f\u0049\u006e\u0074\u0065\u006e\u0074\u0020");_cbc .Write (_dfef .Intent .Write ());_cbc .WriteByte ('\n');};if _dfef .Interpolate !=nil {_cbc .WriteString ("\u002f\u0049\u0020");
_cbc .Write (_dfef .Interpolate .Write ());_cbc .WriteByte ('\n');};if _dfef .Width !=nil {_cbc .WriteString ("\u002f\u0057\u0020");_cbc .Write (_dfef .Width .Write ());_cbc .WriteByte ('\n');};return _cbc .String ();};

// Add_Tr appends 'Tr' operand to the content stream:
// Set text rendering mode.
//
// See section 9.3 "Text State Parameters and Operators" and
// Table 105 (pp. 251-252 PDF32000_2008).
func (_cde *ContentCreator )Add_Tr (render int64 )*ContentCreator {_caca :=ContentStreamOperation {};_caca .Operand ="\u0054\u0072";_caca .Params =_egef ([]int64 {render });_cde ._ebd =append (_cde ._ebd ,&_caca );return _cde ;};func (_gfbf *ContentStreamProcessor )handleCommand_g (_efac *ContentStreamOperation ,_ *_fd .PdfPageResources )error {_beac :=_fd .NewPdfColorspaceDeviceGray ();
if len (_efac .Params )!=_beac .GetNumComponents (){_bd .Log .Debug ("\u0049\u006e\u0076al\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072 \u006ff\u0020p\u0061r\u0061\u006d\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006f\u0072\u0020\u0067");_bd .Log .Debug ("\u004e\u0075mb\u0065\u0072\u0020%\u0064\u0020\u006e\u006ft m\u0061tc\u0068\u0069\u006e\u0067\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u0020%\u0054",len (_efac .Params ),_beac );
if !_gfbf ._gdbf {return _d .New ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0073");};_ccge ,_cfcb :=_adaa (_efac .Params );if _cfcb !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0074\u006f\u0020\u0067\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_efac .Params );
return _cfcb ;};_efac .Params =[]_ea .PdfObject {_ccge };};_ageb ,_affa :=_beac .ColorFromPdfObjects (_efac .Params );if _affa !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004fR\u003a\u0020\u0068\u0061\u006e\u0064\u006c\u0065\u0043o\u006d\u006d\u0061\u006e\u0064\u005f\u0067\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0070\u0061r\u0061\u006d\u0073\u002e\u0020c\u0073\u003d\u0025\u0054\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_beac ,_efac ,_affa );
return _affa ;};_gfbf ._gabf .ColorspaceNonStroking =_beac ;_gfbf ._gabf .ColorNonStroking =_ageb ;return nil ;};func (_fcec *ContentStreamInlineImage )toImageBase (_dcggg *_fd .PdfPageResources )(*_ab .ImageBase ,error ){if _fcec ._fec !=nil {return _fcec ._fec ,nil ;
};_gfe :=_ab .ImageBase {};if _fcec .Height ==nil {return nil ,_d .New ("\u0068e\u0069\u0067\u0068\u0074\u0020\u0061\u0074\u0074\u0072\u0069\u0062u\u0074\u0065\u0020\u006d\u0069\u0073\u0073\u0069\u006e\u0067");};_ebda ,_bed :=_fcec .Height .(*_ea .PdfObjectInteger );
if !_bed {return nil ,_d .New ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0068e\u0069\u0067\u0068\u0074");};_gfe .Height =int (*_ebda );if _fcec .Width ==nil {return nil ,_d .New ("\u0077\u0069\u0064th\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006d\u0069\u0073\u0073\u0069\u006e\u0067");
};_accb ,_bed :=_fcec .Width .(*_ea .PdfObjectInteger );if !_bed {return nil ,_d .New ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0077\u0069\u0064\u0074\u0068");};_gfe .Width =int (*_accb );_gef ,_gace :=_fcec .IsMask ();if _gace !=nil {return nil ,_gace ;
};if _gef {_gfe .BitsPerComponent =1;_gfe .ColorComponents =1;}else {if _fcec .BitsPerComponent ==nil {_bd .Log .Debug ("\u0049\u006el\u0069\u006e\u0065\u0020\u0042\u0069\u0074\u0073\u0020\u0070\u0065\u0072\u0020\u0063\u006f\u006d\u0070\u006f\u006e\u0065\u006e\u0074\u0020\u006d\u0069\u0073\u0073\u0069\u006e\u0067\u0020\u002d\u0020\u0061\u0073\u0073\u0075\u006d\u0069\u006e\u0067\u0020\u0038");
_gfe .BitsPerComponent =8;}else {_bde ,_fba :=_fcec .BitsPerComponent .(*_ea .PdfObjectInteger );if !_fba {_bd .Log .Debug ("E\u0072\u0072\u006f\u0072\u0020\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0062\u0069\u0074\u0073 p\u0065\u0072\u0020\u0063o\u006d\u0070\u006f\u006e\u0065\u006e\u0074\u0020\u0076al\u0075\u0065,\u0020\u0074\u0079\u0070\u0065\u0020\u0025\u0054",_fcec .BitsPerComponent );
return nil ,_d .New ("\u0042\u0050\u0043\u0020\u0054\u0079\u0070\u0065\u0020e\u0072\u0072\u006f\u0072");};_gfe .BitsPerComponent =int (*_bde );};if _fcec .ColorSpace !=nil {_dccb ,_bbf :=_fcec .GetColorSpace (_dcggg );if _bbf !=nil {return nil ,_bbf ;};
_gfe .ColorComponents =_dccb .GetNumComponents ();}else {_bd .Log .Debug ("\u0049\u006el\u0069\u006e\u0065\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006c\u006f\u0072\u0073\u0070\u0061\u0063e\u0020\u006e\u006f\u0074\u0020\u0073p\u0065\u0063\u0069\u0066\u0069\u0065\u0064\u0020\u002d\u0020\u0061\u0073\u0073\u0075m\u0069\u006eg\u0020\u0031\u0020\u0063o\u006c\u006f\u0072\u0020\u0063o\u006d\u0070\u006f\u006e\u0065\u006e\u0074");
_gfe .ColorComponents =1;};};if _cad ,_fab :=_ea .GetArray (_fcec .Decode );_fab {_gfe .Decode ,_gace =_cad .ToFloat64Array ();if _gace !=nil {return nil ,_gace ;};};_fcec ._fec =&_gfe ;return _fcec ._fec ,nil ;};

// Add_Tw appends 'Tw' operand to the content stream:
// Set word spacing.
//
// See section 9.3 "Text State Parameters and Operators" and
// Table 105 (pp. 251-252 PDF32000_2008).
func (_afc *ContentCreator )Add_Tw (wordSpace float64 )*ContentCreator {_agg :=ContentStreamOperation {};_agg .Operand ="\u0054\u0077";_agg .Params =_faefg ([]float64 {wordSpace });_afc ._ebd =append (_afc ._ebd ,&_agg );return _afc ;};func _fegb (_ebg *ContentStreamInlineImage )(*_ea .MultiEncoder ,error ){_dgdg :=_ea .NewMultiEncoder ();
var _caagg *_ea .PdfObjectDictionary ;var _dcb []_ea .PdfObject ;if _ace :=_ebg .DecodeParms ;_ace !=nil {_aaa ,_fcc :=_ace .(*_ea .PdfObjectDictionary );if _fcc {_caagg =_aaa ;};_cbf ,_def :=_ace .(*_ea .PdfObjectArray );if _def {for _ ,_dde :=range _cbf .Elements (){if _fce ,_cafe :=_dde .(*_ea .PdfObjectDictionary );
_cafe {_dcb =append (_dcb ,_fce );}else {_dcb =append (_dcb ,nil );};};};};_bbcg :=_ebg .Filter ;if _bbcg ==nil {return nil ,_fa .Errorf ("\u0066\u0069\u006c\u0074\u0065\u0072\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");};_efca ,_adfe :=_bbcg .(*_ea .PdfObjectArray );
if !_adfe {return nil ,_fa .Errorf ("m\u0075\u006c\u0074\u0069\u0020\u0066\u0069\u006c\u0074\u0065\u0072\u0020\u0063\u0061\u006e\u0020\u006f\u006el\u0079\u0020\u0062\u0065\u0020\u006d\u0061\u0064\u0065\u0020fr\u006f\u006d\u0020a\u0072r\u0061\u0079");};
for _dcgg ,_bgf :=range _efca .Elements (){_cab ,_dbd :=_bgf .(*_ea .PdfObjectName );if !_dbd {return nil ,_fa .Errorf ("\u006d\u0075l\u0074\u0069\u0020\u0066i\u006c\u0074e\u0072\u0020\u0061\u0072\u0072\u0061\u0079\u0020e\u006c\u0065\u006d\u0065\u006e\u0074\u0020\u006e\u006f\u0074\u0020\u0061 \u006e\u0061\u006d\u0065");
};var _fgcd _ea .PdfObject ;if _caagg !=nil {_fgcd =_caagg ;}else {if len (_dcb )> 0{if _dcgg >=len (_dcb ){return nil ,_fa .Errorf ("\u006d\u0069\u0073\u0073\u0069\u006e\u0067\u0020\u0065\u006c\u0065\u006d\u0065n\u0074\u0073\u0020\u0069\u006e\u0020d\u0065\u0063\u006f\u0064\u0065\u0020\u0070\u0061\u0072\u0061\u006d\u0073\u0020a\u0072\u0072\u0061\u0079");
};_fgcd =_dcb [_dcgg ];};};var _afe *_ea .PdfObjectDictionary ;if _beaf ,_egb :=_fgcd .(*_ea .PdfObjectDictionary );_egb {_afe =_beaf ;};switch *_cab {case _ea .StreamEncodingFilterNameFlate ,"\u0046\u006c":_egeg ,_eac :=_eddd (_ebg ,_afe );if _eac !=nil {return nil ,_eac ;
};_dgdg .AddEncoder (_egeg );case _ea .StreamEncodingFilterNameLZW :_fcb ,_baa :=_aba (_ebg ,_afe );if _baa !=nil {return nil ,_baa ;};_dgdg .AddEncoder (_fcb );case _ea .StreamEncodingFilterNameASCIIHex :_abab :=_ea .NewASCIIHexEncoder ();_dgdg .AddEncoder (_abab );
case _ea .StreamEncodingFilterNameASCII85 ,"\u0041\u0038\u0035":_abd :=_ea .NewASCII85Encoder ();_dgdg .AddEncoder (_abd );default:_bd .Log .Error ("U\u006e\u0073\u0075\u0070po\u0072t\u0065\u0064\u0020\u0066\u0069l\u0074\u0065\u0072\u0020\u0025\u0073",*_cab );
return nil ,_fa .Errorf ("\u0069\u006eva\u006c\u0069\u0064 \u0066\u0069\u006c\u0074er \u0069n \u006d\u0075\u006c\u0074\u0069\u0020\u0066il\u0074\u0065\u0072\u0020\u0061\u0072\u0072a\u0079");};};return _dgdg ,nil ;};

// Add_Td appends 'Td' operand to the content stream:
// Move to start of next line with offset (`tx`, `ty`).
//
// See section 9.4.2 "Text Positioning Operators" and
// Table 108 (pp. 257-258 PDF32000_2008).
func (_acdg *ContentCreator )Add_Td (tx ,ty float64 )*ContentCreator {_ffb :=ContentStreamOperation {};_ffb .Operand ="\u0054\u0064";_ffb .Params =_faefg ([]float64 {tx ,ty });_acdg ._ebd =append (_acdg ._ebd ,&_ffb );return _acdg ;};

// Add_scn appends 'scn' operand to the content stream:
// Same as SC but for nonstroking operations.
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_cgb *ContentCreator )Add_scn (c ...float64 )*ContentCreator {_dgcg :=ContentStreamOperation {};_dgcg .Operand ="\u0073\u0063\u006e";_dgcg .Params =_faefg (c );_cgb ._ebd =append (_cgb ._ebd ,&_dgcg );return _cgb ;};

// Add_S appends 'S' operand to the content stream: Stroke the path.
//
// See section 8.5.3 "Path Painting Operators" and Table 60 (p. 143 PDF32000_2008).
func (_gcc *ContentCreator )Add_S ()*ContentCreator {_beg :=ContentStreamOperation {};_beg .Operand ="\u0053";_gcc ._ebd =append (_gcc ._ebd ,&_beg );return _gcc ;};

// Add_SCN_pattern appends 'SCN' operand to the content stream for pattern `name`:
// SCN with name attribute (for pattern). Syntax: c1 ... cn name SCN.
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_ge *ContentCreator )Add_SCN_pattern (name _ea .PdfObjectName ,c ...float64 )*ContentCreator {_gbd :=ContentStreamOperation {};_gbd .Operand ="\u0053\u0043\u004e";_gbd .Params =_faefg (c );_gbd .Params =append (_gbd .Params ,_ea .MakeName (string (name )));
_ge ._ebd =append (_ge ._ebd ,&_gbd );return _ge ;};

// ContentCreator is a builder for PDF content streams.
type ContentCreator struct{_ebd ContentStreamOperations };func (_aedb *ContentStreamProcessor )handleCommand_RG (_ggfc *ContentStreamOperation ,_ *_fd .PdfPageResources )error {_cdac :=_fd .NewPdfColorspaceDeviceRGB ();if len (_ggfc .Params )!=_cdac .GetNumComponents (){_bd .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006e\u0075\u006d\u0062\u0065\u0072 \u006f\u0066\u0020\u0070\u0061\u0072\u0061m\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006f\u0072\u0020R\u0047");
_bd .Log .Debug ("\u004e\u0075mb\u0065\u0072\u0020%\u0064\u0020\u006e\u006ft m\u0061tc\u0068\u0069\u006e\u0067\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u0020%\u0054",len (_ggfc .Params ),_cdac );if !_aedb ._gdbf {return _d .New ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0073");
};_edgc ,_gba :=_adaa (_ggfc .Params );if _gba !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0074\u006f\u0020\u0067\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_ggfc .Params );
return _gba ;};_ggfc .Params =[]_ea .PdfObject {_edgc };};_ebf ,_eede :=_cdac .ColorFromPdfObjects (_ggfc .Params );if _eede !=nil {return _eede ;};_aedb ._gabf .ColorspaceStroking =_cdac ;_aedb ._gabf .ColorStroking =_ebf ;return nil ;};

// Add_i adds 'i' operand to the content stream: Set the flatness tolerance in the graphics state.
//
// See section 8.4.4 "Graphic State Operators" and Table 57 (pp. 135-136 PDF32000_2008).
func (_cg *ContentCreator )Add_i (flatness float64 )*ContentCreator {_ce :=ContentStreamOperation {};_ce .Operand ="\u0069";_ce .Params =_faefg ([]float64 {flatness });_cg ._ebd =append (_cg ._ebd ,&_ce );return _cg ;};

// ToImage exports the inline image to Image which can be transformed or exported easily.
// Page resources are needed to look up colorspace information.
func (_aeg *ContentStreamInlineImage )ToImage (resources *_fd .PdfPageResources )(*_fd .Image ,error ){_ebe ,_eadc :=_aeg .toImageBase (resources );if _eadc !=nil {return nil ,_eadc ;};_aaed ,_eadc :=_caag (_aeg );if _eadc !=nil {return nil ,_eadc ;};_begd ,_cffg :=_ea .GetDict (_aeg .DecodeParms );
if _cffg {_aaed .UpdateParams (_begd );};_bd .Log .Trace ("\u0065n\u0063o\u0064\u0065\u0072\u003a\u0020\u0025\u002b\u0076\u0020\u0025\u0054",_aaed ,_aaed );_bd .Log .Trace ("\u0069\u006e\u006c\u0069\u006e\u0065\u0020\u0069\u006d\u0061\u0067\u0065:\u0020\u0025\u002b\u0076",_aeg );
_dba ,_eadc :=_aaed .DecodeBytes (_aeg ._cega );if _eadc !=nil {return nil ,_eadc ;};_ccg :=&_fd .Image {Width :int64 (_ebe .Width ),Height :int64 (_ebe .Height ),BitsPerComponent :int64 (_ebe .BitsPerComponent ),ColorComponents :_ebe .ColorComponents ,Data :_dba };
if len (_ebe .Decode )> 0{for _abaa :=0;_abaa < len (_ebe .Decode );_abaa ++{_ebe .Decode [_abaa ]*=float64 ((int (1)<<uint (_ebe .BitsPerComponent ))-1);};_ccg .SetDecode (_ebe .Decode );};return _ccg ,nil ;};

// Bytes converts a set of content stream operations to a content stream byte presentation,
// i.e. the kind that can be stored as a PDF stream or string format.
func (_cf *ContentStreamOperations )Bytes ()[]byte {var _bbe _ad .Buffer ;for _ ,_eaa :=range *_cf {if _eaa ==nil {continue ;};if _eaa .Operand =="\u0042\u0049"{_bbe .WriteString (_eaa .Operand +"\u000a");_bbe .Write (_eaa .Params [0].Write ());}else {for _ ,_fgc :=range _eaa .Params {_bbe .Write (_fgc .Write ());
_bbe .WriteString ("\u0020");};_bbe .WriteString (_eaa .Operand +"\u000a");};};return _bbe .Bytes ();};func (_aad *ContentStreamParser )parseArray ()(*_ea .PdfObjectArray ,error ){_bba :=_ea .MakeArray ();_aad ._bfeb .ReadByte ();for {_aad .skipSpaces ();
_edc ,_dbdd :=_aad ._bfeb .Peek (1);if _dbdd !=nil {return _bba ,_dbdd ;};if _edc [0]==']'{_aad ._bfeb .ReadByte ();break ;};_ddcd ,_ ,_dbdd :=_aad .parseObject ();if _dbdd !=nil {return _bba ,_dbdd ;};_bba .Append (_ddcd );};return _bba ,nil ;};

// Add_CS appends 'CS' operand to the content stream:
// Set the current colorspace for stroking operations.
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_eada *ContentCreator )Add_CS (name _ea .PdfObjectName )*ContentCreator {_dfe :=ContentStreamOperation {};_dfe .Operand ="\u0043\u0053";_dfe .Params =_ceag ([]_ea .PdfObjectName {name });_eada ._ebd =append (_eada ._ebd ,&_dfe );return _eada ;};

// Add_c adds 'c' operand to the content stream: Append a Bezier curve to the current path from
// the current point to (x3,y3) with (x1,x1) and (x2,y2) as control points.
//
// See section 8.5.2 "Path Construction Operators" and Table 59 (pp. 140-141 PDF32000_2008).
func (_agc *ContentCreator )Add_c (x1 ,y1 ,x2 ,y2 ,x3 ,y3 float64 )*ContentCreator {_cgg :=ContentStreamOperation {};_cgg .Operand ="\u0063";_cgg .Params =_faefg ([]float64 {x1 ,y1 ,x2 ,y2 ,x3 ,y3 });_agc ._ebd =append (_agc ._ebd ,&_cgg );return _agc ;
};

// Add_W appends 'W' operand to the content stream:
// Modify the current clipping path by intersecting with the current path (nonzero winding rule).
//
// See section 8.5.4 "Clipping Path Operators" and Table 61 (p. 146 PDF32000_2008).
func (_cbb *ContentCreator )Add_W ()*ContentCreator {_eafc :=ContentStreamOperation {};_eafc .Operand ="\u0057";_cbb ._ebd =append (_cbb ._ebd ,&_eafc );return _cbb ;};func (_cffb *ContentStreamProcessor )handleCommand_cm (_ggac *ContentStreamOperation ,_ *_fd .PdfPageResources )error {if len (_ggac .Params )!=6{_bd .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u006f\u0066\u0020\u0070\u0061\u0072\u0061\u006d\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006f\u0072\u0020\u0063\u006d\u003a\u0020\u0025\u0064",len (_ggac .Params ));
return _d .New ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0073");};_ecbg ,_ccb :=_ea .GetNumbersAsFloat (_ggac .Params );if _ccb !=nil {return _ccb ;
};_cgca :=_adb .NewMatrix (_ecbg [0],_ecbg [1],_ecbg [2],_ecbg [3],_ecbg [4],_ecbg [5]);_cffb ._gabf .CTM .Concat (_cgca );return nil ;};

// SetNonStrokingColor sets the non-stroking `color` where color can be one of
// PdfColorDeviceGray, PdfColorDeviceRGB, or PdfColorDeviceCMYK.
func (_cda *ContentCreator )SetNonStrokingColor (color _fd .PdfColor )*ContentCreator {switch _fed :=color .(type ){case *_fd .PdfColorDeviceGray :_cda .Add_g (_fed .Val ());case *_fd .PdfColorDeviceRGB :_cda .Add_rg (_fed .R (),_fed .G (),_fed .B ());
case *_fd .PdfColorDeviceCMYK :_cda .Add_k (_fed .C (),_fed .M (),_fed .Y (),_fed .K ());case *_fd .PdfColorPatternType2 :_cda .Add_cs (*_ea .MakeName ("\u0050a\u0074\u0074\u0065\u0072\u006e"));_cda .Add_scn_pattern (_fed .PatternName );case *_fd .PdfColorPatternType3 :_cda .Add_cs (*_ea .MakeName ("\u0050a\u0074\u0074\u0065\u0072\u006e"));
_cda .Add_scn_pattern (_fed .PatternName );default:_bd .Log .Debug ("\u0053\u0065\u0074N\u006f\u006e\u0053\u0074\u0072\u006f\u006b\u0069\u006e\u0067\u0043\u006f\u006c\u006f\u0072\u003a\u0020\u0075\u006e\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064\u0020c\u006f\u006c\u006f\u0072\u003a\u0020\u0025\u0054",_fed );
};return _cda ;};

// AddHandler adds a new ContentStreamProcessor `handler` of type `condition` for `operand`.
func (_eec *ContentStreamProcessor )AddHandler (condition HandlerConditionEnum ,operand string ,handler HandlerFunc ){_cbed :=handlerEntry {};_cbed .Condition =condition ;_cbed .Operand =operand ;_cbed .Handler =handler ;_eec ._eccb =append (_eec ._eccb ,_cbed );
};func (_bgge *ContentStreamProcessor )handleCommand_G (_bcfd *ContentStreamOperation ,_ *_fd .PdfPageResources )error {_geb :=_fd .NewPdfColorspaceDeviceGray ();if len (_bcfd .Params )!=_geb .GetNumComponents (){_bd .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006e\u0075\u006d\u0062\u0065\u0072 \u006f\u0066\u0020\u0070\u0061\u0072\u0061m\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006f\u0072\u0020S\u0043");
_bd .Log .Debug ("\u004e\u0075mb\u0065\u0072\u0020%\u0064\u0020\u006e\u006ft m\u0061tc\u0068\u0069\u006e\u0067\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u0020%\u0054",len (_bcfd .Params ),_geb );if !_bgge ._gdbf {return _d .New ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0073");
};_fag ,_gdgb :=_adaa (_bcfd .Params );if _gdgb !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0074\u006f\u0020\u0067\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_bcfd .Params );
return _gdgb ;};_bcfd .Params =[]_ea .PdfObject {_fag };};_bcbcb ,_ebbe :=_geb .ColorFromPdfObjects (_bcfd .Params );if _ebbe !=nil {return _ebbe ;};_bgge ._gabf .ColorspaceStroking =_geb ;_bgge ._gabf .ColorStroking =_bcbcb ;return nil ;};

// AddOperand adds a specified operand.
func (_cbe *ContentCreator )AddOperand (op ContentStreamOperation )*ContentCreator {_cbe ._ebd =append (_cbe ._ebd ,&op );return _cbe ;};

// Add_SCN appends 'SCN' operand to the content stream:
// Same as SC but supports more colorspaces.
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_dfc *ContentCreator )Add_SCN (c ...float64 )*ContentCreator {_da :=ContentStreamOperation {};_da .Operand ="\u0053\u0043\u004e";_da .Params =_faefg (c );_dfc ._ebd =append (_dfc ._ebd ,&_da );return _dfc ;};

// Add_ET appends 'ET' operand to the content stream:
// End text.
//
// See section 9.4 "Text Objects" and Table 107 (p. 256 PDF32000_2008).
func (_cdc *ContentCreator )Add_ET ()*ContentCreator {_ffe :=ContentStreamOperation {};_ffe .Operand ="\u0045\u0054";_cdc ._ebd =append (_cdc ._ebd ,&_ffe );return _cdc ;};

// Add_f_starred appends 'f*' operand to the content stream.
// f*: Fill the path using the even-odd rule to determine fill region.
//
// See section 8.5.3 "Path Painting Operators" and Table 60 (p. 143 PDF32000_2008).
func (_dgc *ContentCreator )Add_f_starred ()*ContentCreator {_cac :=ContentStreamOperation {};_cac .Operand ="\u0066\u002a";_dgc ._ebd =append (_dgc ._ebd ,&_cac );return _dgc ;};func (_gbg *ContentStreamParser )parseNull ()(_ea .PdfObjectNull ,error ){_ ,_gec :=_gbg ._bfeb .Discard (4);
return _ea .PdfObjectNull {},_gec ;};var (ErrInvalidOperand =_d .New ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006f\u0070\u0065\u0072\u0061\u006e\u0064");ErrEarlyExit =_d .New ("\u0074\u0065\u0072\u006di\u006e\u0061\u0074\u0065\u0020\u0070\u0072\u006f\u0063\u0065s\u0073 \u0065\u0061\u0072\u006c\u0079\u0020\u0065x\u0069\u0074");
);

// RotateDeg applies a rotation to the transformation matrix.
func (_dfb *ContentCreator )RotateDeg (angle float64 )*ContentCreator {_edg :=_de .Cos (angle *_de .Pi /180.0);_efe :=_de .Sin (angle *_de .Pi /180.0);_ec :=-_de .Sin (angle *_de .Pi /180.0);_gad :=_de .Cos (angle *_de .Pi /180.0);return _dfb .Add_cm (_edg ,_efe ,_ec ,_gad ,0,0);
};func _eddd (_gcgc *ContentStreamInlineImage ,_babb *_ea .PdfObjectDictionary )(*_ea .FlateEncoder ,error ){_edb :=_ea .NewFlateEncoder ();if _gcgc ._fec !=nil {_edb .SetImage (_gcgc ._fec );};if _babb ==nil {_aac :=_gcgc .DecodeParms ;if _aac !=nil {_bbc ,_efg :=_ea .GetDict (_aac );
if !_efg {_bd .Log .Debug ("E\u0072\u0072\u006f\u0072\u003a\u0020\u0044\u0065\u0063\u006f\u0064\u0065\u0050\u0061\u0072\u006d\u0073\u0020n\u006f\u0074\u0020\u0061\u0020\u0064\u0069\u0063\u0074\u0069on\u0061\u0072\u0079 \u0028%\u0054\u0029",_aac );return nil ,_fa .Errorf ("\u0069\u006e\u0076\u0061li\u0064\u0020\u0044\u0065\u0063\u006f\u0064\u0065\u0050\u0061\u0072\u006d\u0073");
};_babb =_bbc ;};};if _babb ==nil {return _edb ,nil ;};_bd .Log .Trace ("\u0064\u0065\u0063\u006f\u0064\u0065\u0020\u0070\u0061\u0072\u0061\u006ds\u003a\u0020\u0025\u0073",_babb .String ());_daf :=_babb .Get ("\u0050r\u0065\u0064\u0069\u0063\u0074\u006fr");
if _daf ==nil {_bd .Log .Debug ("E\u0072\u0072o\u0072\u003a\u0020\u0050\u0072\u0065\u0064\u0069\u0063\u0074\u006f\u0072\u0020\u006d\u0069\u0073\u0073\u0069\u006e\u0067 \u0066\u0072\u006f\u006d\u0020\u0044\u0065\u0063\u006f\u0064\u0065\u0050\u0061\u0072\u006d\u0073 \u002d\u0020\u0043\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020\u0077\u0069t\u0068\u0020\u0064\u0065\u0066\u0061\u0075\u006c\u0074\u0020\u00281\u0029");
}else {_dbbeb ,_gdd :=_daf .(*_ea .PdfObjectInteger );if !_gdd {_bd .Log .Debug ("E\u0072\u0072\u006f\u0072\u003a\u0020\u0050\u0072\u0065d\u0069\u0063\u0074\u006f\u0072\u0020\u0073pe\u0063\u0069\u0066\u0069e\u0064\u0020\u0062\u0075\u0074\u0020\u006e\u006f\u0074 n\u0075\u006de\u0072\u0069\u0063\u0020\u0028\u0025\u0054\u0029",_daf );
return nil ,_fa .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0050\u0072\u0065\u0064i\u0063\u0074\u006f\u0072");};_edb .Predictor =int (*_dbbeb );};_daf =_babb .Get ("\u0042\u0069t\u0073\u0050\u0065r\u0043\u006f\u006d\u0070\u006f\u006e\u0065\u006e\u0074");
if _daf !=nil {_bfff ,_adg :=_daf .(*_ea .PdfObjectInteger );if !_adg {_bd .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0049n\u0076\u0061\u006c\u0069\u0064\u0020\u0042i\u0074\u0073\u0050\u0065\u0072\u0043\u006f\u006d\u0070\u006f\u006e\u0065\u006e\u0074");
return nil ,_fa .Errorf ("\u0069n\u0076\u0061\u006c\u0069\u0064\u0020\u0042\u0069\u0074\u0073\u0050e\u0072\u0043\u006f\u006d\u0070\u006f\u006e\u0065\u006e\u0074");};_edb .BitsPerComponent =int (*_bfff );};if _edb .Predictor > 1{_edb .Columns =1;_daf =_babb .Get ("\u0043o\u006c\u0075\u006d\u006e\u0073");
if _daf !=nil {_cef ,_feg :=_daf .(*_ea .PdfObjectInteger );if !_feg {return nil ,_fa .Errorf ("\u0070r\u0065\u0064\u0069\u0063\u0074\u006f\u0072\u0020\u0063\u006f\u006cu\u006d\u006e\u0020\u0069\u006e\u0076\u0061\u006c\u0069\u0064");};_edb .Columns =int (*_cef );
};_edb .Colors =1;_fgga :=_babb .Get ("\u0043\u006f\u006c\u006f\u0072\u0073");if _fgga !=nil {_gddg ,_fdb :=_fgga .(*_ea .PdfObjectInteger );if !_fdb {return nil ,_fa .Errorf ("\u0070\u0072\u0065d\u0069\u0063\u0074\u006fr\u0020\u0063\u006f\u006c\u006f\u0072\u0073 \u006e\u006f\u0074\u0020\u0061\u006e\u0020\u0069\u006e\u0074\u0065\u0067\u0065\u0072");
};_edb .Colors =int (*_gddg );};};return _edb ,nil ;};func _egef (_fbc []int64 )[]_ea .PdfObject {var _eda []_ea .PdfObject ;for _ ,_fbf :=range _fbc {_eda =append (_eda ,_ea .MakeInteger (_fbf ));};return _eda ;};

// HasUnclosedQ checks if all the `q` operator is properly closed by `Q` operator.
func (_bf *ContentStreamOperations )HasUnclosedQ ()bool {_g :=0;for _ ,_caa :=range *_bf {switch _caa .Operand {case "\u0071":_g ++;case "\u0051":_g --;};};return _g !=0;};

// Add_Tf appends 'Tf' operand to the content stream:
// Set font and font size specified by font resource `fontName` and `fontSize`.
//
// See section 9.3 "Text State Parameters and Operators" and
// Table 105 (pp. 251-252 PDF32000_2008).
func (_gdfe *ContentCreator )Add_Tf (fontName _ea .PdfObjectName ,fontSize float64 )*ContentCreator {_dgd :=ContentStreamOperation {};_dgd .Operand ="\u0054\u0066";_dgd .Params =_ceag ([]_ea .PdfObjectName {fontName });_dgd .Params =append (_dgd .Params ,_faefg ([]float64 {fontSize })...);
_gdfe ._ebd =append (_gdfe ._ebd ,&_dgd );return _gdfe ;};func _aba (_gdfec *ContentStreamInlineImage ,_gbbe *_ea .PdfObjectDictionary )(*_ea .LZWEncoder ,error ){_gdg :=_ea .NewLZWEncoder ();if _gbbe ==nil {if _gdfec .DecodeParms !=nil {_bfgf ,_cgf :=_ea .GetDict (_gdfec .DecodeParms );
if !_cgf {_bd .Log .Debug ("E\u0072\u0072\u006f\u0072\u003a\u0020\u0044\u0065\u0063\u006f\u0064\u0065\u0050\u0061\u0072\u006d\u0073\u0020n\u006f\u0074\u0020\u0061\u0020\u0064\u0069\u0063\u0074\u0069on\u0061\u0072\u0079 \u0028%\u0054\u0029",_gdfec .DecodeParms );
return nil ,_fa .Errorf ("\u0069\u006e\u0076\u0061li\u0064\u0020\u0044\u0065\u0063\u006f\u0064\u0065\u0050\u0061\u0072\u006d\u0073");};_gbbe =_bfgf ;};};if _gbbe ==nil {return _gdg ,nil ;};_dce :=_gbbe .Get ("E\u0061\u0072\u006c\u0079\u0043\u0068\u0061\u006e\u0067\u0065");
if _dce !=nil {_cdd ,_fdga :=_dce .(*_ea .PdfObjectInteger );if !_fdga {_bd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a \u0045\u0061\u0072\u006c\u0079\u0043\u0068\u0061\u006e\u0067\u0065\u0020\u0073\u0070\u0065\u0063\u0069\u0066\u0069\u0065d\u0020\u0062\u0075\u0074\u0020\u006e\u006f\u0074\u0020\u006e\u0075\u006d\u0065\u0072i\u0063 \u0028\u0025\u0054\u0029",_dce );
return nil ,_fa .Errorf ("\u0069\u006e\u0076\u0061li\u0064\u0020\u0045\u0061\u0072\u006c\u0079\u0043\u0068\u0061\u006e\u0067\u0065");};if *_cdd !=0&&*_cdd !=1{return nil ,_fa .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0045\u0061\u0072\u006c\u0079\u0043\u0068\u0061\u006e\u0067\u0065\u0020\u0076\u0061\u006c\u0075e\u0020\u0028\u006e\u006f\u0074 \u0030\u0020o\u0072\u0020\u0031\u0029");
};_gdg .EarlyChange =int (*_cdd );}else {_gdg .EarlyChange =1;};_dce =_gbbe .Get ("\u0050r\u0065\u0064\u0069\u0063\u0074\u006fr");if _dce !=nil {_ced ,_dec :=_dce .(*_ea .PdfObjectInteger );if !_dec {_bd .Log .Debug ("E\u0072\u0072\u006f\u0072\u003a\u0020\u0050\u0072\u0065d\u0069\u0063\u0074\u006f\u0072\u0020\u0073pe\u0063\u0069\u0066\u0069e\u0064\u0020\u0062\u0075\u0074\u0020\u006e\u006f\u0074 n\u0075\u006de\u0072\u0069\u0063\u0020\u0028\u0025\u0054\u0029",_dce );
return nil ,_fa .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0050\u0072\u0065\u0064i\u0063\u0074\u006f\u0072");};_gdg .Predictor =int (*_ced );};_dce =_gbbe .Get ("\u0042\u0069t\u0073\u0050\u0065r\u0043\u006f\u006d\u0070\u006f\u006e\u0065\u006e\u0074");
if _dce !=nil {_agd ,_fdf :=_dce .(*_ea .PdfObjectInteger );if !_fdf {_bd .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0049n\u0076\u0061\u006c\u0069\u0064\u0020\u0042i\u0074\u0073\u0050\u0065\u0072\u0043\u006f\u006d\u0070\u006f\u006e\u0065\u006e\u0074");
return nil ,_fa .Errorf ("\u0069n\u0076\u0061\u006c\u0069\u0064\u0020\u0042\u0069\u0074\u0073\u0050e\u0072\u0043\u006f\u006d\u0070\u006f\u006e\u0065\u006e\u0074");};_gdg .BitsPerComponent =int (*_agd );};if _gdg .Predictor > 1{_gdg .Columns =1;_dce =_gbbe .Get ("\u0043o\u006c\u0075\u006d\u006e\u0073");
if _dce !=nil {_cea ,_eed :=_dce .(*_ea .PdfObjectInteger );if !_eed {return nil ,_fa .Errorf ("\u0070r\u0065\u0064\u0069\u0063\u0074\u006f\u0072\u0020\u0063\u006f\u006cu\u006d\u006e\u0020\u0069\u006e\u0076\u0061\u006c\u0069\u0064");};_gdg .Columns =int (*_cea );
};_gdg .Colors =1;_dce =_gbbe .Get ("\u0043\u006f\u006c\u006f\u0072\u0073");if _dce !=nil {_caf ,_acdb :=_dce .(*_ea .PdfObjectInteger );if !_acdb {return nil ,_fa .Errorf ("\u0070\u0072\u0065d\u0069\u0063\u0074\u006fr\u0020\u0063\u006f\u006c\u006f\u0072\u0073 \u006e\u006f\u0074\u0020\u0061\u006e\u0020\u0069\u006e\u0074\u0065\u0067\u0065\u0072");
};_gdg .Colors =int (*_caf );};};_bd .Log .Trace ("\u0064\u0065\u0063\u006f\u0064\u0065\u0020\u0070\u0061\u0072\u0061\u006ds\u003a\u0020\u0025\u0073",_gbbe .String ());return _gdg ,nil ;};

// Add_cs appends 'cs' operand to the content stream:
// Same as CS but for non-stroking operations.
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_bcd *ContentCreator )Add_cs (name _ea .PdfObjectName )*ContentCreator {_cfaa :=ContentStreamOperation {};_cfaa .Operand ="\u0063\u0073";_cfaa .Params =_ceag ([]_ea .PdfObjectName {name });_bcd ._ebd =append (_bcd ._ebd ,&_cfaa );return _bcd ;};func _fgcf (_aaaf string )bool {_ ,_eeb :=_fggg [_aaaf ];
return _eeb };func (_bdee *ContentStreamProcessor )handleCommand_k (_adfg *ContentStreamOperation ,_ *_fd .PdfPageResources )error {_bdaa :=_fd .NewPdfColorspaceDeviceCMYK ();if len (_adfg .Params )!=_bdaa .GetNumComponents (){_bd .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006e\u0075\u006d\u0062\u0065\u0072 \u006f\u0066\u0020\u0070\u0061\u0072\u0061m\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006f\u0072\u0020S\u0043");
_bd .Log .Debug ("\u004e\u0075mb\u0065\u0072\u0020%\u0064\u0020\u006e\u006ft m\u0061tc\u0068\u0069\u006e\u0067\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u0020%\u0054",len (_adfg .Params ),_bdaa );return _d .New ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0073");
};_aadc ,_dga :=_bdaa .ColorFromPdfObjects (_adfg .Params );if _dga !=nil {return _dga ;};_bdee ._gabf .ColorspaceNonStroking =_bdaa ;_bdee ._gabf .ColorNonStroking =_aadc ;return nil ;};

// Add_g appends 'g' operand to the content stream:
// Same as G but used for nonstroking operations.
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_fggf *ContentCreator )Add_g (gray float64 )*ContentCreator {_gcf :=ContentStreamOperation {};_gcf .Operand ="\u0067";_gcf .Params =_faefg ([]float64 {gray });_fggf ._ebd =append (_fggf ._ebd ,&_gcf );return _fggf ;};func (_fdfa *ContentStreamParser )skipSpaces ()(int ,error ){_bga :=0;
for {_deg ,_aeab :=_fdfa ._bfeb .Peek (1);if _aeab !=nil {return 0,_aeab ;};if _ea .IsWhiteSpace (_deg [0]){_fdfa ._bfeb .ReadByte ();_bga ++;}else {break ;};};return _bga ,nil ;};

// ExtractText parses and extracts all text data in content streams and returns as a string.
// Does not take into account Encoding table, the output is simply the character codes.
//
// Deprecated: More advanced text extraction is offered in package extractor with character encoding support.
func (_bg *ContentStreamParser )ExtractText ()(string ,error ){_ee ,_bdf :=_bg .Parse ();if _bdf !=nil {return "",_bdf ;};_ac :=false ;_edd ,_gb :=float64 (-1),float64 (-1);_ef :="";for _ ,_gga :=range *_ee {switch _gga .Operand {case "\u0042\u0054":_ac =true ;
case "\u0045\u0054":_ac =false ;};if _gga .Operand =="\u0054\u0064"||_gga .Operand =="\u0054\u0044"||_gga .Operand =="\u0054\u002a"{_ef +="\u000a";};if _gga .Operand =="\u0054\u006d"{if len (_gga .Params )!=6{continue ;};_ggc ,_db :=_gga .Params [4].(*_ea .PdfObjectFloat );
if !_db {_be ,_bfg :=_gga .Params [4].(*_ea .PdfObjectInteger );if !_bfg {continue ;};_ggc =_ea .MakeFloat (float64 (*_be ));};_bgb ,_db :=_gga .Params [5].(*_ea .PdfObjectFloat );if !_db {_eg ,_abc :=_gga .Params [5].(*_ea .PdfObjectInteger );if !_abc {continue ;
};_bgb =_ea .MakeFloat (float64 (*_eg ));};if _gb ==-1{_gb =float64 (*_bgb );}else if _gb > float64 (*_bgb ){_ef +="\u000a";_edd =float64 (*_ggc );_gb =float64 (*_bgb );continue ;};if _edd ==-1{_edd =float64 (*_ggc );}else if _edd < float64 (*_ggc ){_ef +="\u0009";
_edd =float64 (*_ggc );};};if _ac &&_gga .Operand =="\u0054\u004a"{if len (_gga .Params )< 1{continue ;};_dgf ,_acb :=_gga .Params [0].(*_ea .PdfObjectArray );if !_acb {return "",_fa .Errorf ("\u0069\u006ev\u0061\u006c\u0069\u0064 \u0070\u0061r\u0061\u006d\u0065\u0074\u0065\u0072\u0020\u0074y\u0070\u0065\u002c\u0020\u006e\u006f\u0020\u0061\u0072\u0072\u0061\u0079 \u0028\u0025\u0054\u0029",_gga .Params [0]);
};for _ ,_ada :=range _dgf .Elements (){switch _fbd :=_ada .(type ){case *_ea .PdfObjectString :_ef +=_fbd .Str ();case *_ea .PdfObjectFloat :if *_fbd < -100{_ef +="\u0020";};case *_ea .PdfObjectInteger :if *_fbd < -100{_ef +="\u0020";};};};}else if _ac &&_gga .Operand =="\u0054\u006a"{if len (_gga .Params )< 1{continue ;
};_eag ,_cb :=_gga .Params [0].(*_ea .PdfObjectString );if !_cb {return "",_fa .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0070\u0061\u0072\u0061\u006de\u0074\u0065\u0072\u0020\u0074\u0079p\u0065\u002c\u0020\u006e\u006f\u0074\u0020\u0073\u0074\u0072\u0069\u006e\u0067 \u0028\u0025\u0054\u0029",_gga .Params [0]);
};_ef +=_eag .Str ();};};return _ef ,nil ;};func (_gdc *ContentStreamParser )parseString ()(*_ea .PdfObjectString ,error ){_gdc ._bfeb .ReadByte ();var _fee []byte ;_dbg :=1;for {_cbg ,_dbae :=_gdc ._bfeb .Peek (1);if _dbae !=nil {return _ea .MakeString (string (_fee )),_dbae ;
};if _cbg [0]=='\\'{_gdc ._bfeb .ReadByte ();_ggea ,_bgbg :=_gdc ._bfeb .ReadByte ();if _bgbg !=nil {return _ea .MakeString (string (_fee )),_bgbg ;};if _ea .IsOctalDigit (_ggea ){_cag ,_bdbd :=_gdc ._bfeb .Peek (2);if _bdbd !=nil {return _ea .MakeString (string (_fee )),_bdbd ;
};var _bbef []byte ;_bbef =append (_bbef ,_ggea );for _ ,_babed :=range _cag {if _ea .IsOctalDigit (_babed ){_bbef =append (_bbef ,_babed );}else {break ;};};_gdc ._bfeb .Discard (len (_bbef )-1);_bd .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_bbef );
_bbfg ,_bdbd :=_f .ParseUint (string (_bbef ),8,32);if _bdbd !=nil {return _ea .MakeString (string (_fee )),_bdbd ;};_fee =append (_fee ,byte (_bbfg ));continue ;};switch _ggea {case 'n':_fee =append (_fee ,'\n');case 'r':_fee =append (_fee ,'\r');case 't':_fee =append (_fee ,'\t');
case 'b':_fee =append (_fee ,'\b');case 'f':_fee =append (_fee ,'\f');case '(':_fee =append (_fee ,'(');case ')':_fee =append (_fee ,')');case '\\':_fee =append (_fee ,'\\');};continue ;}else if _cbg [0]=='('{_dbg ++;}else if _cbg [0]==')'{_dbg --;if _dbg ==0{_gdc ._bfeb .ReadByte ();
break ;};};_egcc ,_ :=_gdc ._bfeb .ReadByte ();_fee =append (_fee ,_egcc );};return _ea .MakeString (string (_fee )),nil ;};var _ddb =_b .MustCompile ("\u005e\u002f\u007b\u0032\u002c\u007d");

// GetEncoder returns the encoder of the inline image.
func (_bcg *ContentStreamInlineImage )GetEncoder ()(_ea .StreamEncoder ,error ){return _caag (_bcg )};func _cagc (_begfa _ea .PdfObject )(_fd .PdfColorspace ,error ){_ggd ,_cfec :=_begfa .(*_ea .PdfObjectArray );if !_cfec {_bd .Log .Debug ("\u0045r\u0072\u006fr\u003a\u0020\u0049\u006ev\u0061\u006c\u0069d\u0020\u0069\u006e\u0064\u0065\u0078\u0065\u0064\u0020cs\u0020\u006e\u006ft\u0020\u0069n\u0020\u0061\u0072\u0072\u0061\u0079 \u0028\u0025#\u0076\u0029",_begfa );
return nil ,_d .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");};if _ggd .Len ()!=4{_bd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072:\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0063\u0073\u0020\u0061r\u0072\u0061\u0079\u002c\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u0020\u0021\u003d\u0020\u0034\u0020\u0028\u0025\u0064\u0029",_ggd .Len ());
return nil ,_d .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072");};_aded ,_cfec :=_ggd .Get (0).(*_ea .PdfObjectName );if !_cfec {_bd .Log .Debug ("E\u0072\u0072\u006f\u0072\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0063\u0073\u0020\u0061\u0072\u0072\u0061\u0079\u0020\u0066\u0069\u0072s\u0074 \u0065\u006c\u0065\u006de\u006e\u0074 \u006e\u006f\u0074\u0020\u0061\u0020\u006e\u0061\u006d\u0065\u0020\u0028\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u0023\u0076\u0029",*_ggd );
return nil ,_d .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");};if *_aded !="\u0049"&&*_aded !="\u0049n\u0064\u0065\u0078\u0065\u0064"{_bd .Log .Debug ("\u0045\u0072r\u006f\u0072\u003a\u0020\u0049n\u0076\u0061\u006c\u0069\u0064 \u0063\u0073\u0020\u0061\u0072\u0072\u0061\u0079\u0020\u0066\u0069\u0072\u0073\u0074\u0020\u0065\u006c\u0065\u006d\u0065\u006e\u0074\u0020\u0021\u003d\u0020\u0049\u0020\u0028\u0067\u006f\u0074\u003a\u0020\u0025\u0076\u0029",*_aded );
return nil ,_d .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072");};_aded ,_cfec =_ggd .Get (1).(*_ea .PdfObjectName );if !_cfec {_bd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0063\u0073\u0020\u0061\u0072r\u0061\u0079\u0020\u0032\u006e\u0064\u0020\u0065\u006c\u0065\u006d\u0065\u006e\u0074\u0020\u006e\u006f\u0074\u0020\u0061\u0020\u006e\u0061\u006d\u0065\u0020\u0028\u0061\u0072\u0072a\u0079\u003a\u0020\u0025\u0023v\u0029",*_ggd );
return nil ,_d .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");};if *_aded !="\u0047"&&*_aded !="\u0052\u0047\u0042"&&*_aded !="\u0043\u004d\u0059\u004b"&&*_aded !="\u0044\u0065\u0076\u0069\u0063\u0065\u0047\u0072\u0061\u0079"&&*_aded !="\u0044e\u0076\u0069\u0063\u0065\u0052\u0047B"&&*_aded !="\u0044\u0065\u0076\u0069\u0063\u0065\u0043\u004d\u0059\u004b"{_bd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0063\u0073\u0020\u0061\u0072r\u0061\u0079\u0020\u0032\u006e\u0064\u0020\u0065\u006c\u0065\u006d\u0065\u006e\u0074\u0020\u0021\u003d\u0020\u0047\u002f\u0052\u0047\u0042\u002f\u0043\u004d\u0059\u004b\u0020\u0028g\u006f\u0074\u003a\u0020\u0025v\u0029",*_aded );
return nil ,_d .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072");};_geee :="";switch *_aded {case "\u0047","\u0044\u0065\u0076\u0069\u0063\u0065\u0047\u0072\u0061\u0079":_geee ="\u0044\u0065\u0076\u0069\u0063\u0065\u0047\u0072\u0061\u0079";
case "\u0052\u0047\u0042","\u0044e\u0076\u0069\u0063\u0065\u0052\u0047B":_geee ="\u0044e\u0076\u0069\u0063\u0065\u0052\u0047B";case "\u0043\u004d\u0059\u004b","\u0044\u0065\u0076\u0069\u0063\u0065\u0043\u004d\u0059\u004b":_geee ="\u0044\u0065\u0076\u0069\u0063\u0065\u0043\u004d\u0059\u004b";
};_abf :=_ea .MakeArray (_ea .MakeName ("\u0049n\u0064\u0065\u0078\u0065\u0064"),_ea .MakeName (_geee ),_ggd .Get (2),_ggd .Get (3));return _fd .NewPdfColorspaceFromPdfObject (_abf );};

// Add_rg appends 'rg' operand to the content stream:
// Same as RG but used for nonstroking operations.
//
// See section 8.6.8 "Colour Operators" and Table 74 (p. 179-180 PDF32000_2008).
func (_ege *ContentCreator )Add_rg (r ,g ,b float64 )*ContentCreator {_dbbe :=ContentStreamOperation {};_dbbe .Operand ="\u0072\u0067";_dbbe .Params =_faefg ([]float64 {r ,g ,b });_ege ._ebd =append (_ege ._ebd ,&_dbbe );return _ege ;};func _ceag (_bcgd []_ea .PdfObjectName )[]_ea .PdfObject {var _cacb []_ea .PdfObject ;
for _ ,_edgf :=range _bcgd {_cacb =append (_cacb ,_ea .MakeName (string (_edgf )));};return _cacb ;};func (_abg *ContentStreamParser )parseDict ()(*_ea .PdfObjectDictionary ,error ){_bd .Log .Trace ("\u0052\u0065\u0061\u0064i\u006e\u0067\u0020\u0063\u006f\u006e\u0074\u0065\u006e\u0074 \u0073t\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0021");
_bdfg :=_ea .MakeDict ();_babg ,_ :=_abg ._bfeb .ReadByte ();if _babg !='<'{return nil ,_d .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_babg ,_ =_abg ._bfeb .ReadByte ();if _babg !='<'{return nil ,_d .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_abg .skipSpaces ();_adbe ,_gceb :=_abg ._bfeb .Peek (2);if _gceb !=nil {return nil ,_gceb ;};_bd .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_adbe ),string (_adbe ));if (_adbe [0]=='>')&&(_adbe [1]=='>'){_bd .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");
_abg ._bfeb .ReadByte ();_abg ._bfeb .ReadByte ();break ;};_bd .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");_bgac ,_gceb :=_abg .parseName ();_bd .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_bgac );
if _gceb !=nil {_bd .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_gceb );return nil ,_gceb ;};if len (_bgac )> 4&&_bgac [len (_bgac )-4:]=="\u006e\u0075\u006c\u006c"{_aga :=_bgac [0:len (_bgac )-4];
_bd .Log .Trace ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_bgac );_bd .Log .Trace ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_aga );
_abg .skipSpaces ();_fdd ,_ :=_abg ._bfeb .Peek (1);if _fdd [0]=='/'{_bdfg .Set (_aga ,_ea .MakeNull ());continue ;};};_abg .skipSpaces ();_edbf ,_ ,_gceb :=_abg .parseObject ();if _gceb !=nil {return nil ,_gceb ;};_bdfg .Set (_bgac ,_edbf );_bd .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_bgac ,_edbf .String ());
};return _bdfg ,nil ;};

// Add_ri adds 'ri' operand to the content stream, which sets the color rendering intent.
//
// See section 8.4.4 "Graphic State Operators" and Table 57 (pp. 135-136 PDF32000_2008).
func (_aff *ContentCreator )Add_ri (intent _ea .PdfObjectName )*ContentCreator {_ddg :=ContentStreamOperation {};_ddg .Operand ="\u0072\u0069";_ddg .Params =_ceag ([]_ea .PdfObjectName {intent });_aff ._ebd =append (_aff ._ebd ,&_ddg );return _aff ;};func (_agee *ContentStreamProcessor )handleCommand_CS (_dbce *ContentStreamOperation ,_aaf *_fd .PdfPageResources )error {if len (_dbce .Params )< 1{_bd .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069d\u0020\u0063\u0073\u0020\u0063\u006f\u006d\u006d\u0061\u006e\u0064\u002c\u0020s\u006b\u0069\u0070\u0070\u0069\u006e\u0067 \u006f\u0076\u0065\u0072");
return _d .New ("\u0074o\u006f \u0066\u0065\u0077\u0020\u0070a\u0072\u0061m\u0065\u0074\u0065\u0072\u0073");};if len (_dbce .Params )> 1{_bd .Log .Debug ("\u0063\u0073\u0020\u0063\u006f\u006d\u006d\u0061n\u0064\u0020\u0077it\u0068\u0020\u0074\u006f\u006f\u0020m\u0061\u006e\u0079\u0020\u0070\u0061\u0072\u0061\u006d\u0065\u0074\u0065\u0072\u0073\u0020-\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075i\u006e\u0067");
return _d .New ("\u0074\u006f\u006f\u0020ma\u006e\u0079\u0020\u0070\u0061\u0072\u0061\u006d\u0065\u0074\u0065\u0072\u0073");};_dca ,_cgc :=_dbce .Params [0].(*_ea .PdfObjectName );if !_cgc {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020c\u0073\u0020\u0063o\u006d\u006d\u0061n\u0064\u0020w\u0069\u0074\u0068\u0020\u0069\u006ev\u0061li\u0064\u0020\u0070\u0061\u0072\u0061\u006d\u0065\u0074\u0065\u0072\u002c\u0020\u0073\u006b\u0069\u0070\u0070\u0069\u006e\u0067\u0020\u006f\u0076\u0065\u0072");
return _d .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");};_debe ,_gedg :=_agee .getColorspace (string (*_dca ),_aaf );if _gedg !=nil {return _gedg ;};_agee ._gabf .ColorspaceStroking =_debe ;_dcbe ,_gedg :=_agee .getInitialColor (_debe );
if _gedg !=nil {return _gedg ;};_agee ._gabf .ColorStroking =_dcbe ;return nil ;};

// HandlerFunc is the function syntax that the ContentStreamProcessor handler must implement.
type HandlerFunc func (_cegc *ContentStreamOperation ,_cbd GraphicsState ,_ebc *_fd .PdfPageResources )error ;

// Add_Tz appends 'Tz' operand to the content stream:
// Set horizontal scaling.
//
// See section 9.3 "Text State Parameters and Operators" and
// Table 105 (pp. 251-252 PDF32000_2008).
func (_dcc *ContentCreator )Add_Tz (scale float64 )*ContentCreator {_fdg :=ContentStreamOperation {};_fdg .Operand ="\u0054\u007a";_fdg .Params =_faefg ([]float64 {scale });_dcc ._ebd =append (_dcc ._ebd ,&_fdg );return _dcc ;};

// Add_b_starred appends 'b*' operand to the content stream:
// Close, fill and then stroke the path (even-odd winding number rule).
//
// See section 8.5.3 "Path Painting Operators" and Table 60 (p. 143 PDF32000_2008).
func (_begf *ContentCreator )Add_b_starred ()*ContentCreator {_dbb :=ContentStreamOperation {};_dbb .Operand ="\u0062\u002a";_begf ._ebd =append (_begf ._ebd ,&_dbb );return _begf ;};

// Add_M adds 'M' operand to the content stream: Set the miter limit (graphics state).
//
// See section 8.4.4 "Graphic State Operators" and Table 57 (pp. 135-136 PDF32000_2008).
func (_fgg *ContentCreator )Add_M (miterlimit float64 )*ContentCreator {_afd :=ContentStreamOperation {};_afd .Operand ="\u004d";_afd .Params =_faefg ([]float64 {miterlimit });_fgg ._ebd =append (_fgg ._ebd ,&_afd );return _fgg ;};func (_beec *ContentStreamParser )skipComments ()error {if _ ,_gdb :=_beec .skipSpaces ();
_gdb !=nil {return _gdb ;};_accc :=true ;for {_feac ,_fbab :=_beec ._bfeb .Peek (1);if _fbab !=nil {_bd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_fbab .Error ());return _fbab ;};if _accc &&_feac [0]!='%'{return nil ;};_accc =false ;
if (_feac [0]!='\r')&&(_feac [0]!='\n'){_beec ._bfeb .ReadByte ();}else {break ;};};return _beec .skipComments ();};

// Add_re appends 're' operand to the content stream:
// Append a rectangle to the current path as a complete subpath, with lower left corner (x,y).
//
// See section 8.5.2 "Path Construction Operators" and Table 59 (pp. 140-141 PDF32000_2008).
func (_gfb *ContentCreator )Add_re (x ,y ,width ,height float64 )*ContentCreator {_gade :=ContentStreamOperation {};_gade .Operand ="\u0072\u0065";_gade .Params =_faefg ([]float64 {x ,y ,width ,height });_gfb ._ebd =append (_gfb ._ebd ,&_gade );return _gfb ;
};func (_bbbf *ContentStreamProcessor )handleCommand_cs (_dbf *ContentStreamOperation ,_gbba *_fd .PdfPageResources )error {if len (_dbf .Params )< 1{_bd .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069d\u0020\u0043\u0053\u0020\u0063\u006f\u006d\u006d\u0061\u006e\u0064\u002c\u0020s\u006b\u0069\u0070\u0070\u0069\u006e\u0067 \u006f\u0076\u0065\u0072");
return _d .New ("\u0074o\u006f \u0066\u0065\u0077\u0020\u0070a\u0072\u0061m\u0065\u0074\u0065\u0072\u0073");};if len (_dbf .Params )> 1{_bd .Log .Debug ("\u0043\u0053\u0020\u0063\u006f\u006d\u006d\u0061n\u0064\u0020\u0077it\u0068\u0020\u0074\u006f\u006f\u0020m\u0061\u006e\u0079\u0020\u0070\u0061\u0072\u0061\u006d\u0065\u0074\u0065\u0072\u0073\u0020-\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075i\u006e\u0067");
return _d .New ("\u0074\u006f\u006f\u0020ma\u006e\u0079\u0020\u0070\u0061\u0072\u0061\u006d\u0065\u0074\u0065\u0072\u0073");};_efd ,_fcf :=_dbf .Params [0].(*_ea .PdfObjectName );if !_fcf {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020C\u0053\u0020\u0063o\u006d\u006d\u0061n\u0064\u0020w\u0069\u0074\u0068\u0020\u0069\u006ev\u0061li\u0064\u0020\u0070\u0061\u0072\u0061\u006d\u0065\u0074\u0065\u0072\u002c\u0020\u0073\u006b\u0069\u0070\u0070\u0069\u006e\u0067\u0020\u006f\u0076\u0065\u0072");
return _d .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");};_edga ,_dcf :=_bbbf .getColorspace (string (*_efd ),_gbba );if _dcf !=nil {return _dcf ;};_bbbf ._gabf .ColorspaceNonStroking =_edga ;_gbbb ,_dcf :=_bbbf .getInitialColor (_edga );
if _dcf !=nil {return _dcf ;};_bbbf ._gabf .ColorNonStroking =_gbbb ;return nil ;};func (_fgf *ContentStreamParser )parseNumber ()(_ea .PdfObject ,error ){return _ea .ParseNumber (_fgf ._bfeb );};func (_gafg *ContentStreamParser )parseBool ()(_ea .PdfObjectBool ,error ){_dac ,_bddf :=_gafg ._bfeb .Peek (4);
if _bddf !=nil {return _ea .PdfObjectBool (false ),_bddf ;};if (len (_dac )>=4)&&(string (_dac [:4])=="\u0074\u0072\u0075\u0065"){_gafg ._bfeb .Discard (4);return _ea .PdfObjectBool (true ),nil ;};_dac ,_bddf =_gafg ._bfeb .Peek (5);if _bddf !=nil {return _ea .PdfObjectBool (false ),_bddf ;
};if (len (_dac )>=5)&&(string (_dac [:5])=="\u0066\u0061\u006cs\u0065"){_gafg ._bfeb .Discard (5);return _ea .PdfObjectBool (false ),nil ;};return _ea .PdfObjectBool (false ),_d .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");
};

// Add_d adds 'd' operand to the content stream: Set the line dash pattern.
//
// See section 8.4.4 "Graphic State Operators" and Table 57 (pp. 135-136 PDF32000_2008).
func (_ba *ContentCreator )Add_d (dashArray []int64 ,dashPhase int64 )*ContentCreator {_ddc :=ContentStreamOperation {};_ddc .Operand ="\u0064";_ddc .Params =[]_ea .PdfObject {};_ddc .Params =append (_ddc .Params ,_ea .MakeArrayFromIntegers64 (dashArray ));
_ddc .Params =append (_ddc .Params ,_ea .MakeInteger (dashPhase ));_ba ._ebd =append (_ba ._ebd ,&_ddc );return _ba ;};

// SetStrokingColor sets the stroking `color` where color can be one of
// PdfColorDeviceGray, PdfColorDeviceRGB, or PdfColorDeviceCMYK.
func (_gfc *ContentCreator )SetStrokingColor (color _fd .PdfColor )*ContentCreator {switch _baf :=color .(type ){case *_fd .PdfColorDeviceGray :_gfc .Add_G (_baf .Val ());case *_fd .PdfColorDeviceRGB :_gfc .Add_RG (_baf .R (),_baf .G (),_baf .B ());case *_fd .PdfColorDeviceCMYK :_gfc .Add_K (_baf .C (),_baf .M (),_baf .Y (),_baf .K ());
case *_fd .PdfColorPatternType2 :_gfc .Add_CS (*_ea .MakeName ("\u0050a\u0074\u0074\u0065\u0072\u006e"));_gfc .Add_SCN_pattern (_baf .PatternName );case *_fd .PdfColorPatternType3 :_gfc .Add_CS (*_ea .MakeName ("\u0050a\u0074\u0074\u0065\u0072\u006e"));
_gfc .Add_SCN_pattern (_baf .PatternName );default:_bd .Log .Debug ("\u0053\u0065\u0074\u0053\u0074\u0072\u006f\u006b\u0069\u006e\u0067\u0043\u006fl\u006f\u0072\u003a\u0020\u0075\u006es\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064\u0020\u0063\u006f\u006c\u006fr\u003a\u0020\u0025\u0054",_baf );
};return _gfc ;};

// ContentStreamOperation represents an operation in PDF contentstream which consists of
// an operand and parameters.
type ContentStreamOperation struct{Params []_ea .PdfObject ;Operand string ;};func (_cfgf *ContentStreamProcessor )handleCommand_scn (_bdc *ContentStreamOperation ,_ *_fd .PdfPageResources )error {_bdda :=_cfgf ._gabf .ColorspaceNonStroking ;if !_cdbe (_bdda ){if len (_bdc .Params )!=_bdda .GetNumComponents (){_bd .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006e\u0075\u006d\u0062\u0065\u0072 \u006f\u0066\u0020\u0070\u0061\u0072\u0061m\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006f\u0072\u0020S\u0043");
_bd .Log .Debug ("\u004e\u0075mb\u0065\u0072\u0020%\u0064\u0020\u006e\u006ft m\u0061tc\u0068\u0069\u006e\u0067\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u0020%\u0054",len (_bdc .Params ),_bdda );if !_cfgf ._gdbf {return _d .New ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0073");
};_cafg ,_cdae :=_adaa (_bdc .Params );if _cdae !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0074\u006f\u0020\u0067\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_bdc .Params );
return _cdae ;};_bdc .Params =[]_ea .PdfObject {_cafg };};};_cfbd ,_bda :=_bdda .ColorFromPdfObjects (_bdc .Params );if _bda !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c \u0074\u006f\u0020\u0067\u0065\u0074\u0020\u0063o\u006co\u0072\u0020\u0066\u0072\u006f\u006d\u0020\u0070\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076 \u0028\u0043\u0053\u0020\u0069\u0073\u0020\u0025\u002b\u0076\u0029",_bdc .Params ,_bdda );
return _bda ;};_cfgf ._gabf .ColorNonStroking =_cfbd ;return nil ;};

// Add_gs adds 'gs' operand to the content stream: Set the graphics state.
//
// See section 8.4.4 "Graphic State Operators" and Table 57 (pp. 135-136 PDF32000_2008).
func (_adf *ContentCreator )Add_gs (dictName _ea .PdfObjectName )*ContentCreator {_bcf :=ContentStreamOperation {};_bcf .Operand ="\u0067\u0073";_bcf .Params =_ceag ([]_ea .PdfObjectName {dictName });_adf ._ebd =append (_adf ._ebd ,&_bcf );return _adf ;
};

// HandlerConditionEnum represents the type of operand content stream processor (handler).
// The handler may process a single specific named operand or all operands.
type HandlerConditionEnum int ;func _adaa (_eecc []_ea .PdfObject )(_ea .PdfObject ,error ){_bd .Log .Debug ("\u0041\u0075t\u006f\u0020\u0063o\u006e\u0076\u0065\u0072\u0074 \u0063\u006f\u006c\u006f\u0072 t\u006f\u0020\u0067\u0072\u0061\u0079\u0073\u0063\u0061\u006c\u0065\u002c\u0020\u0079\u006f\u0075\u0020\u0063a\u006e \u0074\u0075\u0072\u006e\u0020\u006fff \u0074\u0068\u0069\u0073\u0020\u0062\u0079\u0020\u0073\u0065\u0074\u0074in\u0067 \u0052\u0065\u006c\u0061x\u0065d\u004do\u0064\u0065 \u0074\u006f f\u0061\u006c\u0073\u0065");
if len (_eecc )!=3{return nil ,_d .New ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0073");};_aaef ,_beb :=_ea .GetNumbersAsFloat (_eecc );if _beb !=nil {return nil ,_beb ;
};_dagg :=int (_de .Round (_aaef [0]*255));_bfc :=int (_de .Round (_aaef [1]*255));_bgdd :=int (_de .Round (_aaef [2]*255));_dded :=_ea .RGBToGrayscale (_dagg ,_bfc ,_bgdd );return _ea .MakeFloat (float64 (_dded )/255.0),nil ;};

// Write outputs the object as a byte array.
func (_fedd *ContentStreamInlineImage )Write ()[]byte {var _fef _ad .Buffer ;if _fedd .BitsPerComponent !=nil {_fef .WriteString ("\u002f\u0042\u0050C\u0020");_fef .Write (_fedd .BitsPerComponent .Write ());_fef .WriteByte ('\n');};if _fedd .ColorSpace !=nil {_fef .WriteString ("\u002f\u0043\u0053\u0020");
_fef .Write (_fedd .ColorSpace .Write ());_fef .WriteByte ('\n');};if _fedd .Decode !=nil {_fef .WriteString ("\u002f\u0044\u0020");_fef .Write (_fedd .Decode .Write ());_fef .WriteByte ('\n');};if _fedd .DecodeParms !=nil {_fef .WriteString ("\u002f\u0044\u0050\u0020");
_fef .Write (_fedd .DecodeParms .Write ());_fef .WriteByte ('\n');};if _fedd .Filter !=nil {_fef .WriteString ("\u002f\u0046\u0020");_fef .Write (_fedd .Filter .Write ());_fef .WriteByte ('\n');};if _fedd .Height !=nil {_fef .WriteString ("\u002f\u0048\u0020");
_fef .Write (_fedd .Height .Write ());_fef .WriteByte ('\n');};if _fedd .ImageMask !=nil {_fef .WriteString ("\u002f\u0049\u004d\u0020");_fef .Write (_fedd .ImageMask .Write ());_fef .WriteByte ('\n');};if _fedd .Intent !=nil {_fef .WriteString ("\u002f\u0049\u006e\u0074\u0065\u006e\u0074\u0020");
_fef .Write (_fedd .Intent .Write ());_fef .WriteByte ('\n');};if _fedd .Interpolate !=nil {_fef .WriteString ("\u002f\u0049\u0020");_fef .Write (_fedd .Interpolate .Write ());_fef .WriteByte ('\n');};if _fedd .Width !=nil {_fef .WriteString ("\u002f\u0057\u0020");
_fef .Write (_fedd .Width .Write ());_fef .WriteByte ('\n');};_fef .WriteString ("\u0049\u0044\u0020");_fef .Write (_fedd ._cega );_fef .WriteString ("\u000a\u0045\u0049\u000a");return _fef .Bytes ();};func (_cagd *ContentStreamProcessor )handleCommand_SC (_fbdd *ContentStreamOperation ,_ *_fd .PdfPageResources )error {_bfde :=_cagd ._gabf .ColorspaceStroking ;
if len (_fbdd .Params )!=_bfde .GetNumComponents (){_bd .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006e\u0075\u006d\u0062\u0065\u0072 \u006f\u0066\u0020\u0070\u0061\u0072\u0061m\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006f\u0072\u0020S\u0043");
_bd .Log .Debug ("\u004e\u0075mb\u0065\u0072\u0020%\u0064\u0020\u006e\u006ft m\u0061tc\u0068\u0069\u006e\u0067\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u0020%\u0054",len (_fbdd .Params ),_bfde );if !_cagd ._gdbf {return _d .New ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0065\u0074e\u0072\u0073");
};_dcag ,_fged :=_adaa (_fbdd .Params );if _fged !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0074\u006f\u0020\u0067\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_fbdd .Params );
return _fged ;};_fbdd .Params =[]_ea .PdfObject {_dcag };};_fdbc ,_gedc :=_bfde .ColorFromPdfObjects (_fbdd .Params );if _gedc !=nil {return _gedc ;};_cagd ._gabf .ColorStroking =_fdbc ;return nil ;};

// NewContentStreamParser creates a new instance of the content stream parser from an input content
// stream string.
func NewContentStreamParser (contentStr string )*ContentStreamParser {_abeg :=ContentStreamParser {};contentStr =string (_ddb .ReplaceAll ([]byte (contentStr ),[]byte ("\u002f")));_fcbc :=_ad .NewBufferString (contentStr +"\u000a");_abeg ._bfeb =_a .NewReader (_fcbc );
return &_abeg ;};