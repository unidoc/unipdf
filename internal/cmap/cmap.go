//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package cmap ;import (_cf "bufio";_db "bytes";_gg "encoding/hex";_dg "errors";_c "fmt";_fe "github.com/unidoc/unipdf/v4/common";_ged "github.com/unidoc/unipdf/v4/core";_ge "github.com/unidoc/unipdf/v4/internal/cmap/bcmaps";_b "io";_bc "sort";_d "strconv";
_be "strings";_f "sync";_a "unicode/utf16";);func LoadCmapFromDataCID (data []byte )(*CMap ,error ){return LoadCmapFromData (data ,false )};func LoadPredefinedCMap (name string )(*CMap ,error ){cmap ,_cd :=_bd (name );if _cd !=nil {return nil ,_cd ;};if cmap ._cg !=""{_bae ,_gb :=_bd (cmap ._cg );
if _gb !=nil {return nil ,_gb ;};for _abc ,_dc :=range _bae ._ac {if _ ,_dda :=cmap ._ac [_abc ];!_dda {cmap ._ac [_abc ]=_dc ;};};cmap ._afc =append (cmap ._afc ,_bae ._afc ...);};_bc .Slice (cmap ._afc ,func (_cef ,_dca int )bool {return cmap ._afc [_cef ].Low < cmap ._afc [_dca ].Low });
cmap ._gae =false ;return cmap ,nil ;};func (cmap *CMap )Name ()string {return cmap ._fc };func (cmap *CMap )inCodespace (_bfe CharCode ,_cefe int )bool {for _ ,_bdc :=range cmap ._afc {if _bdc .Low <=_bfe &&_bfe <=_bdc .High &&_cefe ==_bdc .NumBytes {return true ;
};};return false ;};func _fgc (_deag cmapHexString )CharCode {_gbbc :=CharCode (0);for _ ,_dfad :=range _deag ._eecb {_gbbc <<=8;_gbbc |=CharCode (_dfad );};return _gbbc ;};func (cmap *CMap )parseSystemInfo ()error {_cgdc :=false ;_aed :=false ;_efcb :="";
_befe :=false ;_gaegg :=CIDSystemInfo {};for _bgb :=0;_bgb < 50&&!_befe ;_bgb ++{_aeb ,_bgaf :=cmap .parseObject ();if _bgaf !=nil {return _bgaf ;};switch _fcee :=_aeb .(type ){case cmapDict :_ggad :=_fcee .Dict ;_def ,_gecf :=_ggad ["\u0052\u0065\u0067\u0069\u0073\u0074\u0072\u0079"];
if !_gecf {_fe .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0042\u0061\u0064\u0020\u0053\u0079\u0073\u0074\u0065\u006d\u0020\u0049\u006ef\u006f");return ErrBadCMap ;};_gbba ,_gecf :=_def .(cmapString );if !_gecf {_fe .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0042\u0061\u0064\u0020\u0053\u0079\u0073\u0074\u0065\u006d\u0020\u0049\u006ef\u006f");
return ErrBadCMap ;};_gaegg .Registry =_gbba .String ;_def ,_gecf =_ggad ["\u004f\u0072\u0064\u0065\u0072\u0069\u006e\u0067"];if !_gecf {_fe .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0042\u0061\u0064\u0020\u0053\u0079\u0073\u0074\u0065\u006d\u0020\u0049\u006ef\u006f");
return ErrBadCMap ;};_gbba ,_gecf =_def .(cmapString );if !_gecf {_fe .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0042\u0061\u0064\u0020\u0053\u0079\u0073\u0074\u0065\u006d\u0020\u0049\u006ef\u006f");return ErrBadCMap ;};_gaegg .Ordering =_gbba .String ;
_aeg ,_gecf :=_ggad ["\u0053\u0075\u0070\u0070\u006c\u0065\u006d\u0065\u006e\u0074"];if !_gecf {_fe .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0042\u0061\u0064\u0020\u0053\u0079\u0073\u0074\u0065\u006d\u0020\u0049\u006ef\u006f");return ErrBadCMap ;
};_fga ,_gecf :=_aeg .(cmapInt );if !_gecf {_fe .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0042\u0061\u0064\u0020\u0053\u0079\u0073\u0074\u0065\u006d\u0020\u0049\u006ef\u006f");return ErrBadCMap ;};_gaegg .Supplement =int (_fga ._ddac );_befe =true ;
case cmapOperand :switch _fcee .Operand {case "\u0062\u0065\u0067i\u006e":_cgdc =true ;case "\u0065\u006e\u0064":_befe =true ;case "\u0064\u0065\u0066":_aed =false ;};case cmapName :if _cgdc {_efcb =_fcee .Name ;_aed =true ;};case cmapString :if _aed {switch _efcb {case "\u0052\u0065\u0067\u0069\u0073\u0074\u0072\u0079":_gaegg .Registry =_fcee .String ;
case "\u004f\u0072\u0064\u0065\u0072\u0069\u006e\u0067":_gaegg .Ordering =_fcee .String ;};};case cmapInt :if _aed {switch _efcb {case "\u0053\u0075\u0070\u0070\u006c\u0065\u006d\u0065\u006e\u0074":_gaegg .Supplement =int (_fcee ._ddac );};};};};if !_befe {_fe .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0053\u0079\u0073\u0074\u0065\u006d\u0020\u0049\u006e\u0066\u006f\u0020\u0064\u0069\u0063\u0074\u0020\u0069\u006ec\u006f\u0072\u0072\u0065\u0063\u0074\u006c\u0079");
return ErrBadCMap ;};cmap ._cfd =_gaegg ;return nil ;};func (cmap *CMap )WMode ()(int ,bool ){return cmap ._ga ._bagb ,cmap ._ga ._bcd };func (cmap *CMap )String ()string {_fdd :=cmap ._cfd ;_fg :=[]string {_c .Sprintf ("\u006e\u0062\u0069\u0074\u0073\u003a\u0025\u0064",cmap ._ebf ),_c .Sprintf ("\u0074y\u0070\u0065\u003a\u0025\u0064",cmap ._ce )};
if cmap ._cb !=""{_fg =append (_fg ,_c .Sprintf ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u003a\u0025\u0073",cmap ._cb ));};if cmap ._cg !=""{_fg =append (_fg ,_c .Sprintf ("u\u0073\u0065\u0063\u006d\u0061\u0070\u003a\u0025\u0023\u0071",cmap ._cg ));
};_fg =append (_fg ,_c .Sprintf ("\u0073\u0079\u0073\u0074\u0065\u006d\u0049\u006e\u0066\u006f\u003a\u0025\u0073",_fdd .String ()));if len (cmap ._afc )> 0{_fg =append (_fg ,_c .Sprintf ("\u0063\u006f\u0064\u0065\u0073\u0070\u0061\u0063\u0065\u0073\u003a\u0025\u0064",len (cmap ._afc )));
};if len (cmap ._fcc )> 0{_fg =append (_fg ,_c .Sprintf ("\u0063\u006fd\u0065\u0054\u006fU\u006e\u0069\u0063\u006f\u0064\u0065\u003a\u0025\u0064",len (cmap ._fcc )));};return _c .Sprintf ("\u0043\u004d\u0041P\u007b\u0025\u0023\u0071\u0020\u0025\u0073\u007d",cmap ._fc ,_be .Join (_fg ,"\u0020"));
};func IsPredefinedCMap (name string )bool {return _ge .AssetExists (name )};const (_e =4;MissingCodeRune ='\ufffd';MissingCodeString =string (MissingCodeRune ););func (_cfbe *cMapParser )skipSpaces ()(int ,error ){_beae :=0;for {_fadd ,_gade :=_cfbe ._bdba .Peek (1);
if _gade !=nil {return 0,_gade ;};if _ged .IsWhiteSpace (_fadd [0]){_cfbe ._bdba .ReadByte ();_beae ++;}else {break ;};};return _beae ,nil ;};func (cmap *CMap )CharcodeToCID (code CharCode )(CharCode ,bool ){_fad ,_abe :=cmap ._ac [code ];return _fad ,_abe ;
};func (cmap *CMap )ensureInverseMappings (){cmap ._ae .RLock ();if cmap ._gae {cmap ._ae .RUnlock ();return ;};cmap ._ae .RUnlock ();cmap ._ae .Lock ();defer cmap ._ae .Unlock ();if cmap ._gae {return ;};for _geb ,_gbe :=range cmap ._ac {if _gec ,_cgde :=cmap ._cgd [_gbe ];
!_cgde ||(_cgde &&_gec > _geb ){cmap ._cgd [_gbe ]=_geb ;};};for _cc ,_ebe :=range cmap ._fcc {if _abg ,_eag :=cmap ._bce [_ebe ];!_eag ||(_eag &&_abg > _cc ){cmap ._bce [_ebe ]=_cc ;};};_bc .Slice (cmap ._afc ,func (_aa ,_bed int )bool {return cmap ._afc [_aa ].Low < cmap ._afc [_bed ].Low });
cmap ._gae =true ;};func (_fdda *cMapParser )parseName ()(cmapName ,error ){_cafg :="";_edc :=false ;for {_aceb ,_bgbf :=_fdda ._bdba .Peek (1);if _bgbf ==_b .EOF {break ;};if _bgbf !=nil {return cmapName {_cafg },_bgbf ;};if !_edc {if _aceb [0]=='/'{_edc =true ;
_fdda ._bdba .ReadByte ();}else {_fe .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u004e\u0061\u006d\u0065\u0020\u0073\u0074a\u0072t\u0069n\u0067 \u0077\u0069\u0074\u0068\u0020\u0025\u0073\u0020\u0028\u0025\u0020\u0078\u0029",_aceb ,_aceb );return cmapName {_cafg },_c .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_aceb [0]);
};}else {if _ged .IsWhiteSpace (_aceb [0]){break ;}else if (_aceb [0]=='/')||(_aceb [0]=='[')||(_aceb [0]=='(')||(_aceb [0]==']')||(_aceb [0]=='<')||(_aceb [0]=='>'){break ;}else if _aceb [0]=='#'{_aac ,_egc :=_fdda ._bdba .Peek (3);if _egc !=nil {return cmapName {_cafg },_egc ;
};_fdda ._bdba .Discard (3);_fbeb ,_egc :=_gg .DecodeString (string (_aac [1:3]));if _egc !=nil {return cmapName {_cafg },_egc ;};_cafg +=string (_fbeb );}else {_aagf ,_ :=_fdda ._bdba .ReadByte ();_cafg +=string (_aagf );};};};return cmapName {_cafg },nil ;
};func (cmap *CMap )StringToCID (s string )(CharCode ,bool ){cmap .ensureInverseMappings ();_aea ,_cdg :=cmap ._bce [s ];return _aea ,_cdg ;};func (cmap *CMap )NBits ()int {return cmap ._ebf };func NewCIDSystemInfo (obj _ged .PdfObject )(_af CIDSystemInfo ,_feb error ){_gf ,_dd :=_ged .GetDict (obj );
if !_dd {return CIDSystemInfo {},_ged .ErrTypeError ;};_ee ,_dd :=_ged .GetStringVal (_gf .Get ("\u0052\u0065\u0067\u0069\u0073\u0074\u0072\u0079"));if !_dd {return CIDSystemInfo {},_ged .ErrTypeError ;};_cfb ,_dd :=_ged .GetStringVal (_gf .Get ("\u004f\u0072\u0064\u0065\u0072\u0069\u006e\u0067"));
if !_dd {return CIDSystemInfo {},_ged .ErrTypeError ;};_dgb ,_dd :=_ged .GetIntVal (_gf .Get ("\u0053\u0075\u0070\u0070\u006c\u0065\u006d\u0065\u006e\u0074"));if !_dd {return CIDSystemInfo {},_ged .ErrTypeError ;};return CIDSystemInfo {Registry :_ee ,Ordering :_cfb ,Supplement :_dgb },nil ;
};func (_dee *cMapParser )parseNumber ()(cmapObject ,error ){_ddab ,_adec :=_ged .ParseNumber (_dee ._bdba );if _adec !=nil {return nil ,_adec ;};switch _cgacd :=_ddab .(type ){case *_ged .PdfObjectFloat :return cmapFloat {float64 (*_cgacd )},nil ;case *_ged .PdfObjectInteger :return cmapInt {int64 (*_cgacd )},nil ;
};return nil ,_c .Errorf ("\u0075n\u0068\u0061\u006e\u0064\u006c\u0065\u0064\u0020\u006e\u0075\u006db\u0065\u0072\u0020\u0074\u0079\u0070\u0065\u0020\u0025\u0054",_ddab );};func (cmap *CMap )Type ()int {return cmap ._ce };func (cmap *CMap )CIDToCharcode (cid CharCode )(CharCode ,bool ){cmap .ensureInverseMappings ();
_ceb ,_dfg :=cmap ._cgd [cid ];return _ceb ,_dfg ;};const (_cfeg ="\u0043\u0049\u0044\u0053\u0079\u0073\u0074\u0065\u006d\u0049\u006e\u0066\u006f";_cfed ="\u0062e\u0067\u0069\u006e\u0063\u006d\u0061p";_gcd ="\u0065n\u0064\u0063\u006d\u0061\u0070";_cfeb ="\u0062\u0065\u0067\u0069nc\u006f\u0064\u0065\u0073\u0070\u0061\u0063\u0065\u0072\u0061\u006e\u0067\u0065";
_ccbg ="\u0065\u006e\u0064\u0063\u006f\u0064\u0065\u0073\u0070\u0061\u0063\u0065r\u0061\u006e\u0067\u0065";_efaa ="b\u0065\u0067\u0069\u006e\u0062\u0066\u0063\u0068\u0061\u0072";_fgf ="\u0065n\u0064\u0062\u0066\u0063\u0068\u0061r";_caf ="\u0062\u0065\u0067i\u006e\u0062\u0066\u0072\u0061\u006e\u0067\u0065";
_agf ="\u0065\u006e\u0064\u0062\u0066\u0072\u0061\u006e\u0067\u0065";_bee ="\u0062\u0065\u0067\u0069\u006e\u0063\u0069\u0064\u0072\u0061\u006e\u0067\u0065";_fda ="e\u006e\u0064\u0063\u0069\u0064\u0072\u0061\u006e\u0067\u0065";_befd ="\u0075s\u0065\u0063\u006d\u0061\u0070";
_dfca ="\u0057\u004d\u006fd\u0065";_fcd ="\u0043\u004d\u0061\u0070\u004e\u0061\u006d\u0065";_dgf ="\u0043\u004d\u0061\u0070\u0054\u0079\u0070\u0065";_ggac ="C\u004d\u0061\u0070\u0056\u0065\u0072\u0073\u0069\u006f\u006e";);func _bdcc ()cmapDict {return cmapDict {Dict :map[string ]cmapObject {}}};
func _fce (_aca string )string {_cdf :=[]rune (_aca );_aff :=make ([]string ,len (_cdf ));for _gcb ,_gaeg :=range _cdf {_aff [_gcb ]=_c .Sprintf ("\u0025\u0030\u0034\u0078",_gaeg );};return _c .Sprintf ("\u003c\u0025\u0073\u003e",_be .Join (_aff ,""));
};type cmapHexString struct{_cbgb int ;_eecb []byte ;};func (cmap *CMap )parseVersion ()error {_ade :="";_ceg :=false ;for _bebf :=0;_bebf < 3&&!_ceg ;_bebf ++{_cdb ,_ccb :=cmap .parseObject ();if _ccb !=nil {return _ccb ;};switch _dae :=_cdb .(type ){case cmapOperand :switch _dae .Operand {case "\u0064\u0065\u0066":_ceg =true ;
default:_fe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0070\u0061\u0072\u0073\u0065\u0056e\u0072\u0073\u0069\u006f\u006e\u003a \u0073\u0074\u0061\u0074\u0065\u0020\u0065\u0072\u0072\u006f\u0072\u002e\u0020o\u003d\u0025\u0023\u0076",_cdb );
return ErrBadCMap ;};case cmapInt :_ade =_c .Sprintf ("\u0025\u0064",_dae ._ddac );case cmapFloat :_ade =_c .Sprintf ("\u0025\u0066",_dae ._adc );case cmapString :_ade =_dae .String ;default:_fe .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020p\u0061\u0072\u0073\u0065Ver\u0073io\u006e\u003a\u0020\u0042\u0061\u0064\u0020ty\u0070\u0065\u002e\u0020\u006f\u003d\u0025#\u0076",_cdb );
};};cmap ._cb =_ade ;return nil ;};func _ea (_ab bool )*CMap {_acb :=16;if _ab {_acb =8;};return &CMap {_ebf :_acb ,_ac :make (map[CharCode ]CharCode ),_cgd :make (map[CharCode ]CharCode ),_fcc :make (map[CharCode ]string ),_bce :make (map[string ]CharCode )};
};func (cmap *CMap )matchCode (_eba []byte )(_ff CharCode ,_bcc int ,_bf bool ){for _ddb :=0;_ddb < _e ;_ddb ++{if _ddb < len (_eba ){_ff =_ff <<8|CharCode (_eba [_ddb ]);_bcc ++;};_bf =cmap .inCodespace (_ff ,_ddb +1);if _bf {return _ff ,_bcc ,true ;};
};_fe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0063o\u0064\u0065\u0073\u0070\u0061\u0063\u0065\u0020m\u0061t\u0063\u0068\u0065\u0073\u0020\u0062\u0079\u0074\u0065\u0073\u003d\u005b\u0025\u0020\u0030\u0032\u0078\u005d=\u0025\u0023\u0071\u0020\u0063\u006d\u0061\u0070\u003d\u0025\u0073",_eba ,string (_eba ),cmap );
return 0,0,false ;};func (_efag *cMapParser )parseObject ()(cmapObject ,error ){_efag .skipSpaces ();for {_gdf ,_gda :=_efag ._bdba .Peek (2);if _gda !=nil {return nil ,_gda ;};if _gdf [0]=='%'{_efag .parseComment ();_efag .skipSpaces ();continue ;}else if _gdf [0]=='/'{_afcf ,_affaf :=_efag .parseName ();
return _afcf ,_affaf ;}else if _gdf [0]=='('{_gbf ,_dccc :=_efag .parseString ();return _gbf ,_dccc ;}else if _gdf [0]=='['{_abd ,_gcbc :=_efag .parseArray ();return _abd ,_gcbc ;}else if (_gdf [0]=='<')&&(_gdf [1]=='<'){_bff ,_ebgg :=_efag .parseDict ();
return _bff ,_ebgg ;}else if _gdf [0]=='<'{_ece ,_ega :=_efag .parseHexString ();return _ece ,_ega ;}else if _ged .IsDecimalDigit (_gdf [0])||(_gdf [0]=='-'&&_ged .IsDecimalDigit (_gdf [1])){_bgad ,_ggc :=_efag .parseNumber ();if _ggc !=nil {return nil ,_ggc ;
};return _bgad ,nil ;}else {_dddb ,_fbfd :=_efag .parseOperand ();if _fbfd !=nil {return nil ,_fbfd ;};return _dddb ,nil ;};};};const (_cgg =100;_fae ="\u000a\u002f\u0043\u0049\u0044\u0049\u006e\u0069\u0074\u0020\u002f\u0050\u0072\u006fc\u0053\u0065\u0074\u0020\u0066\u0069\u006e\u0064\u0072es\u006fu\u0072c\u0065 \u0062\u0065\u0067\u0069\u006e\u000a\u0031\u0032\u0020\u0064\u0069\u0063\u0074\u0020\u0062\u0065\u0067\u0069n\u000a\u0062\u0065\u0067\u0069\u006e\u0063\u006d\u0061\u0070\n\u002f\u0043\u0049\u0044\u0053\u0079\u0073\u0074\u0065m\u0049\u006e\u0066\u006f\u0020\u003c\u003c\u0020\u002f\u0052\u0065\u0067\u0069\u0073t\u0072\u0079\u0020\u0028\u0041\u0064\u006f\u0062\u0065\u0029\u0020\u002f\u004f\u0072\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0028\u0055\u0043\u0053)\u0020\u002f\u0053\u0075\u0070p\u006c\u0065\u006d\u0065\u006et\u0020\u0030\u0020\u003e\u003e\u0020\u0064\u0065\u0066\u000a\u002f\u0043\u004d\u0061\u0070\u004e\u0061\u006d\u0065\u0020\u002f\u0041\u0064\u006f\u0062\u0065-\u0049\u0064\u0065\u006e\u0074\u0069\u0074\u0079\u002d\u0055\u0043\u0053\u0020\u0064\u0065\u0066\u000a\u002fC\u004d\u0061\u0070\u0054\u0079\u0070\u0065\u0020\u0032\u0020\u0064\u0065\u0066\u000a\u0031\u0020\u0062\u0065\u0067\u0069\u006e\u0063\u006f\u0064\u0065\u0073\u0070\u0061\u0063e\u0072\u0061n\u0067\u0065\n\u003c\u0030\u0030\u0030\u0030\u003e\u0020<\u0046\u0046\u0046\u0046\u003e\u000a\u0065\u006e\u0064\u0063\u006f\u0064\u0065\u0073\u0070\u0061\u0063\u0065r\u0061\u006e\u0067\u0065\u000a";
_dgbf ="\u0065\u006e\u0064\u0063\u006d\u0061\u0070\u000a\u0043\u004d\u0061\u0070\u004e\u0061\u006d\u0065\u0020\u0063ur\u0072e\u006e\u0074\u0064\u0069\u0063\u0074\u0020\u002f\u0043\u004d\u0061\u0070 \u0064\u0065\u0066\u0069\u006e\u0065\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u0020\u0070\u006fp\u000a\u0065\u006e\u0064\u000a\u0065\u006e\u0064\u000a";
);func (cmap *CMap )parseWMode ()error {var _fbb int ;_aag :=false ;for _abb :=0;_abb < 3&&!_aag ;_abb ++{_agga ,_abbb :=cmap .parseObject ();if _abbb !=nil {return _abbb ;};switch _ffd :=_agga .(type ){case cmapOperand :switch _ffd .Operand {case "\u0064\u0065\u0066":_aag =true ;
default:_fe .Log .Error ("\u0070\u0061\u0072\u0073\u0065\u0057\u004d\u006f\u0064\u0065:\u0020\u0073\u0074\u0061\u0074\u0065\u0020e\u0072\u0072\u006f\u0072\u002e\u0020\u006f\u003d\u0025\u0023\u0076",_agga );return ErrBadCMap ;};case cmapInt :_fbb =int (_ffd ._ddac );
};};cmap ._ga =integer {_bcd :true ,_bagb :_fbb };return nil ;};func _cedg (_bdce []byte )*cMapParser {_cbcd :=cMapParser {};_fgd :=_db .NewBuffer (_bdce );_cbcd ._bdba =_cf .NewReader (_fgd );return &_cbcd ;};type cmapOperand struct{Operand string ;};
func (cmap *CMap )Bytes ()[]byte {_fe .Log .Trace ("\u0063\u006d\u0061\u0070.B\u0079\u0074\u0065\u0073\u003a\u0020\u0063\u006d\u0061\u0070\u003d\u0025\u0073",cmap .String ());if len (cmap ._cff )> 0{return cmap ._cff ;};cmap ._cff =[]byte (_be .Join ([]string {_fae ,cmap .toBfData (),_dgbf },"\u000a"));
return cmap ._cff ;};func (cmap *CMap )parseName ()error {_efa :="";_fbg :=false ;for _gcg :=0;_gcg < 20&&!_fbg ;_gcg ++{_abf ,_efac :=cmap .parseObject ();if _efac !=nil {return _efac ;};switch _gff :=_abf .(type ){case cmapOperand :switch _gff .Operand {case "\u0064\u0065\u0066":_fbg =true ;
default:_fe .Log .Debug ("\u0070\u0061\u0072\u0073\u0065\u004e\u0061\u006d\u0065\u003a\u0020\u0053\u0074\u0061\u0074\u0065\u0020\u0065\u0072\u0072\u006f\u0072\u002e\u0020o\u003d\u0025\u0023\u0076\u0020n\u0061\u006de\u003d\u0025\u0023\u0071",_abf ,_efa );
if _efa !=""{_efa =_c .Sprintf ("\u0025\u0073\u0020%\u0073",_efa ,_gff .Operand );};_fe .Log .Debug ("\u0070\u0061\u0072\u0073\u0065\u004e\u0061\u006d\u0065\u003a \u0052\u0065\u0063\u006f\u0076\u0065\u0072e\u0064\u002e\u0020\u006e\u0061\u006d\u0065\u003d\u0025\u0023\u0071",_efa );
};case cmapName :_efa =_gff .Name ;};};if !_fbg {_fe .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a \u0070\u0061\u0072\u0073\u0065N\u0061m\u0065:\u0020\u004e\u006f\u0020\u0064\u0065\u0066 ");return ErrBadCMap ;};cmap ._fc =_efa ;return nil ;};type cMapParser struct{_bdba *_cf .Reader };
func (cmap *CMap )parseBfrange ()error {for {var _deb CharCode ;_gffc ,_cdee :=cmap .parseObject ();if _cdee !=nil {if _cdee ==_b .EOF {break ;};return _cdee ;};switch _acg :=_gffc .(type ){case cmapOperand :if _acg .Operand ==_agf {return nil ;};return _dg .New ("\u0075n\u0065x\u0070\u0065\u0063\u0074\u0065d\u0020\u006fp\u0065\u0072\u0061\u006e\u0064");
case cmapHexString :_deb =_fgc (_acg );default:return _dg .New ("\u0075n\u0065x\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0074\u0079\u0070\u0065");};var _cad CharCode ;_gffc ,_cdee =cmap .parseObject ();if _cdee !=nil {if _cdee ==_b .EOF {break ;};return _cdee ;
};switch _eaa :=_gffc .(type ){case cmapOperand :_fe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0049\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065\u0020\u0062\u0066r\u0061\u006e\u0067\u0065\u0020\u0074\u0072i\u0070\u006c\u0065\u0074");
return ErrBadCMap ;case cmapHexString :_cad =_fgc (_eaa );if _cad > 0xffff{_cad =0xffff;};default:_fe .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a \u0055\u006e\u0065\u0078\u0070e\u0063t\u0065d\u0020\u0074\u0079\u0070\u0065\u0020\u0025T",_gffc );return ErrBadCMap ;
};_gffc ,_cdee =cmap .parseObject ();if _cdee !=nil {if _cdee ==_b .EOF {break ;};return _cdee ;};switch _dcb :=_gffc .(type ){case cmapArray :if len (_dcb .Array )!=int (_cad -_deb )+1{_fe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069d\u0020\u006e\u0075\u006d\u0062\u0065r\u0020\u006f\u0066\u0020\u0069\u0074\u0065\u006d\u0073\u0020\u0069\u006e\u0020a\u0072\u0072\u0061\u0079");
return ErrBadCMap ;};for _gbbaf :=_deb ;_gbbaf <=_cad ;_gbbaf ++{_bgf :=_dcb .Array [_gbbaf -_deb ];_cgac ,_cbdb :=_bgf .(cmapHexString );if !_cbdb {return _dg .New ("\u006e\u006f\u006e-h\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0069\u006e\u0020\u0061\u0072\u0072\u0061\u0079");
};_ffc :=_decb (_cgac );cmap ._fcc [_gbbaf ]=string (_ffc );};case cmapHexString :_dfcc :=_decb (_dcb );_eea :=len (_dfcc );for _ecd :=_deb ;_ecd <=_cad ;_ecd ++{cmap ._fcc [_ecd ]=string (_dfcc );if _eea > 0{_dfcc [_eea -1]++;}else {_fe .Log .Debug ("\u004e\u006f\u0020c\u006d\u0061\u0070\u0020\u0074\u0061\u0072\u0067\u0065\u0074\u0020\u0063\u0068\u0061\u0072\u0061\u0063\u0074\u0065\u0072\u0020\u0073\u0070\u0065\u0063\u0069\u0066\u0069\u0065d\u0020\u0066\u006f\u0072\u0020\u0025\u0023\u0076",_ecd );
};if _ecd ==1<<32-1{break ;};};default:_fe .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a \u0055\u006e\u0065\u0078\u0070e\u0063t\u0065d\u0020\u0074\u0079\u0070\u0065\u0020\u0025T",_gffc );return ErrBadCMap ;};};return nil ;};type Codespace struct{NumBytes int ;
Low CharCode ;High CharCode ;};func (cmap *CMap )parseType ()error {_cfc :=0;_cfdd :=false ;for _dac :=0;_dac < 3&&!_cfdd ;_dac ++{_dacf ,_eed :=cmap .parseObject ();if _eed !=nil {return _eed ;};switch _bgd :=_dacf .(type ){case cmapOperand :switch _bgd .Operand {case "\u0064\u0065\u0066":_cfdd =true ;
default:_fe .Log .Error ("\u0070\u0061r\u0073\u0065\u0054\u0079\u0070\u0065\u003a\u0020\u0073\u0074\u0061\u0074\u0065\u0020\u0065\u0072\u0072\u006f\u0072\u002e\u0020\u006f=%\u0023\u0076",_dacf );return ErrBadCMap ;};case cmapInt :_cfc =int (_bgd ._ddac );
};};cmap ._ce =_cfc ;return nil ;};func (_de *CIDSystemInfo )String ()string {return _c .Sprintf ("\u0025\u0073\u002d\u0025\u0073\u002d\u0025\u0030\u0033\u0064",_de .Registry ,_de .Ordering ,_de .Supplement );};func (_cag *cMapParser )parseComment ()(string ,error ){var _ggcc _db .Buffer ;
_ ,_eec :=_cag .skipSpaces ();if _eec !=nil {return _ggcc .String (),_eec ;};_fead :=true ;for {_fbef ,_ceff :=_cag ._bdba .Peek (1);if _ceff !=nil {_fe .Log .Debug ("p\u0061r\u0073\u0065\u0043\u006f\u006d\u006d\u0065\u006et\u003a\u0020\u0065\u0072r=\u0025\u0076",_ceff );
return _ggcc .String (),_ceff ;};if _fead &&_fbef [0]!='%'{return _ggcc .String (),ErrBadCMapComment ;};_fead =false ;if (_fbef [0]!='\r')&&(_fbef [0]!='\n'){_bbf ,_ :=_cag ._bdba .ReadByte ();_ggcc .WriteByte (_bbf );}else {break ;};};return _ggcc .String (),nil ;
};func (cmap *CMap )BytesToCharcodes (data []byte )([]CharCode ,bool ){var _cde []CharCode ;if cmap ._ebf ==8{for _ ,_bad :=range data {_cde =append (_cde ,CharCode (_bad ));};return _cde ,true ;};for _adg :=0;_adg < len (data );{_dbe ,_beb ,_fee :=cmap .matchCode (data [_adg :]);
if !_fee {_fe .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0063\u006f\u0064\u0065\u0020\u006d\u0061\u0074\u0063\u0068\u0020\u0061\u0074\u0020\u0069\u003d\u0025\u0064\u0020\u0062\u0079\u0074\u0065\u0073\u003d\u005b\u0025\u0020\u0030\u0032\u0078\u005d\u003d\u0025\u0023\u0071",_adg ,data ,string (data ));
return _cde ,false ;};_cde =append (_cde ,_dbe );_adg +=_beb ;};return _cde ,true ;};func (cmap *CMap )parse ()error {var _dfff cmapObject ;for {_gbbe ,_fef :=cmap .parseObject ();if _fef !=nil {if _fef ==_b .EOF {break ;};_fe .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0043\u004d\u0061\u0070\u003a\u0020\u0025\u0076",_fef );
return _fef ;};switch _fea :=_gbbe .(type ){case cmapOperand :_caba :=_fea ;switch _caba .Operand {case _cfeb :_fgg :=cmap .parseCodespaceRange ();if _fgg !=nil {return _fgg ;};case _bee :_dfc :=cmap .parseCIDRange ();if _dfc !=nil {return _dfc ;};case _efaa :_gfg :=cmap .parseBfchar ();
if _gfg !=nil {return _gfg ;};case _caf :_fgbd :=cmap .parseBfrange ();if _fgbd !=nil {return _fgbd ;};case _befd :if _dfff ==nil {_fe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u0073\u0065\u0063m\u0061\u0070\u0020\u0077\u0069\u0074\u0068\u0020\u006e\u006f \u0061\u0072\u0067");
return ErrBadCMap ;};_gce ,_gdc :=_dfff .(cmapName );if !_gdc {_fe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0075\u0073\u0065\u0063\u006d\u0061\u0070\u0020\u0061\u0072\u0067\u0020\u006eo\u0074\u0020\u0061\u0020\u006e\u0061\u006de\u0020\u0025\u0023\u0076",_dfff );
return ErrBadCMap ;};cmap ._cg =_gce .Name ;case _cfeg :_gbc :=cmap .parseSystemInfo ();if _gbc !=nil {return _gbc ;};};case cmapName :_cbd :=_fea ;switch _cbd .Name {case _cfeg :_cggf :=cmap .parseSystemInfo ();if _cggf !=nil {return _cggf ;};case _fcd :_cffc :=cmap .parseName ();
if _cffc !=nil {return _cffc ;};case _dgf :_efc :=cmap .parseType ();if _efc !=nil {return _efc ;};case _ggac :_cdfd :=cmap .parseVersion ();if _cdfd !=nil {return _cdfd ;};case _dfca :if _fef =cmap .parseWMode ();_fef !=nil {return _fef ;};};};_dfff =_gbbe ;
};return nil ;};func (cmap *CMap )parseCIDRange ()error {for {_aga ,_befc :=cmap .parseObject ();if _befc !=nil {if _befc ==_b .EOF {break ;};return _befc ;};_aagg ,_bfa :=_aga .(cmapHexString );if !_bfa {if _fefe ,_dfaa :=_aga .(cmapOperand );_dfaa {if _fefe .Operand ==_fda {return nil ;
};return _dg .New ("\u0063\u0069\u0064\u0020\u0069\u006e\u0074\u0065\u0072\u0076\u0061\u006c\u0020s\u0074\u0061\u0072\u0074\u0020\u006du\u0073\u0074\u0020\u0062\u0065\u0020\u0061\u0020\u0068\u0065\u0078\u0020\u0073t\u0072\u0069\u006e\u0067");};};_efeg :=_fgc (_aagg );
_aga ,_befc =cmap .parseObject ();if _befc !=nil {if _befc ==_b .EOF {break ;};return _befc ;};_afg ,_bfa :=_aga .(cmapHexString );if !_bfa {return _dg .New ("\u0063\u0069d\u0020\u0069\u006e\u0074e\u0072\u0076a\u006c\u0020\u0065\u006e\u0064\u0020\u006d\u0075s\u0074\u0020\u0062\u0065\u0020\u0061\u0020\u0068\u0065\u0078\u0020\u0073t\u0072\u0069\u006e\u0067");
};if len (_aagg ._eecb )!=len (_afg ._eecb ){return _dg .New ("\u0075\u006e\u0065\u0071\u0075\u0061\u006c\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0062\u0079\u0074\u0065\u0073\u0020\u0069\u006e\u0020\u0072\u0061\u006e\u0067\u0065");};_ccg :=_fgc (_afg );
if _efeg > _ccg {_fe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0043\u0049\u0044\u0020\u0072\u0061\u006e\u0067\u0065\u002e\u0020\u0073t\u0061\u0072\u0074\u003d\u0030\u0078\u0025\u0030\u0032\u0078\u0020\u0065\u006e\u0064=\u0030x\u0025\u0030\u0032\u0078",_efeg ,_ccg );
return ErrBadCMap ;};_aga ,_befc =cmap .parseObject ();if _befc !=nil {if _befc ==_b .EOF {break ;};return _befc ;};_fadb ,_bfa :=_aga .(cmapInt );if !_bfa {return _dg .New ("\u0063\u0069\u0064\u0020\u0073t\u0061\u0072\u0074\u0020\u0076\u0061\u006c\u0075\u0065\u0020\u006d\u0075\u0073t\u0020\u0062\u0065\u0020\u0061\u006e\u0020\u0064\u0065\u0063\u0069\u006d\u0061\u006c\u0020\u006e\u0075\u006d\u0062\u0065\u0072");
};if _fadb ._ddac < 0{return _dg .New ("\u0069\u006e\u0076al\u0069\u0064\u0020\u0063\u0069\u0064\u0020\u0073\u0074\u0061\u0072\u0074\u0020\u0076\u0061\u006c\u0075\u0065");};_cbg :=_fadb ._ddac ;for _geac :=_efeg ;_geac <=_ccg ;_geac ++{cmap ._ac [_geac ]=CharCode (_cbg );
_cbg ++;};_fe .Log .Trace ("C\u0049\u0044\u0020\u0072\u0061\u006eg\u0065\u003a\u0020\u003c\u0030\u0078\u0025\u0058\u003e \u003c\u0030\u0078%\u0058>\u0020\u0025\u0064",_efeg ,_ccg ,_fadb ._ddac );};return nil ;};type charRange struct{_bef CharCode ;_eb CharCode ;
};type fbRange struct{_ebg CharCode ;_fec CharCode ;_gea string ;};func (_ecg *cMapParser )parseHexString ()(cmapHexString ,error ){_ecg ._bdba .ReadByte ();_cca :=[]byte ("\u0030\u0031\u0032\u003345\u0036\u0037\u0038\u0039\u0061\u0062\u0063\u0064\u0065\u0066\u0041\u0042\u0043\u0044E\u0046");
_afa :=_db .Buffer {};for {_ecg .skipSpaces ();_dec ,_cabag :=_ecg ._bdba .Peek (1);if _cabag !=nil {return cmapHexString {},_cabag ;};if _dec [0]=='>'{_ecg ._bdba .ReadByte ();break ;};_dea ,_ :=_ecg ._bdba .ReadByte ();if _db .IndexByte (_cca ,_dea )>=0{_afa .WriteByte (_dea );
};};if _afa .Len ()%2==1{_fe .Log .Debug ("\u0070\u0061rs\u0065\u0048\u0065x\u0053\u0074\u0072\u0069ng:\u0020ap\u0070\u0065\u006e\u0064\u0069\u006e\u0067 '\u0030\u0027\u0020\u0074\u006f\u0020\u0025#\u0071",_afa .String ());_afa .WriteByte ('0');};_daef :=_afa .Len ()/2;
_abgg ,_ :=_gg .DecodeString (_afa .String ());return cmapHexString {_cbgb :_daef ,_eecb :_abgg },nil ;};func (cmap *CMap )CharcodeBytesToUnicode (data []byte )(string ,int ){_ddd ,_bgg :=cmap .BytesToCharcodes (data );if !_bgg {_fe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0043\u0068\u0061\u0072\u0063\u006f\u0064\u0065\u0042\u0079\u0074\u0065s\u0054\u006f\u0055\u006e\u0069\u0063\u006f\u0064\u0065\u002e\u0020\u004e\u006f\u0074\u0020\u0069n\u0020\u0063\u006f\u0064\u0065\u0073\u0070\u0061\u0063\u0065\u0073\u002e\u0020\u0064\u0061\u0074\u0061\u003d\u005b\u0025\u0020\u0030\u0032\u0078]\u0020\u0063\u006d\u0061\u0070=\u0025\u0073",data ,cmap );
return "",0;};_gbee :=make ([]string ,len (_ddd ));var _da []CharCode ;for _baee ,_cee :=range _ddd {_bcf ,_bcg :=cmap ._fcc [_cee ];if !_bcg {_da =append (_da ,_cee );_bcf =MissingCodeString ;};_gbee [_baee ]=_bcf ;};_cab :=_be .Join (_gbee ,"");if len (_da )> 0{_fe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020C\u0068\u0061\u0072c\u006f\u0064\u0065\u0042y\u0074\u0065\u0073\u0054\u006f\u0055\u006e\u0069\u0063\u006f\u0064\u0065\u002e\u0020\u004e\u006f\u0074\u0020\u0069\u006e\u0020\u006d\u0061\u0070\u002e\u000a"+"\u0009d\u0061t\u0061\u003d\u005b\u0025\u00200\u0032\u0078]\u003d\u0025\u0023\u0071\u000a"+"\u0009\u0063h\u0061\u0072\u0063o\u0064\u0065\u0073\u003d\u0025\u0030\u0032\u0078\u000a"+"\u0009\u006d\u0069\u0073\u0073\u0069\u006e\u0067\u003d\u0025\u0064\u0020%\u0030\u0032\u0078\u000a"+"\u0009\u0075\u006e\u0069\u0063\u006f\u0064\u0065\u003d`\u0025\u0073\u0060\u000a"+"\u0009\u0063\u006d\u0061\u0070\u003d\u0025\u0073",data ,string (data ),_ddd ,len (_da ),_da ,_cab ,cmap );
};return _cab ,len (_da );};func (_gcde *cMapParser )parseDict ()(cmapDict ,error ){_fe .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0050\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_dacd :=_bdcc ();_gded ,_ :=_gcde ._bdba .ReadByte ();
if _gded !='<'{return _dacd ,ErrBadCMapDict ;};_gded ,_ =_gcde ._bdba .ReadByte ();if _gded !='<'{return _dacd ,ErrBadCMapDict ;};for {_gcde .skipSpaces ();_gdg ,_bbga :=_gcde ._bdba .Peek (2);if _bbga !=nil {return _dacd ,_bbga ;};if (_gdg [0]=='>')&&(_gdg [1]=='>'){_gcde ._bdba .ReadByte ();
_gcde ._bdba .ReadByte ();break ;};_afd ,_bbga :=_gcde .parseName ();_fe .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_afd .Name );if _bbga !=nil {_fe .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0052\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006e\u0061\u006d\u0065\u002e\u0020\u0065\u0072r=\u0025\u0076",_bbga );
return _dacd ,_bbga ;};_gcde .skipSpaces ();_dab ,_bbga :=_gcde .parseObject ();if _bbga !=nil {return _dacd ,_bbga ;};_dacd .Dict [_afd .Name ]=_dab ;_gcde .skipSpaces ();_gdg ,_bbga =_gcde ._bdba .Peek (3);if _bbga !=nil {return _dacd ,_bbga ;};if string (_gdg )=="\u0064\u0065\u0066"{_gcde ._bdba .Discard (3);
};};return _dacd ,nil ;};type cmapDict struct{Dict map[string ]cmapObject ;};func (_acf *cMapParser )parseOperand ()(cmapOperand ,error ){_adb :=cmapOperand {};_eff :=_db .Buffer {};for {_cfbf ,_acgg :=_acf ._bdba .Peek (1);if _acgg !=nil {if _acgg ==_b .EOF {break ;
};return _adb ,_acgg ;};if _ged .IsDelimiter (_cfbf [0]){break ;};if _ged .IsWhiteSpace (_cfbf [0]){break ;};_fbefd ,_ :=_acf ._bdba .ReadByte ();_eff .WriteByte (_fbefd );};if _eff .Len ()==0{return _adb ,_c .Errorf ("\u0069\u006e\u0076al\u0069\u0064\u0020\u006f\u0070\u0065\u0072\u0061\u006e\u0064\u0020\u0028\u0065\u006d\u0070\u0074\u0079\u0029");
};_adb .Operand =_eff .String ();return _adb ,nil ;};func (cmap *CMap )CharcodeToUnicode (code CharCode )(string ,bool ){if _fa ,_bag :=cmap ._fcc [code ];_bag {return _fa ,true ;};return MissingCodeString ,false ;};func _ccdd (_cfcf ,_gebf int )int {if _cfcf < _gebf {return _cfcf ;
};return _gebf ;};type cmapName struct{Name string ;};var (ErrBadCMap =_dg .New ("\u0062\u0061\u0064\u0020\u0063\u006d\u0061\u0070");ErrBadCMapComment =_dg .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");
ErrBadCMapDict =_dg .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074"););func NewToUnicodeCMap (codeToRune map[CharCode ]string )*CMap {cmap :=&CMap {_fc :"\u0041d\u006fb\u0065\u002d\u0049\u0064\u0065n\u0074\u0069t\u0079\u002d\u0055\u0043\u0053",_ce :2,_ebf :16,_cfd :CIDSystemInfo {Registry :"\u0041\u0064\u006fb\u0065",Ordering :"\u0055\u0043\u0053",Supplement :0},_afc :[]Codespace {{Low :0,High :0xffff}},_fcc :codeToRune ,_bce :make (map[string ]CharCode ,len (codeToRune )),_ac :make (map[CharCode ]CharCode ,len (codeToRune )),_cgd :make (map[CharCode ]CharCode ,len (codeToRune ))};
return cmap ;};func (cmap *CMap )toBfData ()string {if len (cmap ._fcc )==0{return "";};_cabb :=make ([]CharCode ,0,len (cmap ._fcc ));for _dce :=range cmap ._fcc {_cabb =append (_cabb ,_dce );};_bc .Slice (_cabb ,func (_bfed ,_fgb int )bool {return _cabb [_bfed ]< _cabb [_fgb ]});
var _cbc []charRange ;_ebgd :=charRange {_cabb [0],_cabb [0]};_bb :=cmap ._fcc [_cabb [0]];for _ ,_bga :=range _cabb [1:]{_cdef :=cmap ._fcc [_bga ];if _bga ==_ebgd ._eb +1&&_cfdg (_cdef )==_cfdg (_bb )+1{_ebgd ._eb =_bga ;}else {_cbc =append (_cbc ,_ebgd );
_ebgd ._bef ,_ebgd ._eb =_bga ,_bga ;};_bb =_cdef ;};_cbc =append (_cbc ,_ebgd );var _cfdf []CharCode ;var _dcaa []fbRange ;for _ ,_bcgb :=range _cbc {if _bcgb ._bef ==_bcgb ._eb {_cfdf =append (_cfdf ,_bcgb ._bef );}else {_dcaa =append (_dcaa ,fbRange {_ebg :_bcgb ._bef ,_fec :_bcgb ._eb ,_gea :cmap ._fcc [_bcgb ._bef ]});
};};_fe .Log .Trace ("\u0063\u0068ar\u0052\u0061\u006eg\u0065\u0073\u003d\u0025d f\u0062Ch\u0061\u0072\u0073\u003d\u0025\u0064\u0020fb\u0052\u0061\u006e\u0067\u0065\u0073\u003d%\u0064",len (_cbc ),len (_cfdf ),len (_dcaa ));var _ced []string ;if len (_cfdf )> 0{_gde :=(len (_cfdf )+_cgg -1)/_cgg ;
for _agg :=0;_agg < _gde ;_agg ++{_bea :=_ccdd (len (_cfdf )-_agg *_cgg ,_cgg );_ced =append (_ced ,_c .Sprintf ("\u0025\u0064\u0020\u0062\u0065\u0067\u0069\u006e\u0062f\u0063\u0068\u0061\u0072",_bea ));for _bfd :=0;_bfd < _bea ;_bfd ++{_ebd :=_cfdf [_agg *_cgg +_bfd ];
_dad :=cmap ._fcc [_ebd ];_ced =append (_ced ,_c .Sprintf ("\u003c%\u0030\u0034\u0078\u003e\u0020\u0025s",_ebd ,_fce (_dad )));};_ced =append (_ced ,"\u0065n\u0064\u0062\u0066\u0063\u0068\u0061r");};};if len (_dcaa )> 0{_fde :=(len (_dcaa )+_cgg -1)/_cgg ;
for _cdc :=0;_cdc < _fde ;_cdc ++{_bdf :=_ccdd (len (_dcaa )-_cdc *_cgg ,_cgg );_ced =append (_ced ,_c .Sprintf ("\u0025d\u0020b\u0065\u0067\u0069\u006e\u0062\u0066\u0072\u0061\u006e\u0067\u0065",_bdf ));for _dde :=0;_dde < _bdf ;_dde ++{_dcd :=_dcaa [_cdc *_cgg +_dde ];
_ced =append (_ced ,_c .Sprintf ("\u003c%\u00304\u0078\u003e\u003c\u0025\u0030\u0034\u0078\u003e\u0020\u0025\u0073",_dcd ._ebg ,_dcd ._fec ,_fce (_dcd ._gea )));};_ced =append (_ced ,"\u0065\u006e\u0064\u0062\u0066\u0072\u0061\u006e\u0067\u0065");};};return _be .Join (_ced ,"\u000a");
};func (_efd *cMapParser )parseString ()(cmapString ,error ){_efd ._bdba .ReadByte ();_bbe :=_db .Buffer {};_bgbg :=1;for {_faeb ,_fba :=_efd ._bdba .Peek (1);if _fba !=nil {return cmapString {_bbe .String ()},_fba ;};if _faeb [0]=='\\'{_efd ._bdba .ReadByte ();
_ffa ,_bbbg :=_efd ._bdba .ReadByte ();if _bbbg !=nil {return cmapString {_bbe .String ()},_bbbg ;};if _ged .IsOctalDigit (_ffa ){_fcdd ,_dfe :=_efd ._bdba .Peek (2);if _dfe !=nil {return cmapString {_bbe .String ()},_dfe ;};var _daf []byte ;_daf =append (_daf ,_ffa );
for _ ,_gbd :=range _fcdd {if _ged .IsOctalDigit (_gbd ){_daf =append (_daf ,_gbd );}else {break ;};};_efd ._bdba .Discard (len (_daf )-1);_fe .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_daf );
_baed ,_dfe :=_d .ParseUint (string (_daf ),8,32);if _dfe !=nil {return cmapString {_bbe .String ()},_dfe ;};_bbe .WriteByte (byte (_baed ));continue ;};switch _ffa {case 'n':_bbe .WriteByte ('\n');case 'r':_bbe .WriteByte ('\r');case 't':_bbe .WriteByte ('\t');
case 'b':_bbe .WriteByte ('\b');case 'f':_bbe .WriteByte ('\f');case '(':_bbe .WriteByte ('(');case ')':_bbe .WriteByte (')');case '\\':_bbe .WriteByte ('\\');};continue ;}else if _faeb [0]=='('{_bgbg ++;}else if _faeb [0]==')'{_bgbg --;if _bgbg ==0{_efd ._bdba .ReadByte ();
break ;};};_baa ,_ :=_efd ._bdba .ReadByte ();_bbe .WriteByte (_baa );};return cmapString {_bbe .String ()},nil ;};type cmapArray struct{Array []cmapObject ;};type cmapObject interface{};type CMap struct{*cMapParser ;_fc string ;_ebf int ;_ce int ;_cb string ;
_cg string ;_cfd CIDSystemInfo ;_afc []Codespace ;_ac map[CharCode ]CharCode ;_cgd map[CharCode ]CharCode ;_fcc map[CharCode ]string ;_bce map[string ]CharCode ;_cff []byte ;_ca *_ged .PdfObjectStream ;_ga integer ;_ae _f .RWMutex ;_gae bool ;};type cmapString struct{String string ;
};func (cmap *CMap )CIDSystemInfo ()CIDSystemInfo {return cmap ._cfd };func (_fcg *cMapParser )parseArray ()(cmapArray ,error ){_bccb :=cmapArray {};_bccb .Array =[]cmapObject {};_fcg ._bdba .ReadByte ();for {_fcg .skipSpaces ();_cbcg ,_eeg :=_fcg ._bdba .Peek (1);
if _eeg !=nil {return _bccb ,_eeg ;};if _cbcg [0]==']'{_fcg ._bdba .ReadByte ();break ;};_bcb ,_eeg :=_fcg .parseObject ();if _eeg !=nil {return _bccb ,_eeg ;};_bccb .Array =append (_bccb .Array ,_bcb );};return _bccb ,nil ;};func _decb (_gcc cmapHexString )[]rune {if len (_gcc ._eecb )==1{return []rune {rune (_gcc ._eecb [0])};
};_bbed :=_gcc ._eecb ;if len (_bbed )%2!=0{_bbed =append (_bbed ,0);_fe .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0068\u0065\u0078\u0054\u006f\u0052\u0075\u006e\u0065\u0073\u002e\u0020\u0050\u0061\u0064\u0064\u0069\u006e\u0067\u0020\u0073\u0068\u0065\u0078\u003d\u0025#\u0076\u0020\u0074\u006f\u0020\u0025\u002b\u0076",_gcc ,_bbed );
};_aaf :=len (_bbed )>>1;_baaf :=make ([]uint16 ,_aaf );for _eagf :=0;_eagf < _aaf ;_eagf ++{_baaf [_eagf ]=uint16 (_bbed [_eagf <<1])<<8+uint16 (_bbed [_eagf <<1+1]);};_bfc :=_a .Decode (_baaf );return _bfc ;};func (cmap *CMap )Stream ()(*_ged .PdfObjectStream ,error ){if cmap ._ca !=nil {return cmap ._ca ,nil ;
};_ace ,_gad :=_ged .MakeStream (cmap .Bytes (),_ged .NewFlateEncoder ());if _gad !=nil {return nil ,_gad ;};cmap ._ca =_ace ;return cmap ._ca ,nil ;};type integer struct{_bcd bool ;_bagb int ;};func _cfdg (_aabg string )rune {_bbg :=[]rune (_aabg );return _bbg [len (_bbg )-1]};
type CharCode uint32 ;type cmapFloat struct{_adc float64 };func (cmap *CMap )parseBfchar ()error {for {_affa ,_bfg :=cmap .parseObject ();if _bfg !=nil {if _bfg ==_b .EOF {break ;};return _bfg ;};var _eee CharCode ;switch _dba :=_affa .(type ){case cmapOperand :if _dba .Operand ==_fgf {return nil ;
};return _dg .New ("\u0075n\u0065x\u0070\u0065\u0063\u0074\u0065d\u0020\u006fp\u0065\u0072\u0061\u006e\u0064");case cmapHexString :_eee =_fgc (_dba );default:return _dg .New ("\u0075n\u0065x\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0074\u0079\u0070\u0065");
};_affa ,_bfg =cmap .parseObject ();if _bfg !=nil {if _bfg ==_b .EOF {break ;};return _bfg ;};var _ed []rune ;switch _bdb :=_affa .(type ){case cmapOperand :if _bdb .Operand ==_fgf {return nil ;};_fe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0055\u006e\u0065x\u0070\u0065\u0063\u0074\u0065\u0064\u0020o\u0070\u0065\u0072\u0061\u006e\u0064\u002e\u0020\u0025\u0023\u0076",_bdb );
return ErrBadCMap ;case cmapHexString :_ed =_decb (_bdb );case cmapName :_fe .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064 \u006e\u0061\u006de\u002e \u0025\u0023\u0076",_bdb );_ed =[]rune {MissingCodeRune };
default:_fe .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064 \u0074\u0079\u0070e\u002e \u0025\u0023\u0076",_affa );return ErrBadCMap ;};cmap ._fcc [_eee ]=string (_ed );};return nil ;};type cmapInt struct{_ddac int64 };
func (cmap *CMap )parseCodespaceRange ()error {for {_gfe ,_efe :=cmap .parseObject ();if _efe !=nil {if _efe ==_b .EOF {break ;};return _efe ;};_eg ,_ec :=_gfe .(cmapHexString );if !_ec {if _dge ,_bbb :=_gfe .(cmapOperand );_bbb {if _dge .Operand ==_ccbg {return nil ;
};return _dg .New ("\u0075n\u0065x\u0070\u0065\u0063\u0074\u0065d\u0020\u006fp\u0065\u0072\u0061\u006e\u0064");};};_gfe ,_efe =cmap .parseObject ();if _efe !=nil {if _efe ==_b .EOF {break ;};return _efe ;};_fbe ,_ec :=_gfe .(cmapHexString );if !_ec {return _dg .New ("\u006e\u006f\u006e-\u0068\u0065\u0078\u0020\u0068\u0069\u0067\u0068");
};if len (_eg ._eecb )!=len (_fbe ._eecb ){return _dg .New ("\u0075\u006e\u0065\u0071\u0075\u0061\u006c\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0062\u0079\u0074\u0065\u0073\u0020\u0069\u006e\u0020\u0072\u0061\u006e\u0067\u0065");};_fbf :=_fgc (_eg );
_beg :=_fgc (_fbe );if _beg < _fbf {_fe .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0042\u0061d\u0020\u0063\u006fd\u0065\u0073\u0070\u0061\u0063\u0065\u002e\u0020\u006cow\u003d\u0030\u0078%\u0030\u0032x\u0020\u0068\u0069\u0067\u0068\u003d0\u0078\u00250\u0032\u0078",_fbf ,_beg );
return ErrBadCMap ;};_gaa :=_fbe ._cbgb ;_fccg :=Codespace {NumBytes :_gaa ,Low :_fbf ,High :_beg };cmap ._afc =append (cmap ._afc ,_fccg );_fe .Log .Trace ("\u0043\u006f\u0064e\u0073\u0070\u0061\u0063e\u0020\u006c\u006f\u0077\u003a\u0020\u0030x\u0025\u0058\u002c\u0020\u0068\u0069\u0067\u0068\u003a\u0020\u0030\u0078\u0025\u0058",_fbf ,_beg );
};if len (cmap ._afc )==0{_fe .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0063\u006f\u0064\u0065\u0073\u0070\u0061\u0063\u0065\u0073\u0020\u0069\u006e\u0020\u0063ma\u0070\u002e");return ErrBadCMap ;};return nil ;};func LoadCmapFromData (data []byte ,isSimple bool )(*CMap ,error ){_fe .Log .Trace ("\u004c\u006fa\u0064\u0043\u006d\u0061\u0070\u0046\u0072\u006f\u006d\u0044\u0061\u0074\u0061\u003a\u0020\u0069\u0073\u0053\u0069\u006d\u0070\u006ce=\u0025\u0074",isSimple );
cmap :=_ea (isSimple );cmap .cMapParser =_cedg (data );_bg :=cmap .parse ();if _bg !=nil {return nil ,_bg ;};_bc .Slice (cmap ._afc ,func (_ba ,_eae int )bool {return cmap ._afc [_ba ].Low < cmap ._afc [_eae ].Low });if len (cmap ._afc )==0{if cmap ._cg !=""{return cmap ,nil ;
};_fe .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0063\u006f\u0064\u0065\u0073\u0070\u0061\u0063\u0065\u0073\u002e\u0020\u0063\u006d\u0061p=\u0025\u0073",cmap );};return cmap ,nil ;};type CIDSystemInfo struct{Registry string ;
Ordering string ;Supplement int ;};func _gfgd (_fbgg cmapHexString )rune {_eegf :=_decb (_fbgg );if _ebac :=len (_eegf );_ebac ==0{_fe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0068\u0065\u0078\u0054o\u0052\u0075\u006e\u0065\u002e\u0020\u0045\u0078p\u0065c\u0074\u0065\u0064\u0020\u0061\u0074\u0020\u006c\u0065\u0061\u0073\u0074\u0020\u006f\u006e\u0065\u0020\u0072u\u006e\u0065\u0020\u0073\u0068\u0065\u0078\u003d\u0025\u0023\u0076",_fbgg );
return MissingCodeRune ;};if len (_eegf )> 1{_fe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0068\u0065\u0078\u0054\u006f\u0052\u0075\u006e\u0065\u002e\u0020\u0045\u0078p\u0065\u0063\u0074\u0065\u0064\u0020\u0065\u0078\u0061\u0063\u0074\u006c\u0079\u0020\u006f\u006e\u0065\u0020\u0072\u0075\u006e\u0065\u0020\u0073\u0068\u0065\u0078\u003d\u0025\u0023v\u0020\u002d\u003e\u0020\u0025#\u0076",_fbgg ,_eegf );
};return _eegf [0];};func _bd (_caa string )(*CMap ,error ){_df ,_dff :=_ge .Asset (_caa );if _dff !=nil {return nil ,_dff ;};return LoadCmapFromDataCID (_df );};