//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package ccittfax ;import (_d "errors";_a "github.com/unidoc/unipdf/v4/internal/bitwise";_c "io";_e "math";);func (_cad *Encoder )appendEncodedRow (_cce ,_dda []byte ,_bag int )[]byte {if len (_cce )> 0&&_bag !=0&&!_cad .EncodedByteAlign {_cce [len (_cce )-1]=_cce [len (_cce )-1]|_dda [0];
_cce =append (_cce ,_dda [1:]...);}else {_cce =append (_cce ,_dda ...);};return _cce ;};func init (){_cb =&treeNode {_gcg :true ,_acbc :_bc };_bb =&treeNode {_acbc :_ee ,_gdb :_cb };_bb ._caa =_bb ;_g =&tree {_ccae :&treeNode {}};if _ba :=_g .fillWithNode (12,0,_bb );
_ba !=nil {panic (_ba .Error ());};if _ed :=_g .fillWithNode (12,1,_cb );_ed !=nil {panic (_ed .Error ());};_eb =&tree {_ccae :&treeNode {}};for _bbf :=0;_bbf < len (_ce );_bbf ++{for _ae :=0;_ae < len (_ce [_bbf ]);_ae ++{if _cde :=_eb .fill (_bbf +2,int (_ce [_bbf ][_ae ]),int (_eba [_bbf ][_ae ]));
_cde !=nil {panic (_cde .Error ());};};};if _edf :=_eb .fillWithNode (12,0,_bb );_edf !=nil {panic (_edf .Error ());};if _dd :=_eb .fillWithNode (12,1,_cb );_dd !=nil {panic (_dd .Error ());};_cd =&tree {_ccae :&treeNode {}};for _fa :=0;_fa < len (_aeg );
_fa ++{for _ca :=0;_ca < len (_aeg [_fa ]);_ca ++{if _ea :=_cd .fill (_fa +4,int (_aeg [_fa ][_ca ]),int (_db [_fa ][_ca ]));_ea !=nil {panic (_ea .Error ());};};};if _gf :=_cd .fillWithNode (12,0,_bb );_gf !=nil {panic (_gf .Error ());};if _cdb :=_cd .fillWithNode (12,1,_cb );
_cdb !=nil {panic (_cdb .Error ());};_f =&tree {_ccae :&treeNode {}};if _gd :=_f .fill (4,1,_bd );_gd !=nil {panic (_gd .Error ());};if _ff :=_f .fill (3,1,_cbc );_ff !=nil {panic (_ff .Error ());};if _dc :=_f .fill (1,1,0);_dc !=nil {panic (_dc .Error ());
};if _cba :=_f .fill (3,3,1);_cba !=nil {panic (_cba .Error ());};if _be :=_f .fill (6,3,2);_be !=nil {panic (_be .Error ());};if _gb :=_f .fill (7,3,3);_gb !=nil {panic (_gb .Error ());};if _de :=_f .fill (3,2,-1);_de !=nil {panic (_de .Error ());};if _aa :=_f .fill (6,2,-2);
_aa !=nil {panic (_aa .Error ());};if _ag :=_f .fill (7,2,-3);_ag !=nil {panic (_ag .Error ());};};func _cfb (_bfeb []byte ,_acb int )([]byte ,int ){return _ddg (_bfeb ,_acb ,_ade )};var (_bbg byte =1;_caeg byte =0;);func (_eded *Decoder )getNextChangingElement (_bega int ,_bea bool )int {_ceb :=0;
if !_bea {_ceb =1;};_fce :=int (uint32 (_eded ._cga )&0xFFFFFFFE)+_ceb ;if _fce > 2{_fce -=2;};if _bega ==0{return _fce ;};for _afc :=_fce ;_afc < _eded ._ddc ;_afc +=2{if _bega < _eded ._aga [_afc ]{_eded ._cga =_afc ;return _afc ;};};return -1;};func NewDecoder (data []byte ,options DecodeOptions )(*Decoder ,error ){_aea :=&Decoder {_cab :_a .NewReader (data ),_cc :options .Columns ,_dbd :options .Rows ,_gbf :options .DamagedRowsBeforeError ,_add :make ([]byte ,(options .Columns +7)/8),_aga :make ([]int ,options .Columns +2),_dcdc :make ([]int ,options .Columns +2),_gab :options .EncodedByteAligned ,_bf :options .BlackIsOne ,_ccb :options .EndOfLine ,_bbd :options .EndOfBlock };
switch {case options .K ==0:_aea ._da =_bed ;if len (data )< 20{return nil ,_d .New ("\u0074o\u006f\u0020\u0073\u0068o\u0072\u0074\u0020\u0063\u0063i\u0074t\u0066a\u0078\u0020\u0073\u0074\u0072\u0065\u0061m");};_ebd :=data [:20];if _ebd [0]!=0||(_ebd [1]>>4!=1&&_ebd [1]!=1){_aea ._da =_bdg ;
_ge :=(uint16 (_ebd [0])<<8+uint16 (_ebd [1]&0xff))>>4;for _fda :=12;_fda < 160;_fda ++{_ge =(_ge <<1)+uint16 ((_ebd [_fda /8]>>uint16 (7-(_fda %8)))&0x01);if _ge &0xfff==1{_aea ._da =_bed ;break ;};};};case options .K < 0:_aea ._da =_bedd ;case options .K > 0:_aea ._da =_bed ;
_aea ._dg =true ;};switch _aea ._da {case _bdg ,_bed ,_bedd :default:return nil ,_d .New ("\u0075\u006ek\u006e\u006f\u0077\u006e\u0020\u0063\u0063\u0069\u0074\u0074\u0066\u0061\u0078\u002e\u0044\u0065\u0063\u006f\u0064\u0065\u0072\u0020ty\u0070\u0065");
};return _aea ,nil ;};func (_gga *Decoder )decodeRowType6 ()error {if _gga ._gab {_gga ._cab .Align ();};if _gga ._bbd {_gga ._cab .Mark ();_fb ,_gcbd :=_gga .tryFetchEOL ();if _gcbd !=nil {return _gcbd ;};if _fb {_fb ,_gcbd =_gga .tryFetchEOL ();if _gcbd !=nil {return _gcbd ;
};if _fb {return _c .EOF ;};};_gga ._cab .Reset ();};return _gga .decode2D ();};var (_eef =_d .New ("\u0063\u0063\u0069\u0074tf\u0061\u0078\u0020\u0063\u006f\u0072\u0072\u0075\u0070\u0074\u0065\u0064\u0020\u0052T\u0043");_gcf =_d .New ("\u0063\u0063\u0069\u0074tf\u0061\u0078\u0020\u0045\u004f\u004c\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064");
);func init (){_ga =make (map[int ]code );_ga [0]=code {Code :13<<8|3<<6,BitsWritten :10};_ga [1]=code {Code :2<<(5+8),BitsWritten :3};_ga [2]=code {Code :3<<(6+8),BitsWritten :2};_ga [3]=code {Code :2<<(6+8),BitsWritten :2};_ga [4]=code {Code :3<<(5+8),BitsWritten :3};
_ga [5]=code {Code :3<<(4+8),BitsWritten :4};_ga [6]=code {Code :2<<(4+8),BitsWritten :4};_ga [7]=code {Code :3<<(3+8),BitsWritten :5};_ga [8]=code {Code :5<<(2+8),BitsWritten :6};_ga [9]=code {Code :4<<(2+8),BitsWritten :6};_ga [10]=code {Code :4<<(1+8),BitsWritten :7};
_ga [11]=code {Code :5<<(1+8),BitsWritten :7};_ga [12]=code {Code :7<<(1+8),BitsWritten :7};_ga [13]=code {Code :4<<8,BitsWritten :8};_ga [14]=code {Code :7<<8,BitsWritten :8};_ga [15]=code {Code :12<<8,BitsWritten :9};_ga [16]=code {Code :5<<8|3<<6,BitsWritten :10};
_ga [17]=code {Code :6<<8,BitsWritten :10};_ga [18]=code {Code :2<<8,BitsWritten :10};_ga [19]=code {Code :12<<8|7<<5,BitsWritten :11};_ga [20]=code {Code :13<<8,BitsWritten :11};_ga [21]=code {Code :13<<8|4<<5,BitsWritten :11};_ga [22]=code {Code :6<<8|7<<5,BitsWritten :11};
_ga [23]=code {Code :5<<8,BitsWritten :11};_ga [24]=code {Code :2<<8|7<<5,BitsWritten :11};_ga [25]=code {Code :3<<8,BitsWritten :11};_ga [26]=code {Code :12<<8|10<<4,BitsWritten :12};_ga [27]=code {Code :12<<8|11<<4,BitsWritten :12};_ga [28]=code {Code :12<<8|12<<4,BitsWritten :12};
_ga [29]=code {Code :12<<8|13<<4,BitsWritten :12};_ga [30]=code {Code :6<<8|8<<4,BitsWritten :12};_ga [31]=code {Code :6<<8|9<<4,BitsWritten :12};_ga [32]=code {Code :6<<8|10<<4,BitsWritten :12};_ga [33]=code {Code :6<<8|11<<4,BitsWritten :12};_ga [34]=code {Code :13<<8|2<<4,BitsWritten :12};
_ga [35]=code {Code :13<<8|3<<4,BitsWritten :12};_ga [36]=code {Code :13<<8|4<<4,BitsWritten :12};_ga [37]=code {Code :13<<8|5<<4,BitsWritten :12};_ga [38]=code {Code :13<<8|6<<4,BitsWritten :12};_ga [39]=code {Code :13<<8|7<<4,BitsWritten :12};_ga [40]=code {Code :6<<8|12<<4,BitsWritten :12};
_ga [41]=code {Code :6<<8|13<<4,BitsWritten :12};_ga [42]=code {Code :13<<8|10<<4,BitsWritten :12};_ga [43]=code {Code :13<<8|11<<4,BitsWritten :12};_ga [44]=code {Code :5<<8|4<<4,BitsWritten :12};_ga [45]=code {Code :5<<8|5<<4,BitsWritten :12};_ga [46]=code {Code :5<<8|6<<4,BitsWritten :12};
_ga [47]=code {Code :5<<8|7<<4,BitsWritten :12};_ga [48]=code {Code :6<<8|4<<4,BitsWritten :12};_ga [49]=code {Code :6<<8|5<<4,BitsWritten :12};_ga [50]=code {Code :5<<8|2<<4,BitsWritten :12};_ga [51]=code {Code :5<<8|3<<4,BitsWritten :12};_ga [52]=code {Code :2<<8|4<<4,BitsWritten :12};
_ga [53]=code {Code :3<<8|7<<4,BitsWritten :12};_ga [54]=code {Code :3<<8|8<<4,BitsWritten :12};_ga [55]=code {Code :2<<8|7<<4,BitsWritten :12};_ga [56]=code {Code :2<<8|8<<4,BitsWritten :12};_ga [57]=code {Code :5<<8|8<<4,BitsWritten :12};_ga [58]=code {Code :5<<8|9<<4,BitsWritten :12};
_ga [59]=code {Code :2<<8|11<<4,BitsWritten :12};_ga [60]=code {Code :2<<8|12<<4,BitsWritten :12};_ga [61]=code {Code :5<<8|10<<4,BitsWritten :12};_ga [62]=code {Code :6<<8|6<<4,BitsWritten :12};_ga [63]=code {Code :6<<8|7<<4,BitsWritten :12};_egd =make (map[int ]code );
_egd [0]=code {Code :53<<8,BitsWritten :8};_egd [1]=code {Code :7<<(2+8),BitsWritten :6};_egd [2]=code {Code :7<<(4+8),BitsWritten :4};_egd [3]=code {Code :8<<(4+8),BitsWritten :4};_egd [4]=code {Code :11<<(4+8),BitsWritten :4};_egd [5]=code {Code :12<<(4+8),BitsWritten :4};
_egd [6]=code {Code :14<<(4+8),BitsWritten :4};_egd [7]=code {Code :15<<(4+8),BitsWritten :4};_egd [8]=code {Code :19<<(3+8),BitsWritten :5};_egd [9]=code {Code :20<<(3+8),BitsWritten :5};_egd [10]=code {Code :7<<(3+8),BitsWritten :5};_egd [11]=code {Code :8<<(3+8),BitsWritten :5};
_egd [12]=code {Code :8<<(2+8),BitsWritten :6};_egd [13]=code {Code :3<<(2+8),BitsWritten :6};_egd [14]=code {Code :52<<(2+8),BitsWritten :6};_egd [15]=code {Code :53<<(2+8),BitsWritten :6};_egd [16]=code {Code :42<<(2+8),BitsWritten :6};_egd [17]=code {Code :43<<(2+8),BitsWritten :6};
_egd [18]=code {Code :39<<(1+8),BitsWritten :7};_egd [19]=code {Code :12<<(1+8),BitsWritten :7};_egd [20]=code {Code :8<<(1+8),BitsWritten :7};_egd [21]=code {Code :23<<(1+8),BitsWritten :7};_egd [22]=code {Code :3<<(1+8),BitsWritten :7};_egd [23]=code {Code :4<<(1+8),BitsWritten :7};
_egd [24]=code {Code :40<<(1+8),BitsWritten :7};_egd [25]=code {Code :43<<(1+8),BitsWritten :7};_egd [26]=code {Code :19<<(1+8),BitsWritten :7};_egd [27]=code {Code :36<<(1+8),BitsWritten :7};_egd [28]=code {Code :24<<(1+8),BitsWritten :7};_egd [29]=code {Code :2<<8,BitsWritten :8};
_egd [30]=code {Code :3<<8,BitsWritten :8};_egd [31]=code {Code :26<<8,BitsWritten :8};_egd [32]=code {Code :27<<8,BitsWritten :8};_egd [33]=code {Code :18<<8,BitsWritten :8};_egd [34]=code {Code :19<<8,BitsWritten :8};_egd [35]=code {Code :20<<8,BitsWritten :8};
_egd [36]=code {Code :21<<8,BitsWritten :8};_egd [37]=code {Code :22<<8,BitsWritten :8};_egd [38]=code {Code :23<<8,BitsWritten :8};_egd [39]=code {Code :40<<8,BitsWritten :8};_egd [40]=code {Code :41<<8,BitsWritten :8};_egd [41]=code {Code :42<<8,BitsWritten :8};
_egd [42]=code {Code :43<<8,BitsWritten :8};_egd [43]=code {Code :44<<8,BitsWritten :8};_egd [44]=code {Code :45<<8,BitsWritten :8};_egd [45]=code {Code :4<<8,BitsWritten :8};_egd [46]=code {Code :5<<8,BitsWritten :8};_egd [47]=code {Code :10<<8,BitsWritten :8};
_egd [48]=code {Code :11<<8,BitsWritten :8};_egd [49]=code {Code :82<<8,BitsWritten :8};_egd [50]=code {Code :83<<8,BitsWritten :8};_egd [51]=code {Code :84<<8,BitsWritten :8};_egd [52]=code {Code :85<<8,BitsWritten :8};_egd [53]=code {Code :36<<8,BitsWritten :8};
_egd [54]=code {Code :37<<8,BitsWritten :8};_egd [55]=code {Code :88<<8,BitsWritten :8};_egd [56]=code {Code :89<<8,BitsWritten :8};_egd [57]=code {Code :90<<8,BitsWritten :8};_egd [58]=code {Code :91<<8,BitsWritten :8};_egd [59]=code {Code :74<<8,BitsWritten :8};
_egd [60]=code {Code :75<<8,BitsWritten :8};_egd [61]=code {Code :50<<8,BitsWritten :8};_egd [62]=code {Code :51<<8,BitsWritten :8};_egd [63]=code {Code :52<<8,BitsWritten :8};_ad =make (map[int ]code );_ad [64]=code {Code :3<<8|3<<6,BitsWritten :10};_ad [128]=code {Code :12<<8|8<<4,BitsWritten :12};
_ad [192]=code {Code :12<<8|9<<4,BitsWritten :12};_ad [256]=code {Code :5<<8|11<<4,BitsWritten :12};_ad [320]=code {Code :3<<8|3<<4,BitsWritten :12};_ad [384]=code {Code :3<<8|4<<4,BitsWritten :12};_ad [448]=code {Code :3<<8|5<<4,BitsWritten :12};_ad [512]=code {Code :3<<8|12<<3,BitsWritten :13};
_ad [576]=code {Code :3<<8|13<<3,BitsWritten :13};_ad [640]=code {Code :2<<8|10<<3,BitsWritten :13};_ad [704]=code {Code :2<<8|11<<3,BitsWritten :13};_ad [768]=code {Code :2<<8|12<<3,BitsWritten :13};_ad [832]=code {Code :2<<8|13<<3,BitsWritten :13};_ad [896]=code {Code :3<<8|18<<3,BitsWritten :13};
_ad [960]=code {Code :3<<8|19<<3,BitsWritten :13};_ad [1024]=code {Code :3<<8|20<<3,BitsWritten :13};_ad [1088]=code {Code :3<<8|21<<3,BitsWritten :13};_ad [1152]=code {Code :3<<8|22<<3,BitsWritten :13};_ad [1216]=code {Code :119<<3,BitsWritten :13};_ad [1280]=code {Code :2<<8|18<<3,BitsWritten :13};
_ad [1344]=code {Code :2<<8|19<<3,BitsWritten :13};_ad [1408]=code {Code :2<<8|20<<3,BitsWritten :13};_ad [1472]=code {Code :2<<8|21<<3,BitsWritten :13};_ad [1536]=code {Code :2<<8|26<<3,BitsWritten :13};_ad [1600]=code {Code :2<<8|27<<3,BitsWritten :13};
_ad [1664]=code {Code :3<<8|4<<3,BitsWritten :13};_ad [1728]=code {Code :3<<8|5<<3,BitsWritten :13};_cg =make (map[int ]code );_cg [64]=code {Code :27<<(3+8),BitsWritten :5};_cg [128]=code {Code :18<<(3+8),BitsWritten :5};_cg [192]=code {Code :23<<(2+8),BitsWritten :6};
_cg [256]=code {Code :55<<(1+8),BitsWritten :7};_cg [320]=code {Code :54<<8,BitsWritten :8};_cg [384]=code {Code :55<<8,BitsWritten :8};_cg [448]=code {Code :100<<8,BitsWritten :8};_cg [512]=code {Code :101<<8,BitsWritten :8};_cg [576]=code {Code :104<<8,BitsWritten :8};
_cg [640]=code {Code :103<<8,BitsWritten :8};_cg [704]=code {Code :102<<8,BitsWritten :9};_cg [768]=code {Code :102<<8|1<<7,BitsWritten :9};_cg [832]=code {Code :105<<8,BitsWritten :9};_cg [896]=code {Code :105<<8|1<<7,BitsWritten :9};_cg [960]=code {Code :106<<8,BitsWritten :9};
_cg [1024]=code {Code :106<<8|1<<7,BitsWritten :9};_cg [1088]=code {Code :107<<8,BitsWritten :9};_cg [1152]=code {Code :107<<8|1<<7,BitsWritten :9};_cg [1216]=code {Code :108<<8,BitsWritten :9};_cg [1280]=code {Code :108<<8|1<<7,BitsWritten :9};_cg [1344]=code {Code :109<<8,BitsWritten :9};
_cg [1408]=code {Code :109<<8|1<<7,BitsWritten :9};_cg [1472]=code {Code :76<<8,BitsWritten :9};_cg [1536]=code {Code :76<<8|1<<7,BitsWritten :9};_cg [1600]=code {Code :77<<8,BitsWritten :9};_cg [1664]=code {Code :24<<(2+8),BitsWritten :6};_cg [1728]=code {Code :77<<8|1<<7,BitsWritten :9};
_gfe =make (map[int ]code );_gfe [1792]=code {Code :1<<8,BitsWritten :11};_gfe [1856]=code {Code :1<<8|4<<5,BitsWritten :11};_gfe [1920]=code {Code :1<<8|5<<5,BitsWritten :11};_gfe [1984]=code {Code :1<<8|2<<4,BitsWritten :12};_gfe [2048]=code {Code :1<<8|3<<4,BitsWritten :12};
_gfe [2112]=code {Code :1<<8|4<<4,BitsWritten :12};_gfe [2176]=code {Code :1<<8|5<<4,BitsWritten :12};_gfe [2240]=code {Code :1<<8|6<<4,BitsWritten :12};_gfe [2304]=code {Code :1<<8|7<<4,BitsWritten :12};_gfe [2368]=code {Code :1<<8|12<<4,BitsWritten :12};
_gfe [2432]=code {Code :1<<8|13<<4,BitsWritten :12};_gfe [2496]=code {Code :1<<8|14<<4,BitsWritten :12};_gfe [2560]=code {Code :1<<8|15<<4,BitsWritten :12};_beb =make (map[int ]byte );_beb [0]=0xFF;_beb [1]=0xFE;_beb [2]=0xFC;_beb [3]=0xF8;_beb [4]=0xF0;
_beb [5]=0xE0;_beb [6]=0xC0;_beb [7]=0x80;_beb [8]=0x00;};func (_gge *Decoder )looseFetchEOL ()(bool ,error ){_dcda ,_dagf :=_gge ._cab .ReadBits (12);if _dagf !=nil {return false ,_dagf ;};switch _dcda {case 0x1:return true ,nil ;case 0x0:for {_aed ,_aafb :=_gge ._cab .ReadBool ();
if _aafb !=nil {return false ,_aafb ;};if _aed {return true ,nil ;};};default:return false ,nil ;};};func (_gaf *Decoder )fetch ()error {if _gaf ._ac ==-1{return nil ;};if _gaf ._acg < _gaf ._ac {return nil ;};_gaf ._ac =0;_dcf :=_gaf .decodeRow ();if _dcf !=nil {if !_d .Is (_dcf ,_c .EOF ){return _dcf ;
};if _gaf ._ac !=0{return _dcf ;};_gaf ._ac =-1;};_gaf ._acg =0;return nil ;};func _abe (_fdd []byte ,_acfe bool ,_acc int )(int ,int ){_bdc :=0;for _acc < len (_fdd ){if _acfe {if _fdd [_acc ]!=_bbg {break ;};}else {if _fdd [_acc ]!=_caeg {break ;};};
_bdc ++;_acc ++;};return _bdc ,_acc ;};func (_ede tiffType )String ()string {switch _ede {case _bdg :return "\u0074\u0069\u0066\u0066\u0054\u0079\u0070\u0065\u004d\u006f\u0064i\u0066\u0069\u0065\u0064\u0048\u0075\u0066\u0066\u006d\u0061n\u0052\u006c\u0065";
case _bed :return "\u0074\u0069\u0066\u0066\u0054\u0079\u0070\u0065\u0054\u0034";case _bedd :return "\u0074\u0069\u0066\u0066\u0054\u0079\u0070\u0065\u0054\u0036";default:return "\u0075n\u0064\u0065\u0066\u0069\u006e\u0065d";};};func _agad (_ddde []byte ,_cee int )int {if _cee >=len (_ddde ){return _cee ;
};if _cee < -1{_cee =-1;};var _eabf byte ;if _cee > -1{_eabf =_ddde [_cee ];}else {_eabf =_bbg ;};_ceeb :=_cee +1;for _ceeb < len (_ddde ){if _ddde [_ceeb ]!=_eabf {break ;};_ceeb ++;};return _ceeb ;};func _fcd (_gfbf ,_ead int )code {var _ggg code ;switch _ead -_gfbf {case -1:_ggg =_cbf ;
case -2:_ggg =_aff ;case -3:_ggg =_fad ;case 0:_ggg =_fac ;case 1:_ggg =_fdb ;case 2:_ggg =_ada ;case 3:_ggg =_gcb ;};return _ggg ;};func (_bfa *Encoder )encodeG31D (_gbbe [][]byte )[]byte {var _fdaf []byte ;_fff :=0;for _ebde :=range _gbbe {if _bfa .Rows > 0&&!_bfa .EndOfBlock &&_ebde ==_bfa .Rows {break ;
};_dde ,_aac :=_ebdf (_gbbe [_ebde ],_fff ,_dcd );_fdaf =_bfa .appendEncodedRow (_fdaf ,_dde ,_fff );if _bfa .EncodedByteAlign {_aac =0;};_fff =_aac ;};if _bfa .EndOfBlock {_gcc ,_ :=_ega (_fff );_fdaf =_bfa .appendEncodedRow (_fdaf ,_gcc ,_fff );};return _fdaf ;
};func (_edb *Decoder )decodeRowType2 ()error {if _edb ._gab {_edb ._cab .Align ();};if _gea :=_edb .decode1D ();_gea !=nil {return _gea ;};return nil ;};func (_gce *Decoder )decodeG32D ()error {_gce ._ddc =_gce ._ded ;_gce ._dcdc ,_gce ._aga =_gce ._aga ,_gce ._dcdc ;
_bgb :=true ;var (_adg bool ;_agg int ;_gag error ;);_gce ._ded =0;_cgb :for _agg < _gce ._cc {_gbca :=_f ._ccae ;for {_adg ,_gag =_gce ._cab .ReadBool ();if _gag !=nil {return _gag ;};_gbca =_gbca .walk (_adg );if _gbca ==nil {continue _cgb ;};if !_gbca ._gcg {continue ;
};switch _gbca ._acbc {case _cbc :var _fg int ;if _bgb {_fg ,_gag =_gce .decodeRun (_cd );}else {_fg ,_gag =_gce .decodeRun (_eb );};if _gag !=nil {return _gag ;};_agg +=_fg ;_gce ._dcdc [_gce ._ded ]=_agg ;_gce ._ded ++;if _bgb {_fg ,_gag =_gce .decodeRun (_eb );
}else {_fg ,_gag =_gce .decodeRun (_cd );};if _gag !=nil {return _gag ;};_agg +=_fg ;_gce ._dcdc [_gce ._ded ]=_agg ;_gce ._ded ++;case _bd :_bef :=_gce .getNextChangingElement (_agg ,_bgb )+1;if _bef >=_gce ._ddc {_agg =_gce ._cc ;}else {_agg =_gce ._aga [_bef ];
};default:_cabd :=_gce .getNextChangingElement (_agg ,_bgb );if _cabd >=_gce ._ddc ||_cabd ==-1{_agg =_gce ._cc +_gbca ._acbc ;}else {_agg =_gce ._aga [_cabd ]+_gbca ._acbc ;};_gce ._dcdc [_gce ._ded ]=_agg ;_gce ._ded ++;_bgb =!_bgb ;};continue _cgb ;
};};return nil ;};func (_aaf *Decoder )decodeRun (_aca *tree )(int ,error ){var _ef int ;_ggd :=_aca ._ccae ;for {_bac ,_agb :=_aaf ._cab .ReadBool ();if _agb !=nil {return 0,_agb ;};_ggd =_ggd .walk (_bac );if _ggd ==nil {return 0,_d .New ("\u0075\u006e\u006bno\u0077\u006e\u0020\u0063\u006f\u0064\u0065\u0020\u0069n\u0020H\u0075f\u0066m\u0061\u006e\u0020\u0052\u004c\u0045\u0020\u0073\u0074\u0072\u0065\u0061\u006d");
};if _ggd ._gcg {_ef +=_ggd ._acbc ;switch {case _ggd ._acbc >=64:_ggd =_aca ._ccae ;case _ggd ._acbc >=0:return _ef ,nil ;default:return _aaf ._cc ,nil ;};};};};type tiffType int ;func _cgd (_gbff [][]byte )[][]byte {_aedf :=make ([]byte ,len (_gbff [0]));
for _bff :=range _aedf {_aedf [_bff ]=_bbg ;};_gbff =append (_gbff ,[]byte {});for _aeb :=len (_gbff )-1;_aeb > 0;_aeb --{_gbff [_aeb ]=_gbff [_aeb -1];};_gbff [0]=_aedf ;return _gbff ;};var _eba =[...][]uint16 {{3,2},{1,4},{6,5},{7},{9,8},{10,11,12},{13,14},{15},{16,17,0,18,64},{24,25,23,22,19,20,21,1792,1856,1920},{1984,2048,2112,2176,2240,2304,2368,2432,2496,2560,52,55,56,59,60,320,384,448,53,54,50,51,44,45,46,47,57,58,61,256,48,49,62,63,30,31,32,33,40,41,128,192,26,27,28,29,34,35,36,37,38,39,42,43},{640,704,768,832,1280,1344,1408,1472,1536,1600,1664,1728,512,576,896,960,1024,1088,1152,1216}};
func (_ced *Decoder )decode2D ()error {_ced ._ddc =_ced ._ded ;_ced ._dcdc ,_ced ._aga =_ced ._aga ,_ced ._dcdc ;_bcc :=true ;var (_cf bool ;_gbb int ;_ddd error ;);_ced ._ded =0;_bebd :for _gbb < _ced ._cc {_fgc :=_f ._ccae ;for {_cf ,_ddd =_ced ._cab .ReadBool ();
if _ddd !=nil {return _ddd ;};_fgc =_fgc .walk (_cf );if _fgc ==nil {continue _bebd ;};if !_fgc ._gcg {continue ;};switch _fgc ._acbc {case _cbc :var _bfea int ;if _bcc {_bfea ,_ddd =_ced .decodeRun (_cd );}else {_bfea ,_ddd =_ced .decodeRun (_eb );};if _ddd !=nil {return _ddd ;
};_gbb +=_bfea ;_ced ._dcdc [_ced ._ded ]=_gbb ;_ced ._ded ++;if _bcc {_bfea ,_ddd =_ced .decodeRun (_eb );}else {_bfea ,_ddd =_ced .decodeRun (_cd );};if _ddd !=nil {return _ddd ;};_gbb +=_bfea ;_ced ._dcdc [_ced ._ded ]=_gbb ;_ced ._ded ++;case _bd :_dgf :=_ced .getNextChangingElement (_gbb ,_bcc )+1;
if _dgf >=_ced ._ddc {_gbb =_ced ._cc ;}else {_gbb =_ced ._aga [_dgf ];};default:_dad :=_ced .getNextChangingElement (_gbb ,_bcc );if _dad >=_ced ._ddc ||_dad ==-1{_gbb =_ced ._cc +_fgc ._acbc ;}else {_gbb =_ced ._aga [_dad ]+_fgc ._acbc ;};_ced ._dcdc [_ced ._ded ]=_gbb ;
_ced ._ded ++;_bcc =!_bcc ;};continue _bebd ;};};return nil ;};func _ccc (_bab int )([]byte ,int ){var _dgfe []byte ;for _dga :=0;_dga < 2;_dga ++{_dgfe ,_bab =_ddg (_dgfe ,_bab ,_dcd );};return _dgfe ,_bab %8;};type Encoder struct{K int ;EndOfLine bool ;
EncodedByteAlign bool ;Columns int ;Rows int ;EndOfBlock bool ;BlackIs1 bool ;DamagedRowsBeforeError int ;};func (_agbg *tree )fill (_ffb ,_eecc ,_ebf int )error {_gcd :=_agbg ._ccae ;for _gdee :=0;_gdee < _ffb ;_gdee ++{_dfbd :=_ffb -1-_gdee ;_bggf :=((_eecc >>uint (_dfbd ))&1)!=0;
_gad :=_gcd .walk (_bggf );if _gad !=nil {if _gad ._gcg {return _d .New ("\u006e\u006f\u0064\u0065\u0020\u0069\u0073\u0020\u006c\u0065\u0061\u0066\u002c\u0020\u006eo\u0020o\u0074\u0068\u0065\u0072\u0020\u0066\u006f\u006c\u006c\u006f\u0077\u0069\u006e\u0067");
};_gcd =_gad ;continue ;};_gad =&treeNode {};if _gdee ==_ffb -1{_gad ._acbc =_ebf ;_gad ._gcg =true ;};if _eecc ==0{_gad ._eafg =true ;};_gcd .set (_bggf ,_gad );_gcd =_gad ;};return nil ;};type tree struct{_ccae *treeNode };func _ddg (_cgaf []byte ,_fggb int ,_eag code )([]byte ,int ){_gcfe :=0;
for _gcfe < _eag .BitsWritten {_fbgf :=_fggb /8;_ec :=_fggb %8;if _fbgf >=len (_cgaf ){_cgaf =append (_cgaf ,0);};_cafc :=8-_ec ;_ecd :=_eag .BitsWritten -_gcfe ;if _cafc > _ecd {_cafc =_ecd ;};if _gcfe < 8{_cgaf [_fbgf ]=_cgaf [_fbgf ]|byte (_eag .Code >>uint (8+_ec -_gcfe ))&_beb [8-_cafc -_ec ];
}else {_cgaf [_fbgf ]=_cgaf [_fbgf ]|(byte (_eag .Code <<uint (_gcfe -8))&_beb [8-_cafc ])>>uint (_ec );};_fggb +=_cafc ;_gcfe +=_cafc ;};return _cgaf ,_fggb ;};func _ega (_gac int )([]byte ,int ){var _bgg []byte ;for _def :=0;_def < 6;_def ++{_bgg ,_gac =_ddg (_bgg ,_gac ,_dcd );
};return _bgg ,_gac %8;};func (_bec *Encoder )encodeG32D (_gbd [][]byte )[]byte {var _gec []byte ;var _dfb int ;for _bge :=0;_bge < len (_gbd );_bge +=_bec .K {if _bec .Rows > 0&&!_bec .EndOfBlock &&_bge ==_bec .Rows {break ;};_bbb ,_facg :=_ebdf (_gbd [_bge ],_dfb ,_gc );
_gec =_bec .appendEncodedRow (_gec ,_bbb ,_dfb );if _bec .EncodedByteAlign {_facg =0;};_dfb =_facg ;for _gagb :=_bge +1;_gagb < (_bge +_bec .K )&&_gagb < len (_gbd );_gagb ++{if _bec .Rows > 0&&!_bec .EndOfBlock &&_gagb ==_bec .Rows {break ;};_agd ,_dgd :=_ddg (nil ,_dfb ,_fd );
var _afce ,_gfef ,_bfec int ;_dgc :=-1;for _dgc < len (_gbd [_gagb ]){_afce =_agad (_gbd [_gagb ],_dgc );_gfef =_egb (_gbd [_gagb ],_gbd [_gagb -1],_dgc );_bfec =_agad (_gbd [_gagb -1],_gfef );if _bfec < _afce {_agd ,_dgd =_cfb (_agd ,_dgd );_dgc =_bfec ;
}else {if _e .Abs (float64 (_gfef -_afce ))> 3{_agd ,_dgd ,_dgc =_bfeaa (_gbd [_gagb ],_agd ,_dgd ,_dgc ,_afce );}else {_agd ,_dgd =_bdf (_agd ,_dgd ,_afce ,_gfef );_dgc =_afce ;};};};_gec =_bec .appendEncodedRow (_gec ,_agd ,_dfb );if _bec .EncodedByteAlign {_dgd =0;
};_dfb =_dgd %8;};};if _bec .EndOfBlock {_cebe ,_ :=_fadb (_dfb );_gec =_bec .appendEncodedRow (_gec ,_cebe ,_dfb );};return _gec ;};type Decoder struct{_cc int ;_dbd int ;_egf int ;_add []byte ;_gbf int ;_dg bool ;_df bool ;_ffa bool ;_bf bool ;_ccb bool ;
_bbd bool ;_gab bool ;_ac int ;_acg int ;_aga []int ;_dcdc []int ;_ddc int ;_ded int ;_fe int ;_cga int ;_cab *_a .Reader ;_da tiffType ;_gde error ;};const (_ tiffType =iota ;_bdg ;_bed ;_bedd ;);var _db =[...][]uint16 {{2,3,4,5,6,7},{128,8,9,64,10,11},{192,1664,16,17,13,14,15,1,12},{26,21,28,27,18,24,25,22,256,23,20,19},{33,34,35,36,37,38,31,32,29,53,54,39,40,41,42,43,44,30,61,62,63,0,320,384,45,59,60,46,49,50,51,52,55,56,57,58,448,512,640,576,47,48},{1472,1536,1600,1728,704,768,832,896,960,1024,1088,1152,1216,1280,1344,1408},{},{1792,1856,1920},{1984,2048,2112,2176,2240,2304,2368,2432,2496,2560}};
func _bdf (_dba []byte ,_ceea ,_fggg ,_dedd int )([]byte ,int ){_cgc :=_fcd (_fggg ,_dedd );_dba ,_ceea =_ddg (_dba ,_ceea ,_cgc );return _dba ,_ceea ;};type DecodeOptions struct{Columns int ;Rows int ;K int ;EncodedByteAligned bool ;BlackIsOne bool ;EndOfBlock bool ;
EndOfLine bool ;DamagedRowsBeforeError int ;};type treeNode struct{_caa *treeNode ;_gdb *treeNode ;_acbc int ;_eafg bool ;_gcg bool ;};func (_gda *Decoder )decodeRowType4 ()error {if !_gda ._dg {return _gda .decoderRowType41D ();};if _gda ._gab {_gda ._cab .Align ();
};_gda ._cab .Mark ();_agc ,_dbb :=_gda .tryFetchEOL ();if _dbb !=nil {return _dbb ;};if !_agc &&_gda ._ccb {_gda ._fe ++;if _gda ._fe > _gda ._gbf {return _gcf ;};_gda ._cab .Reset ();};if !_agc {_gda ._cab .Reset ();};_bgc ,_dbb :=_gda ._cab .ReadBool ();
if _dbb !=nil {return _dbb ;};if _bgc {if _agc &&_gda ._bbd {if _dbb =_gda .tryFetchRTC2D ();_dbb !=nil {return _dbb ;};};_dbb =_gda .decode1D ();}else {_dbb =_gda .decode2D ();};if _dbb !=nil {return _dbb ;};return nil ;};func _fadb (_gafd int )([]byte ,int ){var _dbg []byte ;
for _caf :=0;_caf < 6;_caf ++{_dbg ,_gafd =_ddg (_dbg ,_gafd ,_gc );};return _dbg ,_gafd %8;};var (_cb *treeNode ;_bb *treeNode ;_eb *tree ;_cd *tree ;_g *tree ;_f *tree ;_bc =-2000;_ee =-1000;_bd =-3000;_cbc =-4000;);func (_bca *treeNode )set (_abfg bool ,_gfd *treeNode ){if !_abfg {_bca ._caa =_gfd ;
}else {_bca ._gdb =_gfd ;};};func (_ggb *Decoder )tryFetchRTC2D ()(_acf error ){_ggb ._cab .Mark ();var _eecd bool ;for _dcb :=0;_dcb < 5;_dcb ++{_eecd ,_acf =_ggb .tryFetchEOL1 ();if _acf !=nil {if _d .Is (_acf ,_c .EOF ){if _dcb ==0{break ;};return _eef ;
};};if _eecd {continue ;};if _dcb > 0{return _eef ;};break ;};if _eecd {return _c .EOF ;};_ggb ._cab .Reset ();return _acf ;};func (_dag *Decoder )tryFetchEOL ()(bool ,error ){_efd ,_cae :=_dag ._cab .ReadBits (12);if _cae !=nil {return false ,_cae ;};
return _efd ==0x1,nil ;};var _aeg =[...][]uint16 {{0x7,0x8,0xb,0xc,0xe,0xf},{0x12,0x13,0x14,0x1b,0x7,0x8},{0x17,0x18,0x2a,0x2b,0x3,0x34,0x35,0x7,0x8},{0x13,0x17,0x18,0x24,0x27,0x28,0x2b,0x3,0x37,0x4,0x8,0xc},{0x12,0x13,0x14,0x15,0x16,0x17,0x1a,0x1b,0x2,0x24,0x25,0x28,0x29,0x2a,0x2b,0x2c,0x2d,0x3,0x32,0x33,0x34,0x35,0x36,0x37,0x4,0x4a,0x4b,0x5,0x52,0x53,0x54,0x55,0x58,0x59,0x5a,0x5b,0x64,0x65,0x67,0x68,0xa,0xb},{0x98,0x99,0x9a,0x9b,0xcc,0xcd,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xdb},{},{0x8,0xc,0xd},{0x12,0x13,0x14,0x15,0x16,0x17,0x1c,0x1d,0x1e,0x1f}};
type code struct{Code uint16 ;BitsWritten int ;};func (_egc *Encoder )Encode (pixels [][]byte )[]byte {if _egc .BlackIs1 {_bbg =0;_caeg =1;}else {_bbg =1;_caeg =0;};if _egc .K ==0{return _egc .encodeG31D (pixels );};if _egc .K > 0{return _egc .encodeG32D (pixels );
};if _egc .K < 0{return _egc .encodeG4 (pixels );};return nil ;};func _bfeaa (_dgaf ,_efe []byte ,_afe ,_afa ,_ffab int )([]byte ,int ,int ){_faad :=_agad (_dgaf ,_ffab );_cadb :=_afa >=0&&_dgaf [_afa ]==_bbg ||_afa ==-1;_efe ,_afe =_ddg (_efe ,_afe ,_af );
var _dgdf int ;if _afa > -1{_dgdf =_ffab -_afa ;}else {_dgdf =_ffab -_afa -1;};_efe ,_afe =_bgea (_efe ,_afe ,_dgdf ,_cadb );_cadb =!_cadb ;_gfb :=_faad -_ffab ;_efe ,_afe =_bgea (_efe ,_afe ,_gfb ,_cadb );_afa =_faad ;return _efe ,_afe ,_afa ;};var (_ga map[int ]code ;
_egd map[int ]code ;_ad map[int ]code ;_cg map[int ]code ;_gfe map[int ]code ;_beb map[int ]byte ;_dcd =code {Code :1<<4,BitsWritten :12};_gc =code {Code :3<<3,BitsWritten :13};_fd =code {Code :2<<3,BitsWritten :13};_ade =code {Code :1<<12,BitsWritten :4};
_af =code {Code :1<<13,BitsWritten :3};_fac =code {Code :1<<15,BitsWritten :1};_cbf =code {Code :3<<13,BitsWritten :3};_aff =code {Code :3<<10,BitsWritten :6};_fad =code {Code :3<<9,BitsWritten :7};_fdb =code {Code :2<<13,BitsWritten :3};_ada =code {Code :2<<10,BitsWritten :6};
_gcb =code {Code :2<<9,BitsWritten :7};);func (_gbcb *Decoder )decode1D ()error {var (_dfd int ;_egg error ;);_cef :=true ;_gbcb ._ded =0;for {var _gfg int ;if _cef {_gfg ,_egg =_gbcb .decodeRun (_cd );}else {_gfg ,_egg =_gbcb .decodeRun (_eb );};if _egg !=nil {return _egg ;
};_dfd +=_gfg ;_gbcb ._dcdc [_gbcb ._ded ]=_dfd ;_gbcb ._ded ++;_cef =!_cef ;if _dfd >=_gbcb ._cc {break ;};};return nil ;};func _daf (_dfbf ,_bfee []byte ,_fcc int ,_gee bool )int {_ccee :=_agad (_bfee ,_fcc );if _ccee < len (_bfee )&&(_fcc ==-1&&_bfee [_ccee ]==_bbg ||_fcc >=0&&_fcc < len (_dfbf )&&_dfbf [_fcc ]==_bfee [_ccee ]||_fcc >=len (_dfbf )&&_gee &&_bfee [_ccee ]==_bbg ||_fcc >=len (_dfbf )&&!_gee &&_bfee [_ccee ]==_caeg ){_ccee =_agad (_bfee ,_ccee );
};return _ccee ;};func _bgea (_dcg []byte ,_ace int ,_fgg int ,_deg bool )([]byte ,int ){var (_adc code ;_gdab bool ;);for !_gdab {_adc ,_fgg ,_gdab =_efa (_fgg ,_deg );_dcg ,_ace =_ddg (_dcg ,_ace ,_adc );};return _dcg ,_ace ;};func (_acd *Decoder )tryFetchEOL1 ()(bool ,error ){_dcfa ,_bcb :=_acd ._cab .ReadBits (13);
if _bcb !=nil {return false ,_bcb ;};return _dcfa ==0x3,nil ;};func (_edef *Decoder )decoderRowType41D ()error {if _edef ._gab {_edef ._cab .Align ();};_edef ._cab .Mark ();var (_fea bool ;_fdf error ;);if _edef ._ccb {_fea ,_fdf =_edef .tryFetchEOL ();
if _fdf !=nil {return _fdf ;};if !_fea {return _gcf ;};}else {_fea ,_fdf =_edef .looseFetchEOL ();if _fdf !=nil {return _fdf ;};};if !_fea {_edef ._cab .Reset ();};if _fea &&_edef ._bbd {_edef ._cab .Mark ();for _gbfa :=0;_gbfa < 5;_gbfa ++{_fea ,_fdf =_edef .tryFetchEOL ();
if _fdf !=nil {if _d .Is (_fdf ,_c .EOF ){if _gbfa ==0{break ;};return _eef ;};};if _fea {continue ;};if _gbfa > 0{return _eef ;};break ;};if _fea {return _c .EOF ;};_edef ._cab .Reset ();};if _fdf =_edef .decode1D ();_fdf !=nil {return _fdf ;};return nil ;
};func _efa (_cfg int ,_aaa bool )(code ,int ,bool ){if _cfg < 64{if _aaa {return _egd [_cfg ],0,true ;};return _ga [_cfg ],0,true ;};_geb :=_cfg /64;if _geb > 40{return _gfe [2560],_cfg -2560,false ;};if _geb > 27{return _gfe [_geb *64],_cfg -_geb *64,false ;
};if _aaa {return _cg [_geb *64],_cfg -_geb *64,false ;};return _ad [_geb *64],_cfg -_geb *64,false ;};func (_bedg *treeNode )walk (_efab bool )*treeNode {if _efab {return _bedg ._gdb ;};return _bedg ._caa ;};var _ce =[...][]uint16 {{0x2,0x3},{0x2,0x3},{0x2,0x3},{0x3},{0x4,0x5},{0x4,0x5,0x7},{0x4,0x7},{0x18},{0x17,0x18,0x37,0x8,0xf},{0x17,0x18,0x28,0x37,0x67,0x68,0x6c,0x8,0xc,0xd},{0x12,0x13,0x14,0x15,0x16,0x17,0x1c,0x1d,0x1e,0x1f,0x24,0x27,0x28,0x2b,0x2c,0x33,0x34,0x35,0x37,0x38,0x52,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x5b,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x6b,0x6c,0x6d,0xc8,0xc9,0xca,0xcb,0xcc,0xcd,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xda,0xdb},{0x4a,0x4b,0x4c,0x4d,0x52,0x53,0x54,0x55,0x5a,0x5b,0x64,0x65,0x6c,0x6d,0x72,0x73,0x74,0x75,0x76,0x77}};
func (_dfe *Decoder )decodeRow ()(_dbe error ){if !_dfe ._bbd &&_dfe ._dbd > 0&&_dfe ._dbd ==_dfe ._egf {return _c .EOF ;};switch _dfe ._da {case _bdg :_dbe =_dfe .decodeRowType2 ();case _bed :_dbe =_dfe .decodeRowType4 ();case _bedd :_dbe =_dfe .decodeRowType6 ();
};if _dbe !=nil {return _dbe ;};_bgd :=0;_bfe :=true ;_dfe ._cga =0;for _gg :=0;_gg < _dfe ._ded ;_gg ++{_bga :=_dfe ._cc ;if _gg !=_dfe ._ded {_bga =_dfe ._dcdc [_gg ];};if _bga > _dfe ._cc {_bga =_dfe ._cc ;};_fadg :=_bgd /8;for _bgd %8!=0&&_bga -_bgd > 0{var _ebaf byte ;
if !_bfe {_ebaf =1<<uint (7-(_bgd %8));};_dfe ._add [_fadg ]|=_ebaf ;_bgd ++;};if _bgd %8==0{_fadg =_bgd /8;var _gcbb byte ;if !_bfe {_gcbb =0xff;};for _bga -_bgd > 7{_dfe ._add [_fadg ]=_gcbb ;_bgd +=8;_fadg ++;};};for _bga -_bgd > 0{if _bgd %8==0{_dfe ._add [_fadg ]=0;
};var _egfa byte ;if !_bfe {_egfa =1<<uint (7-(_bgd %8));};_dfe ._add [_fadg ]|=_egfa ;_bgd ++;};_bfe =!_bfe ;};if _bgd !=_dfe ._cc {return _d .New ("\u0073\u0075\u006d\u0020\u006f\u0066 \u0072\u0075\u006e\u002d\u006c\u0065\u006e\u0067\u0074\u0068\u0073\u0020\u0064\u006f\u0065\u0073\u0020\u006e\u006f\u0074 \u0065\u0071\u0075\u0061\u006c\u0020\u0073\u0063\u0061\u006e\u0020\u006c\u0069\u006ee\u0020w\u0069\u0064\u0074\u0068");
};_dfe ._ac =(_bgd +7)/8;_dfe ._egf ++;return nil ;};func (_aef *Decoder )Read (in []byte )(int ,error ){if _aef ._gde !=nil {return 0,_aef ._gde ;};_bg :=len (in );var (_eab int ;_eec int ;);for _bg !=0{if _aef ._acg >=_aef ._ac {if _dgg :=_aef .fetch ();
_dgg !=nil {_aef ._gde =_dgg ;return 0,_dgg ;};};if _aef ._ac ==-1{return _eab ,_c .EOF ;};switch {case _bg <=_aef ._ac -_aef ._acg :_beg :=_aef ._add [_aef ._acg :_aef ._acg +_bg ];for _ ,_bcf :=range _beg {if !_aef ._bf {_bcf =^_bcf ;};in [_eec ]=_bcf ;
_eec ++;};_eab +=len (_beg );_aef ._acg +=len (_beg );return _eab ,nil ;default:_ab :=_aef ._add [_aef ._acg :];for _ ,_dge :=range _ab {if !_aef ._bf {_dge =^_dge ;};in [_eec ]=_dge ;_eec ++;};_eab +=len (_ab );_aef ._acg +=len (_ab );_bg -=len (_ab );
};};return _eab ,nil ;};func (_bae *Encoder )encodeG4 (_dec [][]byte )[]byte {_abb :=make ([][]byte ,len (_dec ));copy (_abb ,_dec );_abb =_cgd (_abb );var _dbc []byte ;var _bgf int ;for _gba :=1;_gba < len (_abb );_gba ++{if _bae .Rows > 0&&!_bae .EndOfBlock &&_gba ==(_bae .Rows +1){break ;
};var _gdea []byte ;var _bbe ,_fadc ,_faa int ;_abd :=_bgf ;_ccbf :=-1;for _ccbf < len (_abb [_gba ]){_bbe =_agad (_abb [_gba ],_ccbf );_fadc =_egb (_abb [_gba ],_abb [_gba -1],_ccbf );_faa =_agad (_abb [_gba -1],_fadc );if _faa < _bbe {_gdea ,_abd =_ddg (_gdea ,_abd ,_ade );
_ccbf =_faa ;}else {if _e .Abs (float64 (_fadc -_bbe ))> 3{_gdea ,_abd ,_ccbf =_bfeaa (_abb [_gba ],_gdea ,_abd ,_ccbf ,_bbe );}else {_gdea ,_abd =_bdf (_gdea ,_abd ,_bbe ,_fadc );_ccbf =_bbe ;};};};_dbc =_bae .appendEncodedRow (_dbc ,_gdea ,_bgf );if _bae .EncodedByteAlign {_abd =0;
};_bgf =_abd %8;};if _bae .EndOfBlock {_geae ,_ :=_ccc (_bgf );_dbc =_bae .appendEncodedRow (_dbc ,_geae ,_bgf );};return _dbc ;};func (_abf *tree )fillWithNode (_eaf ,_bcfe int ,_dce *treeNode )error {_cgf :=_abf ._ccae ;for _dgdc :=0;_dgdc < _eaf ;_dgdc ++{_gdc :=uint (_eaf -1-_dgdc );
_ceff :=((_bcfe >>_gdc )&1)!=0;_gaa :=_cgf .walk (_ceff );if _gaa !=nil {if _gaa ._gcg {return _d .New ("\u006e\u006f\u0064\u0065\u0020\u0069\u0073\u0020\u006c\u0065\u0061\u0066\u002c\u0020\u006eo\u0020o\u0074\u0068\u0065\u0072\u0020\u0066\u006f\u006c\u006c\u006f\u0077\u0069\u006e\u0067");
};_cgf =_gaa ;continue ;};if _dgdc ==_eaf -1{_gaa =_dce ;}else {_gaa =&treeNode {};};if _bcfe ==0{_gaa ._eafg =true ;};_cgf .set (_ceff ,_gaa );_cgf =_gaa ;};return nil ;};func _ebdf (_baef []byte ,_deb int ,_bcg code )([]byte ,int ){_adf :=true ;var _ccd []byte ;
_ccd ,_deb =_ddg (nil ,_deb ,_bcg );_cca :=0;var _aggc int ;for _cca < len (_baef ){_aggc ,_cca =_abe (_baef ,_adf ,_cca );_ccd ,_deb =_bgea (_ccd ,_deb ,_aggc ,_adf );_adf =!_adf ;};return _ccd ,_deb %8;};func _egb (_gff ,_ged []byte ,_ebc int )int {_bdcg :=_agad (_ged ,_ebc );
if _bdcg < len (_ged )&&(_ebc ==-1&&_ged [_bdcg ]==_bbg ||_ebc >=0&&_ebc < len (_gff )&&_gff [_ebc ]==_ged [_bdcg ]||_ebc >=len (_gff )&&_gff [_ebc -1]!=_ged [_bdcg ]){_bdcg =_agad (_ged ,_bdcg );};return _bdcg ;};