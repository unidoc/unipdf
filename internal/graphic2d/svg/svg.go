//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package svg ;import (_cg "encoding/xml";_dc "fmt";_da "github.com/unidoc/unipdf/v3/common";_ee "github.com/unidoc/unipdf/v3/contentstream";_cb "github.com/unidoc/unipdf/v3/contentstream/draw";_ac "github.com/unidoc/unipdf/v3/internal/graphic2d";_e "golang.org/x/net/html/charset";
_a "io";_gg "math";_ca "os";_gc "strconv";_d "strings";_c "unicode";);func _cf (_dd *GraphicSVG ,_ag *_ee .ContentCreator ){_ag .Add_q ();_dd .Style .toContentStream (_ag );_dad ,_b :=_daaa (_dd .Attributes ["\u0064"]);if _b !=nil {_da .Log .Error ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025s",_b .Error ());
};var (_cab ,_ga =0.0,0.0;_df ,_cfe =0.0,0.0;_ge *Command ;);for _ ,_gd :=range _dad .Subpaths {for _ ,_gca :=range _gd .Commands {switch _d .ToLower (_gca .Symbol ){case "\u006d":_df ,_cfe =_gca .Params [0]*_dd ._bgd ,_gca .Params [1]*_dd ._bgd ;if !_gca .isAbsolute (){_df ,_cfe =_cab +_df -_dd .ViewBox .X ,_ga +_cfe -_dd .ViewBox .Y ;
};_ag .Add_m (_abce (_df ,3),_abce (_cfe ,3));_cab ,_ga =_df ,_cfe ;case "\u0063":_ec ,_fg ,_bg ,_eb ,_cfc ,_gb :=_gca .Params [0]*_dd ._bgd ,_gca .Params [1]*_dd ._bgd ,_gca .Params [2]*_dd ._bgd ,_gca .Params [3]*_dd ._bgd ,_gca .Params [4]*_dd ._bgd ,_gca .Params [5]*_dd ._bgd ;
if !_gca .isAbsolute (){_ec ,_fg ,_bg ,_eb ,_cfc ,_gb =_cab +_ec ,_ga +_fg ,_cab +_bg ,_ga +_eb ,_cab +_cfc ,_ga +_gb ;};_ag .Add_c (_abce (_ec ,3),_abce (_fg ,3),_abce (_bg ,3),_abce (_eb ,3),_abce (_cfc ,3),_abce (_gb ,3));_cab ,_ga =_cfc ,_gb ;case "\u0073":_dfg ,_dcc ,_acc ,_db :=_gca .Params [0]*_dd ._bgd ,_gca .Params [1]*_dd ._bgd ,_gca .Params [2]*_dd ._bgd ,_gca .Params [3]*_dd ._bgd ;
if !_gca .isAbsolute (){_dfg ,_dcc ,_acc ,_db =_cab +_dfg ,_ga +_dcc ,_cab +_acc ,_ga +_db ;};_ag .Add_c (_abce (_cab ,3),_abce (_ga ,3),_abce (_dfg ,3),_abce (_dcc ,3),_abce (_acc ,3),_abce (_db ,3));_cab ,_ga =_acc ,_db ;case "\u006c":_cc ,_ab :=_gca .Params [0]*_dd ._bgd ,_gca .Params [1]*_dd ._bgd ;
if !_gca .isAbsolute (){_cc ,_ab =_cab +_cc ,_ga +_ab ;};_ag .Add_l (_abce (_cc ,3),_abce (_ab ,3));_cab ,_ga =_cc ,_ab ;case "\u0068":_fd :=_gca .Params [0]*_dd ._bgd ;if !_gca .isAbsolute (){_fd =_cab +_fd ;};_ag .Add_l (_abce (_fd ,3),_abce (_ga ,3));
_cab =_fd ;case "\u0076":_ebg :=_gca .Params [0]*_dd ._bgd ;if !_gca .isAbsolute (){_ebg =_ga +_ebg ;};_ag .Add_l (_abce (_cab ,3),_abce (_ebg ,3));_ga =_ebg ;case "\u0071":_ddb ,_ba ,_af ,_ace :=_gca .Params [0]*_dd ._bgd ,_gca .Params [1]*_dd ._bgd ,_gca .Params [2]*_dd ._bgd ,_gca .Params [3]*_dd ._bgd ;
if !_gca .isAbsolute (){_ddb ,_ba ,_af ,_ace =_cab +_ddb ,_ga +_ba ,_cab +_af ,_ga +_ace ;};_gba ,_ae :=_ac .QuadraticToCubicBezier (_cab ,_ga ,_ddb ,_ba ,_af ,_ace );_ag .Add_c (_abce (_gba .X ,3),_abce (_gba .Y ,3),_abce (_ae .X ,3),_abce (_ae .Y ,3),_abce (_af ,3),_abce (_ace ,3));
_cab ,_ga =_af ,_ace ;case "\u0074":var _fe ,_abg _ac .Point ;_gac ,_gbb :=_gca .Params [0]*_dd ._bgd ,_gca .Params [1]*_dd ._bgd ;if !_gca .isAbsolute (){_gac ,_gbb =_cab +_gac ,_ga +_gbb ;};if _ge !=nil &&_d .ToLower (_ge .Symbol )=="\u0071"{_bf :=_ac .Point {X :_ge .Params [0]*_dd ._bgd ,Y :_ge .Params [1]*_dd ._bgd };
_cgg :=_ac .Point {X :_ge .Params [2]*_dd ._bgd ,Y :_ge .Params [3]*_dd ._bgd };_fdb :=_cgg .Mul (2.0).Sub (_bf );_fe ,_abg =_ac .QuadraticToCubicBezier (_cab ,_ga ,_fdb .X ,_fdb .Y ,_gac ,_gbb );};_ag .Add_c (_abce (_fe .X ,3),_abce (_fe .Y ,3),_abce (_abg .X ,3),_abce (_abg .Y ,3),_abce (_gac ,3),_abce (_gbb ,3));
_cab ,_ga =_gac ,_gbb ;case "\u0061":_cbd ,_caa :=_gca .Params [0]*_dd ._bgd ,_gca .Params [1]*_dd ._bgd ;_gga :=_gca .Params [2];_edb :=_gca .Params [3]> 0;_dcb :=_gca .Params [4]> 0;_afa ,_gcb :=_gca .Params [5]*_dd ._bgd ,_gca .Params [6]*_dd ._bgd ;
if !_gca .isAbsolute (){_afa ,_gcb =_cab +_afa ,_ga +_gcb ;};_ebf :=_ac .EllipseToCubicBeziers (_cab ,_ga ,_cbd ,_caa ,_gga ,_edb ,_dcb ,_afa ,_gcb );for _ ,_bc :=range _ebf {_ag .Add_c (_abce (_bc [1].X ,3),_abce ((_bc [1].Y ),3),_abce ((_bc [2].X ),3),_abce ((_bc [2].Y ),3),_abce ((_bc [3].X ),3),_abce ((_bc [3].Y ),3));
};_cab ,_ga =_afa ,_gcb ;case "\u007a":_ag .Add_h ();};_ge =_gca ;};};if _dd .Style .FillColor !=""&&_dd .Style .StrokeColor !=""{_ag .Add_B ();}else if _dd .Style .FillColor !=""{_ag .Add_f ();}else if _dd .Style .StrokeColor !=""{_ag .Add_S ();};_ag .Add_h ();
_ag .Add_Q ();};var (_fcc =[]string {"\u0063\u006d","\u006d\u006d","\u0070\u0078","\u0070\u0074"};_eeb =map[string ]float64 {"\u0063\u006d":_ea ,"\u006d\u006d":_fc ,"\u0070\u0078":_f ,"\u0070\u0074":1};);func _ebd (_dca *GraphicSVG ,_abd *_ee .ContentCreator ){_abd .Add_q ();
_dca .Style .toContentStream (_abd );_ddd ,_fgf :=_ege (_dca .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _fgf !=nil {_da .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_fgf );
return ;};if len (_ddd )%2> 0{_da .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _dfe :=0;_dfe < len (_ddd );{if _dfe ==0{_abd .Add_m (_ddd [_dfe ]*_dca ._bgd ,_ddd [_dfe +1]*_dca ._bgd );}else {_abd .Add_l (_ddd [_dfe ]*_dca ._bgd ,_ddd [_dfe +1]*_dca ._bgd );};_dfe +=2;};_abd .Add_l (_ddd [0]*_dca ._bgd ,_ddd [1]*_dca ._bgd );
if _dca .Style .FillColor !=""&&_dca .Style .StrokeColor !=""{_abd .Add_B ();}else if _dca .Style .FillColor !=""{_abd .Add_f ();}else if _dca .Style .StrokeColor !=""{_abd .Add_S ();};_abd .Add_h ();_abd .Add_Q ();};func (_edbe *GraphicSVG )SetScaling (xFactor ,yFactor float64 ){_gae :=_edbe .Width /_edbe .ViewBox .W ;
_cegd :=_edbe .Height /_edbe .ViewBox .H ;_edbe .setDefaultScaling (_gg .Max (_gae ,_cegd ));for _ ,_ggb :=range _edbe .Children {_ggb .SetScaling (xFactor ,yFactor );};};func (_dge *GraphicSVGStyle )toContentStream (_fbge *_ee .ContentCreator ){if _dge ==nil {return ;
};if _dge .FillColor !=""{var _aage ,_gaf ,_aba float64 ;if _dadae ,_cee :=_ac .ColorMap [_dge .FillColor ];_cee {_cafd ,_eabe ,_fda ,_ :=_dadae .RGBA ();_aage ,_gaf ,_aba =float64 (_cafd ),float64 (_eabe ),float64 (_fda );}else {_aage ,_gaf ,_aba =_ede (_dge .FillColor );
};_fbge .Add_rg (_aage ,_gaf ,_aba );};if _dge .StrokeColor !=""{var _cca ,_afe ,_ceef float64 ;if _ccc ,_ceec :=_ac .ColorMap [_dge .StrokeColor ];_ceec {_cea ,_aaa ,_cdc ,_ :=_ccc .RGBA ();_cca ,_afe ,_ceef =float64 (_cea )/255.0,float64 (_aaa )/255.0,float64 (_cdc )/255.0;
}else {_cca ,_afe ,_ceef =_ede (_dge .StrokeColor );};_fbge .Add_RG (_cca ,_afe ,_ceef );};if _dge .StrokeWidth > 0{_fbge .Add_w (_dge .StrokeWidth );};};type Path struct{Subpaths []*Subpath ;};func _ebff (_fdfg string )(_bddc []float64 ,_bba error ){var _gagf float64 ;
_dfgb :=0;_bgae :=true ;for _dcac ,_eacd :=range _fdfg {if _eacd =='.'{if _bgae {_bgae =false ;continue ;};_gagf ,_bba =_ecb (_fdfg [_dfgb :_dcac ],64);if _bba !=nil {return ;};_bddc =append (_bddc ,_gagf );_dfgb =_dcac ;};};_gagf ,_bba =_ecb (_fdfg [_dfgb :],64);
if _bba !=nil {return ;};_bddc =append (_bddc ,_gagf );return ;};func (_dfdb *Command )isAbsolute ()bool {return _dfdb .Symbol ==_d .ToUpper (_dfdb .Symbol )};func (_ad *commands )isCommand (_aac string )bool {for _ ,_cce :=range _ad ._fdaa {if _d .ToLower (_aac )==_cce {return true ;
};};return false ;};func _bea (_ega []token )([]*Command ,error ){var (_cbf []*Command ;_edbeb []float64 ;);for _dgf :=len (_ega )-1;_dgf >=0;_dgf --{_ebbg :=_ega [_dgf ];if _ebbg ._ece {_gfc :=_dbe ._ddfc [_d .ToLower (_ebbg ._ded )];_fff :=len (_edbeb );
if _gfc ==0&&_fff ==0{_efe :=&Command {Symbol :_ebbg ._ded };_cbf =append ([]*Command {_efe },_cbf ...);}else if _gfc !=0&&_fff %_gfc ==0{_bde :=_fff /_gfc ;for _ebc :=0;_ebc < _bde ;_ebc ++{_gcag :=_ebbg ._ded ;if _gcag =="\u006d"&&_ebc < _bde -1{_gcag ="\u006c";
};if _gcag =="\u004d"&&_ebc < _bde -1{_gcag ="\u004c";};_eggdf :=&Command {_gcag ,_dcg (_edbeb [:_gfc ])};_cbf =append ([]*Command {_eggdf },_cbf ...);_edbeb =_edbeb [_gfc :];};}else {_agg :=pathParserError {"I\u006e\u0063\u006f\u0072\u0072\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072\u0020\u006f\u0066\u0020\u0070\u0061r\u0061\u006d\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006fr\u0020"+_ebbg ._ded };
return nil ,_agg ;};}else {_eac ,_cedf :=_ecb (_ebbg ._ded ,64);if _cedf !=nil {return nil ,_cedf ;};_edbeb =append (_edbeb ,_eac );};};return _cbf ,nil ;};func _ecb (_aged string ,_dgd int )(float64 ,error ){_befe ,_cgd :=_dbdb (_aged );_gacf ,_ddde :=_gc .ParseFloat (_befe ,_dgd );
if _ddde !=nil {return 0,_ddde ;};if _bgb ,_fbb :=_eeb [_cgd ];_fbb {_gacf =_gacf *_bgb ;}else {_gacf =_gacf *_f ;};return _gacf ,nil ;};func _gbf ()*GraphicSVGStyle {return &GraphicSVGStyle {FillColor :"\u00230\u0030\u0030\u0030\u0030\u0030",StrokeColor :"",StrokeWidth :0};
};func _bdd (_gfdf []*Command )*Path {_cbba :=&Path {};var _cbg []*Command ;for _dbd ,_bb :=range _gfdf {switch _d .ToLower (_bb .Symbol ){case _dbe ._cgb :if len (_cbg )> 0{_cbba .Subpaths =append (_cbba .Subpaths ,&Subpath {_cbg });};_cbg =[]*Command {_bb };
case _dbe ._bfc :_cbg =append (_cbg ,_bb );_cbba .Subpaths =append (_cbba .Subpaths ,&Subpath {_cbg });_cbg =[]*Command {};default:_cbg =append (_cbg ,_bb );if len (_gfdf )==_dbd +1{_cbba .Subpaths =append (_cbba .Subpaths ,&Subpath {_cbg });};};};return _cbba ;
};func (_acfe *Command )compare (_abge *Command )bool {if _acfe .Symbol !=_abge .Symbol {return false ;};for _dgbb ,_ffab :=range _acfe .Params {if _ffab !=_abge .Params [_dgbb ]{return false ;};};return true ;};func _dag (_gbc *GraphicSVG ,_aeg *_ee .ContentCreator ){_aeg .Add_q ();
_gbc .Style .toContentStream (_aeg );_de ,_abgd :=_ecb (_gbc .Attributes ["\u0078"],64);if _abgd !=nil {_da .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0078\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_abgd .Error ());
};_fdf ,_abgd :=_ecb (_gbc .Attributes ["\u0079"],64);if _abgd !=nil {_da .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0079\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_abgd .Error ());
};_dg ,_abgd :=_ecb (_gbc .Attributes ["\u0077\u0069\u0064t\u0068"],64);if _abgd !=nil {_da .Log .Debug ("\u0045\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0077\u0069\u0064\u0074\u0068\u0020v\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_abgd .Error ());
};_fb ,_abgd :=_ecb (_gbc .Attributes ["\u0068\u0065\u0069\u0067\u0068\u0074"],64);if _abgd !=nil {_da .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077h\u0069\u006c\u0065 \u0070\u0061\u0072\u0073i\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0068\u0065\u0069\u0067\u0068\u0074\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_abgd .Error ());
};_aeg .Add_re (_de *_gbc ._bgd ,_fdf *_gbc ._bgd ,_dg *_gbc ._bgd ,_fb *_gbc ._bgd );if _gbc .Style .FillColor !=""&&_gbc .Style .StrokeColor !=""{_aeg .Add_B ();}else if _gbc .Style .FillColor !=""{_aeg .Add_f ();}else if _gbc .Style .StrokeColor !=""{_aeg .Add_S ();
};_aeg .Add_Q ();};type GraphicSVGStyle struct{FillColor string ;StrokeColor string ;StrokeWidth float64 ;};type token struct{_ded string ;_ece bool ;};func ParseFromStream (source _a .Reader )(*GraphicSVG ,error ){_bef :=_cg .NewDecoder (source );_bef .CharsetReader =_e .NewReaderLabel ;
_faa ,_gff :=_edd (_bef );if _gff !=nil {return nil ,_gff ;};if _fgcf :=_faa .Decode (_bef );_fgcf !=nil &&_fgcf !=_a .EOF {return nil ,_fgcf ;};return _faa ,nil ;};type Subpath struct{Commands []*Command ;};func _edd (_dece *_cg .Decoder )(*GraphicSVG ,error ){for {_dda ,_gfd :=_dece .Token ();
if _dda ==nil &&_gfd ==_a .EOF {break ;};if _gfd !=nil {return nil ,_gfd ;};switch _cbbf :=_dda .(type ){case _cg .StartElement :return _ggad (_cbbf ),nil ;};};return &GraphicSVG {},nil ;};func _edc (_afed map[string ]string ,_ead float64 )(*GraphicSVGStyle ,error ){_bga :=_gbf ();
_bfb ,_bee :=_afed ["\u0066\u0069\u006c\u006c"];if _bee {_bga .FillColor =_bfb ;if _bfb =="\u006e\u006f\u006e\u0065"{_bga .FillColor ="";};};_gagg ,_gab :=_afed ["\u0073\u0074\u0072\u006f\u006b\u0065"];if _gab {_bga .StrokeColor =_gagg ;if _gagg =="\u006e\u006f\u006e\u0065"{_bga .StrokeColor ="";
};};_ebb ,_dgae :=_afed ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];if _dgae {_ggbb ,_afac :=_ecb (_ebb ,64);if _afac !=nil {return nil ,_afac ;};_bga .StrokeWidth =_ggbb *_ead ;};return _bga ,nil ;};func _dcg (_gafg []float64 )[]float64 {for _bec ,_deb :=0,len (_gafg )-1;
_bec < _deb ;_bec ,_deb =_bec +1,_deb -1{_gafg [_bec ],_gafg [_deb ]=_gafg [_deb ],_gafg [_bec ];};return _gafg ;};func _ggad (_aef _cg .StartElement )*GraphicSVG {_bd :=&GraphicSVG {};_gce :=make (map[string ]string );for _ ,_aag :=range _aef .Attr {_gce [_aag .Name .Local ]=_aag .Value ;
};_bd .Name =_aef .Name .Local ;_bd .Attributes =_gce ;_bd ._bgd =1;if _bd .Name =="\u0073\u0076\u0067"{_fbe ,_dada :=_ege (_gce ["\u0076i\u0065\u0077\u0042\u006f\u0078"]);if _dada !=nil {_da .Log .Debug ("\u0055\u006ea\u0062\u006c\u0065\u0020t\u006f\u0020p\u0061\u0072\u0073\u0065\u0020\u0076\u0069\u0065w\u0042\u006f\u0078\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074e\u003a\u0020\u0025\u0076",_dada );
return nil ;};_bd .ViewBox .X =_fbe [0];_bd .ViewBox .Y =_fbe [1];_bd .ViewBox .W =_fbe [2];_bd .ViewBox .H =_fbe [3];_bd .Width =_bd .ViewBox .W ;_bd .Height =_bd .ViewBox .H ;if _gcg ,_eeg :=_gce ["\u0077\u0069\u0064t\u0068"];_eeg {_fca ,_ffc :=_ecb (_gcg ,64);
if _ffc !=nil {_da .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0077\u0069\u0064\u0074\u0068\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_ffc );return nil ;};_bd .Width =_fca ;
};if _ffa ,_caf :=_gce ["\u0068\u0065\u0069\u0067\u0068\u0074"];_caf {_cdfa ,_abdd :=_ecb (_ffa ,64);if _abdd !=nil {_da .Log .Debug ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0070\u0061rse\u0020he\u0069\u0067\u0068\u0074\u0020\u0061\u0074tr\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_abdd );
return nil ;};_bd .Height =_cdfa ;};if _bd .Width > 0&&_bd .Height > 0{_bd ._bgd =_bd .Width /_bd .ViewBox .W ;};};return _bd ;};func ParseFromString (svgStr string )(*GraphicSVG ,error ){return ParseFromStream (_d .NewReader (svgStr ));};func _geb (_daa *GraphicSVG ,_fgg *_ee .ContentCreator ){_fgg .Add_q ();
_daa .Style .toContentStream (_fgg );_cae ,_caaf :=_ecb (_daa .Attributes ["\u0078\u0031"],64);if _caaf !=nil {_da .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_caaf .Error ());
};_fgda ,_caaf :=_ecb (_daa .Attributes ["\u0079\u0031"],64);if _caaf !=nil {_da .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_caaf .Error ());
};_fbf ,_caaf :=_ecb (_daa .Attributes ["\u0078\u0032"],64);if _caaf !=nil {_da .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_caaf .Error ());
};_cdf ,_caaf :=_ecb (_daa .Attributes ["\u0079\u0032"],64);if _caaf !=nil {_da .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_caaf .Error ());
};_fgg .Add_m (_cae *_daa ._bgd ,_fgda *_daa ._bgd );_fgg .Add_l (_fbf *_daa ._bgd ,_cdf *_daa ._bgd );if _daa .Style .FillColor !=""&&_daa .Style .StrokeColor !=""{_fgg .Add_B ();}else if _daa .Style .FillColor !=""{_fgg .Add_f ();}else if _daa .Style .StrokeColor !=""{_fgg .Add_S ();
};_fgg .Add_h ();_fgg .Add_Q ();};func _ce (_daf *GraphicSVG ,_gdb *_ee .ContentCreator ){_gdb .Add_q ();_daf .Style .toContentStream (_gdb );_dec ,_aa :=_ecb (_daf .Attributes ["\u0063\u0078"],64);if _aa !=nil {_da .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_aa .Error ());
};_age ,_aa :=_ecb (_daf .Attributes ["\u0063\u0079"],64);if _aa !=nil {_da .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_aa .Error ());
};_fbgf ,_aa :=_ecb (_daf .Attributes ["\u0072\u0078"],64);if _aa !=nil {_da .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_aa .Error ());
};_afaa ,_aa :=_ecb (_daf .Attributes ["\u0072\u0079"],64);if _aa !=nil {_da .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_aa .Error ());
};_eaf :=_fbgf *_daf ._bgd ;_cad :=_afaa *_daf ._bgd ;_dee :=_dec *_daf ._bgd ;_daga :=_age *_daf ._bgd ;_fde :=_eaf *_dcd ;_bcf :=_cad *_dcd ;_gcae :=_cb .NewCubicBezierPath ();_gcae =_gcae .AppendCurve (_cb .NewCubicBezierCurve (-_eaf ,0,-_eaf ,_bcf ,-_fde ,_cad ,0,_cad ));
_gcae =_gcae .AppendCurve (_cb .NewCubicBezierCurve (0,_cad ,_fde ,_cad ,_eaf ,_bcf ,_eaf ,0));_gcae =_gcae .AppendCurve (_cb .NewCubicBezierCurve (_eaf ,0,_eaf ,-_bcf ,_fde ,-_cad ,0,-_cad ));_gcae =_gcae .AppendCurve (_cb .NewCubicBezierCurve (0,-_cad ,-_fde ,-_cad ,-_eaf ,-_bcf ,-_eaf ,0));
_gcae =_gcae .Offset (_dee ,_daga );if _daf .Style .StrokeWidth > 0{_gcae =_gcae .Offset (_daf .Style .StrokeWidth /2,_daf .Style .StrokeWidth /2);};_cb .DrawBezierPathWithCreator (_gcae ,_gdb );if _daf .Style .FillColor !=""&&_daf .Style .StrokeColor !=""{_gdb .Add_B ();
}else if _daf .Style .FillColor !=""{_gdb .Add_f ();}else if _daf .Style .StrokeColor !=""{_gdb .Add_S ();};_gdb .Add_h ();_gdb .Add_Q ();};func (_feg *GraphicSVG )setDefaultScaling (_bgg float64 ){_feg ._bgd =_bgg ;if _feg .Style !=nil &&_feg .Style .StrokeWidth > 0{_feg .Style .StrokeWidth =_feg .Style .StrokeWidth *_feg ._bgd ;
};for _ ,_abf :=range _feg .Children {_abf .setDefaultScaling (_bgg );};};func (_fbd *GraphicSVG )Decode (decoder *_cg .Decoder )error {for {_eaa ,_ceg :=decoder .Token ();if _eaa ==nil &&_ceg ==_a .EOF {break ;};if _ceg !=nil {return _ceg ;};switch _aceb :=_eaa .(type ){case _cg .StartElement :_eea :=_ggad (_aceb );
_gec :=_eea .Decode (decoder );if _gec !=nil {return _gec ;};_fbd .Children =append (_fbd .Children ,_eea );case _cg .CharData :_dfd :=_d .TrimSpace (string (_aceb ));if _dfd !=""{_fbd .Content =string (_aceb );};case _cg .EndElement :if _aceb .Name .Local ==_fbd .Name {return nil ;
};};};return nil ;};type pathParserError struct{_fed string };func _daaa (_dedd string )(*Path ,error ){_dbe =_bgdb ();_ada ,_cggg :=_bea (_ced (_dedd ));if _cggg !=nil {return nil ,_cggg ;};return _bdd (_ada ),nil ;};func (_eee *GraphicSVG )toContentStream (_eg *_ee .ContentCreator ){_aad ,_edf :=_edc (_eee .Attributes ,_eee ._bgd );
if _edf !=nil {_da .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0073\u0074\u0079\u006c\u0065\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_edf );};_eee .Style =_aad ;switch _eee .Name {case "\u0070\u0061\u0074\u0068":_cf (_eee ,_eg );
for _ ,_ccdg :=range _eee .Children {_ccdg .toContentStream (_eg );};case "\u0072\u0065\u0063\u0074":_dag (_eee ,_eg );for _ ,_eab :=range _eee .Children {_eab .toContentStream (_eg );};case "\u0063\u0069\u0072\u0063\u006c\u0065":_eec (_eee ,_eg );for _ ,_ebgg :=range _eee .Children {_ebgg .toContentStream (_eg );
};case "\u0065l\u006c\u0069\u0070\u0073\u0065":_ce (_eee ,_eg );for _ ,_ef :=range _eee .Children {_ef .toContentStream (_eg );};case "\u0070\u006f\u006c\u0079\u006c\u0069\u006e\u0065":_bad (_eee ,_eg );for _ ,_fcf :=range _eee .Children {_fcf .toContentStream (_eg );
};case "\u0070o\u006c\u0079\u0067\u006f\u006e":_ebd (_eee ,_eg );for _ ,_dcab :=range _eee .Children {_dcab .toContentStream (_eg );};case "\u006c\u0069\u006e\u0065":_geb (_eee ,_eg );for _ ,_abc :=range _eee .Children {_abc .toContentStream (_eg );};case "\u0067":_fee ,_edbb :=_eee .Attributes ["\u0066\u0069\u006c\u006c"];
_afae ,_fcd :=_eee .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];_dagc ,_fba :=_eee .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];for _ ,_be :=range _eee .Children {if _ ,_bag :=_be .Attributes ["\u0066\u0069\u006c\u006c"];
!_bag &&_edbb {_be .Attributes ["\u0066\u0069\u006c\u006c"]=_fee ;};if _ ,_cec :=_be .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];!_cec &&_fcd {_be .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"]=_afae ;};if _ ,_bed :=_be .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];
!_bed &&_fba {_be .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"]=_dagc ;};_be .toContentStream (_eg );};};};func _bgdb ()commands {var _gecg =map[string ]int {"\u006d":2,"\u007a":0,"\u006c":2,"\u0068":1,"\u0076":1,"\u0063":6,"\u0073":4,"\u0071":4,"\u0074":2,"\u0061":7};
var _eba []string ;for _cff :=range _gecg {_eba =append (_eba ,_cff );};return commands {_eba ,_gecg ,"\u006d","\u007a"};};const (_f =0.72;_ea =28.3464;_fc =_ea /10;_dcd =0.551784;);func (_bfg *Subpath )compare (_cge *Subpath )bool {if len (_bfg .Commands )!=len (_cge .Commands ){return false ;
};for _ddc ,_bcb :=range _bfg .Commands {if !_bcb .compare (_cge .Commands [_ddc ]){return false ;};};return true ;};func (_bcefg pathParserError )Error ()string {return _bcefg ._fed };func _ced (_cgge string )[]token {var (_efa []token ;_cda string ;);
for _ ,_fgde :=range _cgge {_gaa :=string (_fgde );switch {case _dbe .isCommand (_gaa ):_efa ,_cda =_afg (_efa ,_cda );_efa =append (_efa ,token {_gaa ,true });case _gaa =="\u002e":if _cda ==""{_cda ="\u0030";};if _d .Contains (_cda ,_gaa ){_efa =append (_efa ,token {_cda ,false });
_cda ="\u0030";};fallthrough;case _gaa >="\u0030"&&_gaa <="\u0039"||_gaa =="\u0065":_cda +=_gaa ;case _gaa =="\u002d":if _d .HasSuffix (_cda ,"\u0065"){_cda +=_gaa ;}else {_efa ,_ =_afg (_efa ,_cda );_cda =_gaa ;};default:_efa ,_cda =_afg (_efa ,_cda );
};};_efa ,_ =_afg (_efa ,_cda );return _efa ;};func _dbdb (_aff string )(_fgb ,_cde string ){if _aff ==""||(_aff [len (_aff )-1]>='0'&&_aff [len (_aff )-1]<='9'){return _aff ,"";};_fgb =_aff ;for _ ,_gcgc :=range _fcc {if _d .Contains (_fgb ,_gcgc ){_cde =_gcgc ;
};_fgb =_d .TrimSuffix (_fgb ,_gcgc );};return ;};func _abce (_gaea float64 ,_cdg int )float64 {_ccea :=_gg .Pow (10,float64 (_cdg ));return float64 (_bagb (_gaea *_ccea ))/_ccea ;};func (_eeba *Path )compare (_daae *Path )bool {if len (_eeba .Subpaths )!=len (_daae .Subpaths ){return false ;
};for _acb ,_eae :=range _eeba .Subpaths {if !_eae .compare (_daae .Subpaths [_acb ]){return false ;};};return true ;};func _ege (_dfc string )([]float64 ,error ){_fcae :=-1;var _efec []float64 ;_cfa :=' ';for _cbfe ,_bdda :=range _dfc {if !_c .IsNumber (_bdda )&&_bdda !='.'&&!(_bdda =='-'&&_cfa =='e')&&_bdda !='e'{if _fcae !=-1{_aefe ,_faf :=_ebff (_dfc [_fcae :_cbfe ]);
if _faf !=nil {return _efec ,_faf ;};_efec =append (_efec ,_aefe ...);};if _bdda =='-'{_fcae =_cbfe ;}else {_fcae =-1;};}else if _fcae ==-1{_fcae =_cbfe ;};_cfa =_bdda ;};if _fcae !=-1&&_fcae !=len (_dfc ){_cbbfb ,_fggg :=_ebff (_dfc [_fcae :]);if _fggg !=nil {return _efec ,_fggg ;
};_efec =append (_efec ,_cbbfb ...);};return _efec ,nil ;};type Command struct{Symbol string ;Params []float64 ;};func ParseFromFile (path string )(*GraphicSVG ,error ){_ddf ,_ffef :=_ca .Open (path );if _ffef !=nil {return nil ,_ffef ;};defer _ddf .Close ();
return ParseFromStream (_ddf );};func _eec (_eef *GraphicSVG ,_ebe *_ee .ContentCreator ){_ebe .Add_q ();_eef .Style .toContentStream (_ebe );_dgb ,_fbg :=_ecb (_eef .Attributes ["\u0063\u0078"],64);if _fbg !=nil {_da .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fbg .Error ());
};_cbb ,_fbg :=_ecb (_eef .Attributes ["\u0063\u0079"],64);if _fbg !=nil {_da .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fbg .Error ());
};_fgd ,_fbg :=_ecb (_eef .Attributes ["\u0072"],64);if _fbg !=nil {_da .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0072\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_fbg .Error ());
};_cbbc :=_fgd *_eef ._bgd ;_ccd :=_fgd *_eef ._bgd ;_cgf :=_cbbc *_dcd ;_ff :=_ccd *_dcd ;_dbb :=_cb .NewCubicBezierPath ();_dbb =_dbb .AppendCurve (_cb .NewCubicBezierCurve (-_cbbc ,0,-_cbbc ,_ff ,-_cgf ,_ccd ,0,_ccd ));_dbb =_dbb .AppendCurve (_cb .NewCubicBezierCurve (0,_ccd ,_cgf ,_ccd ,_cbbc ,_ff ,_cbbc ,0));
_dbb =_dbb .AppendCurve (_cb .NewCubicBezierCurve (_cbbc ,0,_cbbc ,-_ff ,_cgf ,-_ccd ,0,-_ccd ));_dbb =_dbb .AppendCurve (_cb .NewCubicBezierCurve (0,-_ccd ,-_cgf ,-_ccd ,-_cbbc ,-_ff ,-_cbbc ,0));_dbb =_dbb .Offset (_dgb *_eef ._bgd ,_cbb *_eef ._bgd );
if _eef .Style .StrokeWidth > 0{_dbb =_dbb .Offset (_eef .Style .StrokeWidth /2,_eef .Style .StrokeWidth /2);};_cb .DrawBezierPathWithCreator (_dbb ,_ebe );if _eef .Style .FillColor !=""&&_eef .Style .StrokeColor !=""{_ebe .Add_B ();}else if _eef .Style .FillColor !=""{_ebe .Add_f ();
}else if _eef .Style .StrokeColor !=""{_ebe .Add_S ();};_ebe .Add_h ();_ebe .Add_Q ();};var _dbe commands ;func _bagb (_fggc float64 )int {return int (_fggc +_gg .Copysign (0.5,_fggc ))};func _bad (_gee *GraphicSVG ,_bce *_ee .ContentCreator ){_bce .Add_q ();
_gee .Style .toContentStream (_bce );_cfce ,_gag :=_ege (_gee .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _gag !=nil {_da .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_gag );
return ;};if len (_cfce )%2> 0{_da .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _fa :=0;_fa < len (_cfce );{if _fa ==0{_bce .Add_m (_cfce [_fa ]*_gee ._bgd ,_cfce [_fa +1]*_gee ._bgd );}else {_bce .Add_l (_cfce [_fa ]*_gee ._bgd ,_cfce [_fa +1]*_gee ._bgd );};_fa +=2;};if _gee .Style .FillColor !=""&&_gee .Style .StrokeColor !=""{_bce .Add_B ();
}else if _gee .Style .FillColor !=""{_bce .Add_f ();}else if _gee .Style .StrokeColor !=""{_bce .Add_S ();};_bce .Add_h ();_bce .Add_Q ();};type GraphicSVG struct{ViewBox struct{X ,Y ,W ,H float64 ;};Name string ;Attributes map[string ]string ;Children []*GraphicSVG ;
Content string ;Style *GraphicSVGStyle ;Width float64 ;Height float64 ;_bgd float64 ;};func (_abe *GraphicSVG )ToContentCreator (cc *_ee .ContentCreator ,scaleX ,scaleY ,translateX ,translateY float64 )*_ee .ContentCreator {if _abe .Name =="\u0073\u0076\u0067"{_abe .SetScaling (scaleX ,scaleY );
cc .Add_cm (1,0,0,1,translateX ,translateY );_abe .setDefaultScaling (_abe ._bgd );cc .Add_q ();_fgdg :=_gg .Max (scaleX ,scaleY );cc .Add_re (_abe .ViewBox .X *_fgdg ,_abe .ViewBox .Y *_fgdg ,_abe .ViewBox .W *_fgdg ,_abe .ViewBox .H *_fgdg );cc .Add_W ();
cc .Add_n ();for _ ,_bff :=range _abe .Children {_bff .ViewBox =_abe .ViewBox ;_bff .toContentStream (cc );};cc .Add_Q ();return cc ;};return nil ;};func _ede (_dbec string )(_dfdd ,_ffb ,_gaec float64 ){if (len (_dbec )!=4&&len (_dbec )!=7)||_dbec [0]!='#'{_da .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_dbec );
return _dfdd ,_ffb ,_gaec ;};var _bdc ,_aab ,_gbd int ;if len (_dbec )==4{var _dba ,_dfbf ,_faaa int ;_fedf ,_caba :=_dc .Sscanf (_dbec ,"\u0023\u0025\u0031\u0078\u0025\u0031\u0078\u0025\u0031\u0078",&_dba ,&_dfbf ,&_faaa );if _caba !=nil {_da .Log .Debug ("\u0049\u006e\u0076a\u006c\u0069\u0064\u0020h\u0065\u0078\u0020\u0063\u006f\u0064\u0065:\u0020\u0025\u0073\u002c\u0020\u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_dbec ,_caba );
return _dfdd ,_ffb ,_gaec ;};if _fedf !=3{_da .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_dbec );return _dfdd ,_ffb ,_gaec ;};_bdc =_dba *16+_dba ;_aab =_dfbf *16+_dfbf ;_gbd =_faaa *16+_faaa ;
}else {_ecbe ,_faac :=_dc .Sscanf (_dbec ,"\u0023\u0025\u0032\u0078\u0025\u0032\u0078\u0025\u0032\u0078",&_bdc ,&_aab ,&_gbd );if _faac !=nil {_da .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_dbec );
return _dfdd ,_ffb ,_gaec ;};if _ecbe !=3{_da .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069d\u0020\u0068\u0065\u0078\u0020\u0063\u006f\u0064\u0065\u003a\u0020\u0025\u0073,\u0020\u006e\u0020\u0021\u003d\u0020\u0033 \u0028\u0025\u0064\u0029",_dbec ,_ecbe );
return _dfdd ,_ffb ,_gaec ;};};_bebd :=float64 (_bdc )/255.0;_bbe :=float64 (_aab )/255.0;_feb :=float64 (_gbd )/255.0;return _bebd ,_bbe ,_feb ;};type commands struct{_fdaa []string ;_ddfc map[string ]int ;_cgb string ;_bfc string ;};func _afg (_gde []token ,_eggd string )([]token ,string ){if _eggd !=""{_gde =append (_gde ,token {_eggd ,false });
_eggd ="";};return _gde ,_eggd ;};