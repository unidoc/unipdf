//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package unichart ;import (_e "bytes";_cf "fmt";_ea "github.com/unidoc/unichart/render";_ca "github.com/unidoc/unipdf/v4/common";_fb "github.com/unidoc/unipdf/v4/contentstream";_g "github.com/unidoc/unipdf/v4/contentstream/draw";_cfg "github.com/unidoc/unipdf/v4/core";
_fg "github.com/unidoc/unipdf/v4/model";_f "image/color";_b "io";_a "math";);func (_gd *Renderer )SetDPI (dpi float64 ){_gd ._gf =dpi };func _cdd (_abab _f .Color )(uint8 ,uint8 ,uint8 ,uint8 ){_aee ,_cedf ,_geb ,_bdg :=_abab .RGBA ();return uint8 (_aee >>8),uint8 (_cedf >>8),uint8 (_geb >>8),uint8 (_bdg >>8);
};func (_dadd *Renderer )wrapText (_dgg string )[]string {var (_gfda []string ;_cedc []rune ;);for _ ,_fbe :=range _dgg {if _fbe =='\n'{_gfda =append (_gfda ,string (_cedc ));_cedc =[]rune {};continue ;};_cedc =append (_cedc ,_fbe );};if len (_cedc )> 0{_gfda =append (_gfda ,string (_cedc ));
};return _gfda ;};func (_abc *Renderer )SetClassName (name string ){};func (_gb *Renderer )MeasureText (text string )_ea .Box {_add :=_gb ._ba ;_bef ,_fdd :=_gb ._d .GetFontDescriptor ();if _fdd !=nil {_ca .Log .Debug ("W\u0041\u0052\u004e\u003a\u0020\u0055n\u0061\u0062\u006c\u0065\u0020\u0074o\u0020\u0067\u0065\u0074\u0020\u0066\u006fn\u0074\u0020\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074o\u0072");
}else {_dgb ,_cfee :=_bef .GetCapHeight ();if _cfee !=nil {_ca .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0055\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0067\u0065\u0074\u0020f\u006f\u006e\u0074\u0020\u0063\u0061\u0070\u0020\u0068\u0065\u0069\u0067\u0068t\u003a\u0020\u0025\u0076",_cfee );
}else {_add =_dgb /1000.0*_gb ._ba ;};};var (_dad =0.0;_ead =_gb .wrapText (text ););for _ ,_dge :=range _ead {if _ccc :=_gb .getTextWidth (_dge );_ccc > _dad {_dad =_ccc ;};};_ecc :=_ea .NewBox (0,0,int (_dad ),int (_add ));if _agae :=_gb ._eg ;_agae !=0{_ecc =_ecc .Corners ().Rotate (_agae ).Box ();
};return _ecc ;};func (_cfe *Renderer )Fill (){_cfe ._fd .Add_f ()};func (_ef *Renderer )LineTo (x ,y int ){_ef ._fd .Add_l (float64 (x ),float64 (y ))};func (_ad *Renderer )SetStrokeWidth (width float64 ){_ad ._cff =width ;_ad ._fd .Add_w (width )};func (_bca *Renderer )getTextWidth (_cad string )float64 {var _bfbg float64 ;
for _ ,_dee :=range _cad {_edc ,_eaf :=_bca ._d .GetRuneMetrics (_dee );if !_eaf {_ca .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0075\u006e\u0073\u0075\u0070\u0070\u006fr\u0074e\u0064 \u0072u\u006e\u0065\u0020\u0025\u0076\u0020\u0069\u006e\u0020\u0066\u006f\u006e\u0074",_dee );
};_bfbg +=_edc .Wx ;};return _bca ._ba *_bfbg /1000.0;};func (_dc *Renderer )SetStrokeColor (color _f .Color ){_dc ._ee =color ;_bcg ,_bf ,_bfb ,_ :=_bdgc (color );_dc ._fd .Add_RG (_bcg ,_bf ,_bfb );};func (_bdf *Renderer )Stroke (){_bdf ._fd .Add_S ()};
func (_ga *Renderer )Save (w _b .Writer )error {if w ==nil {return nil ;};_ ,_dcc :=_b .Copy (w ,_e .NewBuffer (_ga ._fd .Bytes ()));return _dcc ;};func (_efb *Renderer )ArcTo (cx ,cy int ,rx ,ry ,startAngle ,deltaAngle float64 ){startAngle =_bcga (2.0*_a .Pi -startAngle );
deltaAngle =_bcga (-deltaAngle );_be ,_caf :=deltaAngle ,1;if _a .Abs (deltaAngle )> 90.0{_caf =int (_a .Ceil (_a .Abs (deltaAngle )/90.0));_be =deltaAngle /float64 (_caf );};var (_fda =_bae (_be /2);_eb =_a .Abs (4.0/3.0*(1.0-_a .Cos (_fda ))/_a .Sin (_fda ));
_dg =float64 (cx );_cd =float64 (cy ););for _fea :=0;_fea < _caf ;_fea ++{_de :=_bae (startAngle +float64 (_fea )*_be );_aba :=_bae (startAngle +float64 (_fea +1)*_be );_ecf :=_a .Cos (_de );_dgc :=_a .Cos (_aba );_bd :=_a .Sin (_de );_abd :=_a .Sin (_aba );
var _ge []float64 ;if _be > 0{_ge =[]float64 {_dg +rx *_ecf ,_cd -ry *_bd ,_dg +rx *(_ecf -_eb *_bd ),_cd -ry *(_bd +_eb *_ecf ),_dg +rx *(_dgc +_eb *_abd ),_cd -ry *(_abd -_eb *_dgc ),_dg +rx *_dgc ,_cd -ry *_abd };}else {_ge =[]float64 {_dg +rx *_ecf ,_cd -ry *_bd ,_dg +rx *(_ecf +_eb *_bd ),_cd -ry *(_bd -_eb *_ecf ),_dg +rx *(_dgc -_eb *_abd ),_cd -ry *(_abd +_eb *_dgc ),_dg +rx *_dgc ,_cd -ry *_abd };
};if _fea ==0{_efb ._fd .Add_l (_ge [0],_ge [1]);};_efb ._fd .Add_c (_ge [2],_ge [3],_ge [4],_ge [5],_ge [6],_ge [7]);};};func NewRenderer (cc *_fb .ContentCreator ,res *_fg .PdfPageResources )func (int ,int )(_ea .Renderer ,error ){return func (_fe ,_ae int )(_ea .Renderer ,error ){_bgg :=&Renderer {_ec :_fe ,_ce :_ae ,_gf :72,_fd :cc ,_bg :res ,_ff :map[*_fg .PdfFont ]_cfg .PdfObjectName {}};
_bgg .ResetStyle ();return _bgg ,nil ;};};func (_fbf *Renderer )SetFontSize (size float64 ){_fbf ._ba =size };type Renderer struct{_ec int ;_ce int ;_gf float64 ;_fd *_fb .ContentCreator ;_bg *_fg .PdfPageResources ;_cc _f .Color ;_ee _f .Color ;_cff float64 ;
_d *_fg .PdfFont ;_ba float64 ;_dd _f .Color ;_eg float64 ;_ff map[*_fg .PdfFont ]_cfg .PdfObjectName ;};func (_bb *Renderer )SetFillColor (color _f .Color ){_bb ._cc =color ;_df ,_cab ,_bfa ,_ :=_bdgc (color );_bb ._fd .Add_rg (_df ,_cab ,_bfa );};func (_bcb *Renderer )Close (){_bcb ._fd .Add_h ()};
func _ada (_adb string ,_bee int ,_cac func (_cfg .PdfObjectName )bool )_cfg .PdfObjectName {_abb :=_cfg .PdfObjectName (_cf .Sprintf ("\u0025\u0073\u0025\u0064",_adb ,_bee ));for _cb :=_bee ;_cac (_abb );{_cb ++;_abb =_cfg .PdfObjectName (_cf .Sprintf ("\u0025\u0073\u0025\u0064",_adb ,_cb ));
};return _abb ;};func (_fef *Renderer )SetFont (font _ea .Font ){_bad ,_aga :=font .(*_fg .PdfFont );if !_aga {_ca .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0069\u006e\u0076\u0061\u006c\u0069d\u0020\u0066\u006f\u006e\u0074\u0020\u0074\u0079\u0070\u0065");
return ;};_feae ,_aga :=_fef ._ff [_bad ];if !_aga {_feae =_ada ("\u0046\u006f\u006e\u0074",1,_fef ._bg .HasFontByName );if _dgd :=_fef ._bg .SetFontByName (_feae ,_bad .ToPdfObject ());_dgd !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0061\u0064d\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0076\u0020\u0074\u006f\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u0073",_bad );
};_fef ._ff [_bad ]=_feae ;};_fef ._fd .Add_Tf (_feae ,_fef ._ba );_fef ._d =_bad ;};func (_egg *Renderer )ClearTextRotation (){_egg ._eg =0};func (_gdf *Renderer )QuadCurveTo (cx ,cy ,x ,y int ){_gdf ._fd .Add_v (float64 (x ),float64 (y ),float64 (cx ),float64 (cy ));
};func (_fba *Renderer )SetStrokeDashArray (dashArray []float64 ){_ced :=make ([]int64 ,len (dashArray ));for _ac ,_aa :=range dashArray {_ced [_ac ]=int64 (_aa );};_fba ._fd .Add_d (_ced ,0);};func (_fgga *Renderer )FillStroke (){_fgga ._fd .Add_B ()};
func _bdgc (_efec _f .Color )(float64 ,float64 ,float64 ,float64 ){_adc ,_cea ,_cde ,_cg :=_cdd (_efec );return float64 (_adc )/255,float64 (_cea )/255,float64 (_cde )/255,float64 (_cg )/255;};func (_ed *Renderer )SetFontColor (color _f .Color ){_ed ._dd =color };
func (_bbg *Renderer )MoveTo (x ,y int ){_bbg ._fd .Add_m (float64 (x ),float64 (y ))};func _bcga (_ebd float64 )float64 {return _ebd *180/_a .Pi };func _bae (_fcg float64 )float64 {return _fcg *_a .Pi /180.0};func (_da *Renderer )Text (text string ,x ,y int ){_da ._fd .Add_q ();
_da .SetFont (_da ._d );_aag ,_fga ,_ebb ,_ :=_bdgc (_da ._dd );_da ._fd .Add_rg (_aag ,_fga ,_ebb );_da ._fd .Translate (float64 (x ),float64 (y )).Scale (1,-1);if _fbd :=_da ._eg ;_fbd !=0{_da ._fd .RotateDeg (_fbd );};_da ._fd .Add_BT ().Add_TL (_da ._ba );
var (_gfd =_da ._d .Encoder ();_fee =_da .wrapText (text );_beg =len (_fee ););for _bda ,_db :=range _fee {_da ._fd .Add_TJ (_cfg .MakeStringFromBytes (_gfd .Encode (_db )));if _bda !=_beg -1{_da ._fd .Add_Tstar ();};};_da ._fd .Add_ET ();_da ._fd .Add_Q ();
};func (_ag *Renderer )Circle (radius float64 ,x ,y int ){_bbd :=radius ;if _bec :=_ag ._cff ;_bec !=0{_bbd -=_bec /2;};_gg :=_bbd *0.551784;_geg :=_g .CubicBezierPath {Curves :[]_g .CubicBezierCurve {_g .NewCubicBezierCurve (-_bbd ,0,-_bbd ,_gg ,-_gg ,_bbd ,0,_bbd ),_g .NewCubicBezierCurve (0,_bbd ,_gg ,_bbd ,_bbd ,_gg ,_bbd ,0),_g .NewCubicBezierCurve (_bbd ,0,_bbd ,-_gg ,_gg ,-_bbd ,0,-_bbd ),_g .NewCubicBezierCurve (0,-_bbd ,-_gg ,-_bbd ,-_bbd ,-_gg ,-_bbd ,0)}};
if _ggf :=_ag ._cff ;_ggf !=0{_geg =_geg .Offset (_ggf /2,_ggf /2);};_geg =_geg .Offset (float64 (x ),float64 (y ));_g .DrawBezierPathWithCreator (_geg ,_ag ._fd );};func (_bc *Renderer )GetDPI ()float64 {return _bc ._gf };func (_ab *Renderer )ResetStyle (){_ab .SetFillColor (_f .Black );
_ab .SetStrokeColor (_f .Transparent );_ab .SetStrokeWidth (0);_ab .SetFont (_fg .DefaultFont ());_ab .SetFontColor (_f .Black );_ab .SetFontSize (12);_ab .SetTextRotation (0);};func (_cce *Renderer )SetTextRotation (radians float64 ){_cce ._eg =_bcga (-radians )};
