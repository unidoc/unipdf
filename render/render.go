//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package render ;import (_f "errors";_bfa "fmt";_be "github.com/adrg/sysfont";_ga "github.com/unidoc/unipdf/v4/annotator";_g "github.com/unidoc/unipdf/v4/common";_fe "github.com/unidoc/unipdf/v4/contentstream";_da "github.com/unidoc/unipdf/v4/contentstream/draw";
_ad "github.com/unidoc/unipdf/v4/core";_db "github.com/unidoc/unipdf/v4/internal/license";_ea "github.com/unidoc/unipdf/v4/internal/transform";_gc "github.com/unidoc/unipdf/v4/model";_gb "github.com/unidoc/unipdf/v4/render/internal/context";_gf "github.com/unidoc/unipdf/v4/render/internal/context/imagerender";
_daf "golang.org/x/image/draw";_bf "image";_fa "image/color";_dc "image/draw";_c "image/jpeg";_b "image/png";_ee "math";_a "os";_d "path/filepath";_ff "strings";);func _cdd (_fac _ad .PdfObject )(_bf .Image ,error ){_dedf ,_dfac :=_ad .GetStream (_fac );
if !_dfac {return nil ,nil ;};_cgbd ,_beg :=_gc .NewXObjectImageFromStream (_dedf );if _beg !=nil {return nil ,_beg ;};_gadd ,_beg :=_cgbd .ToImage ();if _beg !=nil {return nil ,_beg ;};if _gadd .Width ==0||_gadd .Height ==0{_g .Log .Debug ("\u0073o\u0066t\u0020\u006d\u0061\u0073\u006b\u0020\u0069\u006d\u0061\u0067\u0065 \u0068\u0061\u0073\u0020i\u006e\u0076\u0061\u006c\u0069d\u0020\u0064\u0069\u006d\u0065\u006e\u0073\u0069\u006f\u006e\u0073\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061y\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006fr\u0072\u0065\u0063\u0074\u002e",_gadd .Width ,_gadd .Height );
return nil ,nil ;};return _def (_gadd ),nil ;};func _gbga (_daeb _gb .Gradient ,_bbcb *_gc .PdfFunctionType3 ,_ecb _gc .PdfColorspace ,_bacf []float64 )(_gb .Gradient ,error ){var _dacg error ;for _adad :=0;_adad < len (_bbcb .Functions );_adad ++{if _dcdd ,_faa :=_bbcb .Functions [_adad ].(*_gc .PdfFunctionType2 );
_faa {_daeb ,_dacg =_egac (_daeb ,_dcdd ,_ecb ,_bacf [_adad +1],_adad ==0);if _dacg !=nil {return nil ,_dacg ;};};};return _daeb ,nil ;};func (_ded renderer )renderContentStream (_fb _gb .Context ,_dab string ,_fd *_gc .PdfPageResources )error {_bae ,_gec :=_fe .NewContentStreamParser (_dab ).Parse ();
if _gec !=nil {return _gec ;};_ca :=_fb .TextState ();_ca .GlobalScale =_ded ._gac ;_ec :=map[string ]*_gb .TextFont {};_fbb :=_be .NewFinder (&_be .FinderOpts {Extensions :[]string {"\u002e\u0074\u0074\u0066","\u002e\u0074\u0074\u0063"}});var _cb *_fe .ContentStreamOperation ;
var _eff bool ;var _gca _gb .FillRule ;_aba :=_fe .NewContentStreamProcessor (*_bae );_aba .AddHandler (_fe .HandlerConditionEnumAllOperands ,"",func (_cbg *_fe .ContentStreamOperation ,_af _fe .GraphicsState ,_cba *_gc .PdfPageResources )error {_g .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0025\u0073",_cbg .Operand );
switch _cbg .Operand {case "\u0071":_fb .Push ();case "\u0051":_fb .Pop ();_ca =_fb .TextState ();case "\u0063\u006d":if len (_cbg .Params )!=6{return _bcc ;};_agd ,_dgc :=_ad .GetNumbersAsFloat (_cbg .Params );if _dgc !=nil {return _dgc ;};_bg :=_ea .NewMatrix (_agd [0],_agd [1],_agd [2],_agd [3],_agd [4],_agd [5]);
_g .Log .Debug ("\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074a\u0074\u0065\u0020\u006d\u0061\u0074\u0072\u0069\u0078\u003a \u0025\u002b\u0076",_bg );_fb .SetMatrix (_fb .Matrix ().Mult (_bg ));case "\u0077":if len (_cbg .Params )!=1{return _bcc ;
};_eea ,_ggb :=_ad .GetNumbersAsFloat (_cbg .Params );if _ggb !=nil {return _ggb ;};_fb .SetLineWidth (_eea [0]);case "\u004a":if len (_cbg .Params )!=1{return _bcc ;};_fg ,_gge :=_ad .GetIntVal (_cbg .Params [0]);if !_gge {return _daa ;};switch _fg {case 0:_fb .SetLineCap (_gb .LineCapButt );
case 1:_fb .SetLineCap (_gb .LineCapRound );case 2:_fb .SetLineCap (_gb .LineCapSquare );default:_g .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u006ee\u0020\u0063\u0061\u0070\u0020\u0073\u0074\u0079\u006c\u0065:\u0020\u0025\u0064",_fg );
return _bcc ;};case "\u006a":if len (_cbg .Params )!=1{return _bcc ;};_abb ,_egg :=_ad .GetIntVal (_cbg .Params [0]);if !_egg {return _daa ;};switch _abb {case 0:_fb .SetLineJoin (_gb .LineJoinBevel );case 1:_fb .SetLineJoin (_gb .LineJoinRound );case 2:_fb .SetLineJoin (_gb .LineJoinBevel );
default:_g .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u006e\u0065\u0020\u006a\u006f\u0069\u006e \u0073\u0074\u0079l\u0065:\u0020\u0025\u0064",_abb );return _bcc ;};case "\u004d":if len (_cbg .Params )!=1{return _bcc ;};_bfd ,_cd :=_ad .GetNumbersAsFloat (_cbg .Params );
if _cd !=nil {return _cd ;};_ =_bfd ;_g .Log .Debug ("\u004di\u0074\u0065\u0072\u0020l\u0069\u006d\u0069\u0074\u0020n\u006ft\u0020s\u0075\u0070\u0070\u006f\u0072\u0074\u0065d");case "\u0064":if len (_cbg .Params )!=2{return _bcc ;};_fdc ,_eee :=_ad .GetArray (_cbg .Params [0]);
if !_eee {return _daa ;};_bdc ,_eee :=_ad .GetIntVal (_cbg .Params [1]);if !_eee {_ ,_gbe :=_ad .GetFloatVal (_cbg .Params [1]);if !_gbe {return _daa ;};};_ac ,_cdc :=_ad .GetNumbersAsFloat (_fdc .Elements ());if _cdc !=nil {return _cdc ;};_fb .SetDash (_ac ...);
_ =_bdc ;_g .Log .Debug ("\u004c\u0069n\u0065\u0020\u0064\u0061\u0073\u0068\u0020\u0070\u0068\u0061\u0073\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006frt\u0065\u0064");case "\u0072\u0069":_g .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020i\u006e\u0074\u0065\u006e\u0074\u0020\u006eo\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");
case "\u0069":_g .Log .Debug ("\u0046\u006c\u0061\u0074\u006e\u0065\u0073\u0073\u0020\u0074\u006f\u006c\u0065\u0072\u0061n\u0063e\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0067\u0073":if len (_cbg .Params )!=1{return _bcc ;
};_dba ,_cbd :=_ad .GetName (_cbg .Params [0]);if !_cbd {return _daa ;};if _dba ==nil {return _bcc ;};_baf ,_cbd :=_cba .GetExtGState (*_dba );if !_cbd {_g .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006eo\u0074 \u0066i\u006ed\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u003a\u0020\u0025\u0073",*_dba );
return _f .New ("\u0072e\u0073o\u0075\u0072\u0063\u0065\u0020n\u006f\u0074 \u0066\u006f\u0075\u006e\u0064");};_geba ,_cbd :=_ad .GetDict (_baf );if !_cbd {_g .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020c\u006f\u0075\u006c\u0064 ge\u0074 g\u0072\u0061\u0070\u0068\u0069\u0063\u0073 s\u0074\u0061\u0074\u0065\u0020\u0064\u0069c\u0074");
return _daa ;};_g .Log .Debug ("G\u0053\u0020\u0064\u0069\u0063\u0074\u003a\u0020\u0025\u0073",_geba .String ());_dgf :=_geba .Get ("\u0063\u0061");if _dgf !=nil {_ege ,_afa :=_ad .GetNumberAsFloat (_dgf );if _afa ==nil {_ged ,_bag :=_af .ColorspaceNonStroking .ColorToRGB (_af .ColorNonStroking );
if _bag !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bag );return _bag ;};_eed ,_fdg :=_ged .(*_gc .PdfColorDeviceRGB );if !_fdg {_g .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");
return _bag ;};_fb .SetFillRGBA (_eed .R (),_eed .G (),_eed .B (),_ege );};};case "\u006d":if len (_cbg .Params )!=2{_g .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_bcc );
return nil ;};_aee ,_fca :=_ad .GetNumbersAsFloat (_cbg .Params );if _fca !=nil {return _fca ;};_g .Log .Debug ("M\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u0076",_aee );_fb .NewSubPath ();_fb .MoveTo (_aee [0],_aee [1]);case "\u006c":if len (_cbg .Params )!=2{_g .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_bcc );
return nil ;};_gfb ,_eeag :=_ad .GetNumbersAsFloat (_cbg .Params );if _eeag !=nil {return _eeag ;};_fb .LineTo (_gfb [0],_gfb [1]);case "\u0063":if len (_cbg .Params )!=6{return _bcc ;};_gd ,_afe :=_ad .GetNumbersAsFloat (_cbg .Params );if _afe !=nil {return _afe ;
};_g .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_gd );_fb .CubicTo (_gd [0],_gd [1],_gd [2],_gd [3],_gd [4],_gd [5]);case "\u0076","\u0079":if len (_cbg .Params )!=4{return _bcc ;
};_ddc ,_ccd :=_ad .GetNumbersAsFloat (_cbg .Params );if _ccd !=nil {return _ccd ;};_g .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_ddc );_fb .QuadraticTo (_ddc [0],_ddc [1],_ddc [2],_ddc [3]);
case "\u0068":_fb .ClosePath ();_fb .NewSubPath ();case "\u0072\u0065":if len (_cbg .Params )!=4{return _bcc ;};_dfd ,_gacf :=_ad .GetNumbersAsFloat (_cbg .Params );if _gacf !=nil {return _gacf ;};_fb .DrawRectangle (_dfd [0],_dfd [1],_dfd [2],_dfd [3]);
_fb .NewSubPath ();case "\u0053":_fdcb ,_bcf :=_af .ColorspaceStroking .ColorToRGB (_af .ColorStroking );if _bcf !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bcf );
return _bcf ;};_cg ,_efc :=_fdcb .(*_gc .PdfColorDeviceRGB );if !_efc {_g .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _bcf ;};_fb .SetRGBA (_cg .R (),_cg .G (),_cg .B (),1);
_fb .Stroke ();case "\u0073":_ccge ,_gcg :=_af .ColorspaceStroking .ColorToRGB (_af .ColorStroking );if _gcg !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcg );
return _gcg ;};_bbd ,_fdca :=_ccge .(*_gc .PdfColorDeviceRGB );if !_fdca {_g .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _gcg ;};_fb .ClosePath ();_fb .NewSubPath ();
_fb .SetRGBA (_bbd .R (),_bbd .G (),_bbd .B (),1);_fb .Stroke ();case "\u0066","\u0046":_cge ,_ada :=_af .ColorspaceNonStroking .ColorToRGB (_af .ColorNonStroking );if _ada !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ada );
return _ada ;};switch _abc :=_cge .(type ){case *_gc .PdfColorDeviceRGB :_fb .SetRGBA (_abc .R (),_abc .G (),_abc .B (),1);_fb .SetFillRule (_gb .FillRuleWinding );_fb .Fill ();case *_gc .PdfColorPattern :_fb .Fill ();};_g .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");
case "\u0066\u002a":_abg ,_fdge :=_af .ColorspaceNonStroking .ColorToRGB (_af .ColorNonStroking );if _fdge !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fdge );
return _fdge ;};_fad ,_ecg :=_abg .(*_gc .PdfColorDeviceRGB );if !_ecg {_g .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _fdge ;};_fb .SetRGBA (_fad .R (),_fad .G (),_fad .B (),1);
_fb .SetFillRule (_gb .FillRuleEvenOdd );_fb .Fill ();case "\u0042":_dgcf ,_ccgb :=_af .ColorspaceNonStroking .ColorToRGB (_af .ColorNonStroking );if _ccgb !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ccgb );
return _ccgb ;};switch _effa :=_dgcf .(type ){case *_gc .PdfColorDeviceRGB :_fb .SetRGBA (_effa .R (),_effa .G (),_effa .B (),1);_fb .SetFillRule (_gb .FillRuleWinding );_fb .FillPreserve ();_dgcf ,_ccgb =_af .ColorspaceStroking .ColorToRGB (_af .ColorStroking );
if _ccgb !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ccgb );return _ccgb ;};if _caf ,_egf :=_dgcf .(*_gc .PdfColorDeviceRGB );
_egf {_fb .SetRGBA (_caf .R (),_caf .G (),_caf .B (),1);_fb .Stroke ();};case *_gc .PdfColorPattern :_fb .SetFillRule (_gb .FillRuleWinding );_fb .Fill ();_fb .StrokePattern ();};case "\u0042\u002a":_gbb ,_aef :=_af .ColorspaceNonStroking .ColorToRGB (_af .ColorNonStroking );
if _aef !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aef );return _aef ;};switch _ce :=_gbb .(type ){case *_gc .PdfColorDeviceRGB :_fb .SetRGBA (_ce .R (),_ce .G (),_ce .B (),1);
_fb .SetFillRule (_gb .FillRuleEvenOdd );_fb .FillPreserve ();_gbb ,_aef =_af .ColorspaceStroking .ColorToRGB (_af .ColorStroking );if _aef !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aef );
return _aef ;};if _faf ,_gdb :=_gbb .(*_gc .PdfColorDeviceRGB );_gdb {_fb .SetRGBA (_faf .R (),_faf .G (),_faf .B (),1);_fb .Stroke ();};case *_gc .PdfColorPattern :_fb .SetFillRule (_gb .FillRuleEvenOdd );_fb .Fill ();_fb .StrokePattern ();};case "\u0062":_fb .ClosePath ();
_bbf ,_cfgc :=_af .ColorspaceNonStroking .ColorToRGB (_af .ColorNonStroking );if _cfgc !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cfgc );
return _cfgc ;};switch _dfa :=_bbf .(type ){case *_gc .PdfColorDeviceRGB :_fb .SetRGBA (_dfa .R (),_dfa .G (),_dfa .B (),1);_fb .NewSubPath ();_fb .SetFillRule (_gb .FillRuleWinding );_fb .FillPreserve ();_bbf ,_cfgc =_af .ColorspaceStroking .ColorToRGB (_af .ColorStroking );
if _cfgc !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cfgc );return _cfgc ;};if _bfb ,_fcg :=_bbf .(*_gc .PdfColorDeviceRGB );
_fcg {_fb .SetRGBA (_bfb .R (),_bfb .G (),_bfb .B (),1);_fb .Stroke ();};case *_gc .PdfColorPattern :_fb .NewSubPath ();_fb .SetFillRule (_gb .FillRuleWinding );_fb .Fill ();_fb .StrokePattern ();};case "\u0062\u002a":_fb .ClosePath ();_fcc ,_cdg :=_af .ColorspaceNonStroking .ColorToRGB (_af .ColorNonStroking );
if _cdg !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cdg );return _cdg ;};switch _afg :=_fcc .(type ){case *_gc .PdfColorDeviceRGB :_fb .SetRGBA (_afg .R (),_afg .G (),_afg .B (),1);
_fb .NewSubPath ();_fb .SetFillRule (_gb .FillRuleEvenOdd );_fb .FillPreserve ();_fcc ,_cdg =_af .ColorspaceStroking .ColorToRGB (_af .ColorStroking );if _cdg !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cdg );
return _cdg ;};if _dec ,_feg :=_fcc .(*_gc .PdfColorDeviceRGB );_feg {_fb .SetRGBA (_dec .R (),_dec .G (),_dec .B (),1);_fb .Stroke ();};case *_gc .PdfColorPattern :_fb .NewSubPath ();_fb .SetFillRule (_gb .FillRuleEvenOdd );_fb .Fill ();_fb .StrokePattern ();
};case "\u006e":if _eff {_fb .SetFillRule (_gca );_fb .ClipPreserve ();_eff =false ;};_fb .ClearPath ();case "\u0057":_eff =true ;_gca =_gb .FillRuleWinding ;case "\u0057\u002a":_eff =true ;_gca =_gb .FillRuleEvenOdd ;case "\u0072\u0067":_adf ,_dagf :=_af .ColorNonStroking .(*_gc .PdfColorDeviceRGB );
if !_dagf {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorNonStroking );return nil ;};_fb .SetFillRGBA (_adf .R (),_adf .G (),_adf .B (),1);
case "\u0052\u0047":_fge ,_cde :=_af .ColorStroking .(*_gc .PdfColorDeviceRGB );if !_cde {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorStroking );
return nil ;};_fb .SetStrokeRGBA (_fge .R (),_fge .G (),_fge .B (),1);case "\u006b":_aefb ,_gbd :=_af .ColorNonStroking .(*_gc .PdfColorDeviceCMYK );if !_gbd {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorNonStroking );
return nil ;};_gfd ,_fbe :=_af .ColorspaceNonStroking .ColorToRGB (_aefb );if _fbe !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorNonStroking );
return nil ;};_gedc ,_gbd :=_gfd .(*_gc .PdfColorDeviceRGB );if !_gbd {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gfd );return nil ;
};_fb .SetFillRGBA (_gedc .R (),_gedc .G (),_gedc .B (),1);case "\u004b":_adfg ,_fec :=_af .ColorStroking .(*_gc .PdfColorDeviceCMYK );if !_fec {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorStroking );
return nil ;};_cgg ,_gce :=_af .ColorspaceStroking .ColorToRGB (_adfg );if _gce !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorStroking );
return nil ;};_fbg ,_fec :=_cgg .(*_gc .PdfColorDeviceRGB );if !_fec {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cgg );return nil ;
};_fb .SetStrokeRGBA (_fbg .R (),_fbg .G (),_fbg .B (),1);case "\u0067":_deb ,_gcec :=_af .ColorNonStroking .(*_gc .PdfColorDeviceGray );if !_gcec {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorNonStroking );
return nil ;};_bdfb ,_bfg :=_af .ColorspaceNonStroking .ColorToRGB (_deb );if _bfg !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorNonStroking );
return nil ;};_gad ,_gcec :=_bdfb .(*_gc .PdfColorDeviceRGB );if !_gcec {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bdfb );return nil ;
};_fb .SetFillRGBA (_gad .R (),_gad .G (),_gad .B (),1);case "\u0047":_adc ,_dagg :=_af .ColorStroking .(*_gc .PdfColorDeviceGray );if !_dagg {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorStroking );
return nil ;};_dca ,_dddd :=_af .ColorspaceStroking .ColorToRGB (_adc );if _dddd !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorStroking );
return nil ;};_fgef ,_dagg :=_dca .(*_gc .PdfColorDeviceRGB );if !_dagg {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca );return nil ;
};_fb .SetStrokeRGBA (_fgef .R (),_fgef .G (),_fgef .B (),1);case "\u0063\u0073":if len (_cbg .Params )> 0{if _gab ,_eeda :=_ad .GetName (_cbg .Params [0]);_eeda &&_gab .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{break ;};};_ebe ,_eedd :=_af .ColorspaceNonStroking .ColorToRGB (_af .ColorNonStroking );
if _eedd !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorNonStroking );return nil ;};_fcf ,_gfg :=_ebe .(*_gc .PdfColorDeviceRGB );
if !_gfg {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ebe );return nil ;};_fb .SetFillRGBA (_fcf .R (),_fcf .G (),_fcf .B (),1);case "\u0073\u0063":_bbfb ,_fgg :=_af .ColorspaceNonStroking .ColorToRGB (_af .ColorNonStroking );
if _fgg !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorNonStroking );return nil ;};_cda ,_fgb :=_bbfb .(*_gc .PdfColorDeviceRGB );
if !_fgb {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bbfb );return nil ;};_fb .SetFillRGBA (_cda .R (),_cda .G (),_cda .B (),1);case "\u0073\u0063\u006e":if len (_cbg .Params )> 0&&len (_cb .Params )> 0{if _acd ,_gba :=_ad .GetName (_cb .Params [0]);
_gba &&_acd .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{if _cad ,_ed :=_ad .GetName (_cbg .Params [0]);_ed {_fggc ,_dbd :=_ded .processGradient (_fb ,_cbg ,_cba ,_cad );if _dbd !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072o\u0063\u0065\u0073\u0073\u0069\u006eg\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074\u0020\u0064\u0061\u0074a\u003a\u0020\u0025\u0076",_dbd );
break ;};if _fggc ==nil {_g .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_fb .SetFillStyle (_fggc );_fb .SetStrokeStyle (_fggc );break ;};};};_dea ,_aff :=_af .ColorspaceNonStroking .ColorToRGB (_af .ColorNonStroking );
if _aff !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorNonStroking );return nil ;};_acc ,_fda :=_dea .(*_gc .PdfColorDeviceRGB );
if !_fda {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dea );return nil ;};_fb .SetFillRGBA (_acc .R (),_acc .G (),_acc .B (),1);case "\u0043\u0053":if len (_cbg .Params )> 0{if _ccf ,_dfg :=_ad .GetName (_cbg .Params [0]);
_dfg &&_ccf .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{break ;};};_aa ,_fdgb :=_af .ColorspaceStroking .ColorToRGB (_af .ColorStroking );if _fdgb !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorStroking );
return nil ;};_aeg ,_eeea :=_aa .(*_gc .PdfColorDeviceRGB );if !_eeea {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aa );return nil ;
};_fb .SetStrokeRGBA (_aeg .R (),_aeg .G (),_aeg .B (),1);case "\u0053\u0043":_caa ,_dcf :=_af .ColorspaceStroking .ColorToRGB (_af .ColorStroking );if _dcf !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorStroking );
return nil ;};_fbba ,_bcgf :=_caa .(*_gc .PdfColorDeviceRGB );if !_bcgf {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_caa );return nil ;
};_fb .SetStrokeRGBA (_fbba .R (),_fbba .G (),_fbba .B (),1);case "\u0053\u0043\u004e":if len (_cbg .Params )> 0&&len (_cb .Params )> 0{if _bbfbb ,_age :=_ad .GetName (_cb .Params [0]);_age &&_bbfbb .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{if _ede ,_bfe :=_ad .GetName (_cbg .Params [0]);
_bfe {_bed ,_fdd :=_ded .processGradient (_fb ,_cbg ,_cba ,_ede );if _fdd !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072o\u0063\u0065\u0073\u0073\u0069\u006eg\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074\u0020\u0064\u0061\u0074a\u003a\u0020\u0025\u0076",_fdd );
break ;};if _bed ==nil {_g .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_fb .SetFillStyle (_bed );_fb .SetStrokeStyle (_bed );break ;};};};_eca ,_bbfd :=_af .ColorspaceStroking .ColorToRGB (_af .ColorStroking );
if _bbfd !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_af .ColorStroking );return nil ;};_ecge ,_fed :=_eca .(*_gc .PdfColorDeviceRGB );
if !_fed {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eca );return nil ;};_fb .SetStrokeRGBA (_ecge .R (),_ecge .G (),_ecge .B (),1);
case "\u0073\u0068":if len (_cbg .Params )!=1{_g .Log .Debug ("\u0049n\u0076\u0061\u006c\u0069\u0064\u0020\u0073\u0068\u0020\u0070\u0061r\u0061\u006d\u0073\u0020\u0066\u006f\u0072\u006d\u0061\u0074");break ;};_eeb ,_cfe :=_ad .GetName (_cbg .Params [0]);
if !_cfe {_g .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020g\u0065\u0074\u0074\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006eg\u0020n\u0061\u006d\u0065");break ;};_acg ,_cfe :=_cba .GetShadingByName (*_eeb );if !_cfe {_g .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020g\u0065\u0074\u0074\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006eg\u0020d\u0061\u0074\u0061");
break ;};_cca ,_ggf ,_baff :=_ded .processShading (_fb ,_acg );if _baff !=nil {_g .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006e\u0067\u0020d\u0061\u0074a\u003a\u0020\u0025\u0076",_baff );
break ;};if _cca ==nil {_g .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_ggfe ,_baff :=_ggf .ToFloat64Array ();if _baff !=nil {_g .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073: \u0025\u0076",_baff );
break ;};_fb .DrawRectangle (_ggfe [0],_ggfe [1],_ggfe [2],_ggfe [3]);_fb .NewSubPath ();_fb .SetFillStyle (_cca );_fb .SetStrokeStyle (_cca );_fb .Fill ();case "\u0044\u006f":if len (_cbg .Params )!=1{return _bcc ;};_afed ,_fag :=_ad .GetName (_cbg .Params [0]);
if !_fag {return _daa ;};_ ,_dfc :=_cba .GetXObjectByName (*_afed );switch _dfc {case _gc .XObjectTypeImage :_g .Log .Debug ("\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u0069\u006d\u0061\u0067e\u003a\u0020\u0025\u0073",_afed .String ());_ffce ,_dgff :=_cba .GetXObjectImageByName (*_afed );
if _dgff !=nil {return _dgff ;};_bfdc ,_dgff :=_ffce .ToImage ();if _dgff !=nil {_g .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_dgff );
return nil ;};if _effc :=_ffce .ColorSpace ;_effc !=nil {var _egeb bool ;switch _effc .(type ){case *_gc .PdfColorspaceSpecialIndexed :_egeb =true ;};if _egeb {if _bdfg ,_edc :=_effc .ImageToRGB (*_bfdc );_edc !=nil {_g .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0063\u006fnv\u0065r\u0074\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0074\u006f\u0020\u0052G\u0042\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020i\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
}else {_bfdc =&_bdfg ;};};};_bbc :=_fb .FillPattern ().ColorAt (0,0);var _cac _bf .Image ;if _ffce .Mask !=nil {if _cac ,_dgff =_ebec (_ffce .Mask ,_bbc );_dgff !=nil {_g .Log .Debug ("\u0057\u0041\u0052\u004e\u003a \u0063\u006f\u0075\u006c\u0064 \u006eo\u0074\u0020\u0067\u0065\u0074\u0020\u0065\u0078\u0070\u006c\u0069\u0063\u0069\u0074\u0020\u0069\u006d\u0061\u0067e\u0020\u006d\u0061\u0073\u006b\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e");
_cac =nil ;};}else if _ffce .SMask !=nil {if _cac ,_dgff =_cdd (_ffce .SMask );_dgff !=nil {_g .Log .Debug ("W\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0067\u0065\u0074\u0020\u0073\u006f\u0066\u0074\u0020\u0069\u006da\u0067e\u0020\u006d\u0061\u0073k\u002e\u0020O\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
_cac =nil ;};};var _gcga _bf .Image ;if _deae ,_ :=_ad .GetBoolVal (_ffce .ImageMask );_deae {_gcga =_bccd (_bfdc ,_bbc );}else {_gcga ,_dgff =_bfdc .ToGoImage ();if _dgff !=nil {_g .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_dgff );
return nil ;};};if _cac !=nil {_gcga =_cdeb (_gcga ,_cac );};_cfa :=_gcga .Bounds ();_fb .Push ();_fb .Scale (1.0/float64 (_cfa .Dx ()),-1.0/float64 (_cfa .Dy ()));_fb .DrawImageAnchored (_gcga ,0,0,0,1);_fb .Pop ();case _gc .XObjectTypeForm :_g .Log .Debug ("\u0058\u004fb\u006a\u0065\u0063t\u0020\u0066\u006f\u0072\u006d\u003a\u0020\u0025\u0073",_afed .String ());
_bcecg ,_adg :=_cba .GetXObjectFormByName (*_afed );if _adg !=nil {return _adg ;};_ccb ,_adg :=_bcecg .GetContentStream ();if _adg !=nil {return _adg ;};_dbb :=_bcecg .Resources ;if _dbb ==nil {_dbb =_cba ;};_fb .Push ();if _bcecg .Matrix !=nil {_abgb ,_aed :=_ad .GetArray (_bcecg .Matrix );
if !_aed {return _daa ;};_abd ,_ggdc :=_ad .GetNumbersAsFloat (_abgb .Elements ());if _ggdc !=nil {return _ggdc ;};if len (_abd )!=6{return _bcc ;};_egc :=_ea .NewMatrix (_abd [0],_abd [1],_abd [2],_abd [3],_abd [4],_abd [5]);_fb .SetMatrix (_fb .Matrix ().Mult (_egc ));
};if _bcecg .BBox !=nil {_eaa ,_ece :=_ad .GetArray (_bcecg .BBox );if !_ece {return _daa ;};_dede ,_egcd :=_ad .GetNumbersAsFloat (_eaa .Elements ());if _egcd !=nil {return _egcd ;};if len (_dede )!=4{_g .Log .Debug ("\u004c\u0065\u006e\u0020\u003d\u0020\u0025\u0064",len (_dede ));
return _bcc ;};_fb .DrawRectangle (_dede [0],_dede [1],_dede [2]-_dede [0],_dede [3]-_dede [1]);_fb .SetRGBA (1,0,0,1);_fb .Clip ();}else {_g .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0052\u0065q\u0075\u0069\u0072e\u0064\u0020\u0042\u0042\u006f\u0078\u0020\u006d\u0069ss\u0069\u006e\u0067 \u006f\u006e \u0058\u004f\u0062\u006a\u0065\u0063t\u0020\u0046o\u0072\u006d");
};_adg =_ded .renderContentStream (_fb ,string (_ccb ),_dbb );if _adg !=nil {return _adg ;};_fb .Pop ();};case "\u0042\u0049":if len (_cbg .Params )!=1{return _bcc ;};_bbdc ,_dae :=_cbg .Params [0].(*_fe .ContentStreamInlineImage );if !_dae {return nil ;
};_afd ,_fde :=_bbdc .ToImage (_cba );if _fde !=nil {_g .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_fde );
return nil ;};_gbbc ,_fde :=_afd .ToGoImage ();if _fde !=nil {_g .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_fde );
return nil ;};_ega :=_gbbc .Bounds ();_fb .Push ();_fb .Scale (1.0/float64 (_ega .Dx ()),-1.0/float64 (_ega .Dy ()));_fb .DrawImageAnchored (_gbbc ,0,0,0,1);_fb .Pop ();case "\u0042\u0054":_ca .Reset ();case "\u0045\u0054":_ca .Reset ();case "\u0054\u0072":if len (_cbg .Params )!=1{return _bcc ;
};_ggbb ,_fedc :=_ad .GetNumberAsFloat (_cbg .Params [0]);if _fedc !=nil {return _fedc ;};_ca .Tr =_gb .TextRenderingMode (_ggbb );case "\u0054\u004c":if len (_cbg .Params )!=1{return _bcc ;};_dac ,_edgg :=_ad .GetNumberAsFloat (_cbg .Params [0]);if _edgg !=nil {return _edgg ;
};_ca .Tl =_dac ;case "\u0054\u0063":if len (_cbg .Params )!=1{return _bcc ;};_ggc ,_dcg :=_ad .GetNumberAsFloat (_cbg .Params [0]);if _dcg !=nil {return _dcg ;};_g .Log .Debug ("\u0054\u0063\u003a\u0020\u0025\u0076",_ggc );_ca .Tc =_ggc ;case "\u0054\u0077":if len (_cbg .Params )!=1{return _bcc ;
};_ccbf ,_aab :=_ad .GetNumberAsFloat (_cbg .Params [0]);if _aab !=nil {return _aab ;};_g .Log .Debug ("\u0054\u0077\u003a\u0020\u0025\u0076",_ccbf );_ca .Tw =_ccbf ;case "\u0054\u007a":if len (_cbg .Params )!=1{return _bcc ;};_geg ,_gfa :=_ad .GetNumberAsFloat (_cbg .Params [0]);
if _gfa !=nil {return _gfa ;};_ca .Th =_geg ;case "\u0054\u0073":if len (_cbg .Params )!=1{return _bcc ;};_gfe ,_gaf :=_ad .GetNumberAsFloat (_cbg .Params [0]);if _gaf !=nil {return _gaf ;};_ca .Ts =_gfe ;case "\u0054\u0064":if len (_cbg .Params )!=2{return _bcc ;
};_fbbac ,_efa :=_ad .GetNumbersAsFloat (_cbg .Params );if _efa !=nil {return _efa ;};_g .Log .Debug ("\u0054\u0064\u003a\u0020\u0025\u0076",_fbbac );_ca .ProcTd (_fbbac [0],_fbbac [1]);case "\u0054\u0044":if len (_cbg .Params )!=2{return _bcc ;};_eggf ,_dagga :=_ad .GetNumbersAsFloat (_cbg .Params );
if _dagga !=nil {return _dagga ;};_g .Log .Debug ("\u0054\u0044\u003a\u0020\u0025\u0076",_eggf );_ca .ProcTD (_eggf [0],_eggf [1]);case "\u0054\u002a":_ca .ProcTStar ();case "\u0054\u006d":if len (_cbg .Params )!=6{return _bcc ;};_bac ,_gbad :=_ad .GetNumbersAsFloat (_cbg .Params );
if _gbad !=nil {return _gbad ;};_g .Log .Debug ("\u0054\u0065x\u0074\u0020\u006da\u0074\u0072\u0069\u0078\u003a\u0020\u0025\u002b\u0076",_bac );_ca .ProcTm (_bac [0],_bac [1],_bac [2],_bac [3],_bac [4],_bac [5]);case "\u0027":if len (_cbg .Params )!=1{return _bcc ;
};_aabg ,_ggad :=_ad .GetStringBytes (_cbg .Params [0]);if !_ggad {return _daa ;};_g .Log .Debug ("\u0027\u0020\u0073t\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_aabg ));_ca .ProcQ (_aabg ,_fb );case "\u0022":if len (_cbg .Params )!=3{return _bcc ;
};_adff ,_gdbb :=_ad .GetNumberAsFloat (_cbg .Params [0]);if _gdbb !=nil {return _gdbb ;};_ggbg ,_gdbb :=_ad .GetNumberAsFloat (_cbg .Params [1]);if _gdbb !=nil {return _gdbb ;};_cdga ,_aga :=_ad .GetStringBytes (_cbg .Params [2]);if !_aga {return _daa ;
};_ca .ProcDQ (_cdga ,_adff ,_ggbg ,_fb );case "\u0054\u006a":if len (_cbg .Params )!=1{return _bcc ;};_gff ,_agdg :=_ad .GetStringBytes (_cbg .Params [0]);if !_agdg {return _daa ;};_g .Log .Debug ("\u0054j\u0020s\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0060\u0025\u0073\u0060",string (_gff ));
_ca .ProcTj (_gff ,_fb );case "\u0054\u004a":if len (_cbg .Params )!=1{return _bcc ;};_cbgb ,_fbbb :=_ad .GetArray (_cbg .Params [0]);if !_fbbb {_g .Log .Debug ("\u0054\u0079\u0070\u0065\u003a\u0020\u0025\u0054",_cbgb );return _daa ;};_g .Log .Debug ("\u0054\u004a\u0020\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_cbgb );
for _ ,_bfeb :=range _cbgb .Elements (){switch _gae :=_bfeb .(type ){case *_ad .PdfObjectString :if _gae !=nil {_ca .ProcTj (_gae .Bytes (),_fb );};case *_ad .PdfObjectFloat ,*_ad .PdfObjectInteger :_dcdb ,_afb :=_ad .GetNumberAsFloat (_gae );if _afb ==nil {_ca .Translate (-_dcdb *0.001*_ca .Tf .Size *_ca .Th /100.0,0);
};};};case "\u0054\u0066":if len (_cbg .Params )!=2{return _bcc ;};_g .Log .Debug ("\u0025\u0023\u0076",_cbg .Params );_bgb ,_fdcaf :=_ad .GetName (_cbg .Params [0]);if !_fdcaf ||_bgb ==nil {_g .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u006e\u0061m\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_cbg .Params [0]);
return _daa ;};_g .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u006e\u0061\u006d\u0065\u003a\u0020\u0025\u0073",_bgb .String ());_gedd ,_fgd :=_ad .GetNumberAsFloat (_cbg .Params [1]);if _fgd !=nil {_g .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0069z\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_cbg .Params [1]);
return _daa ;};_aac :=_fb .Width ();if _fb .Height ()> _aac {_aac =_fb .Height ();};_bbcg :=float64 (_aac );if _gedd > _bbcg {_g .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065 \u0065\u0078\u0063\u0065\u0065\u0064\u0073\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0064\u0069\u006d\u0065\u006e\u0073\u0069\u006f\u006e,\u0020\u0073c\u0061\u006ci\u006e\u0067\u0020\u0064\u006f\u0077\u006e\u0020\u0066\u006f\u006e\u0074\u0020si\u007a\u0065\u0020\u0066\u0072\u006f\u006d\u0020\u0025v\u0020\u0074\u006f\u0020\u0025\u0076",_gedd ,_bbcg );
_gedd =_bbcg ;};_g .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065\u003a\u0020\u0025\u0076",_gedd );_gbab ,_afc :=_cba .GetFontByName (*_bgb );if !_afc {_g .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0046\u006f\u006e\u0074\u0020\u0025s\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_bgb .String ());
return _f .New ("\u0066\u006f\u006e\u0074\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};_g .Log .Debug ("\u0046\u006f\u006e\u0074\u003a\u0020\u0025\u0054",_gbab );_ceb ,_fdcaf :=_ad .GetDict (_gbab );if !_fdcaf {_g .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0067e\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0069\u0063\u0074");
return _daa ;};_ccfa ,_fgd :=_gc .NewPdfFontFromPdfObject (_ceb );if _fgd !=nil {_g .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066\u0072\u006fm\u0020\u006fb\u006a\u0065\u0063\u0074");
return _fgd ;};_eda :=_ccfa .BaseFont ();if _eda ==""{_eda =_bgb .String ();};_ddcb ,_fdcaf :=_ec [_eda ];if !_fdcaf {_ddcb ,_fgd =_gb .NewTextFont (_ccfa ,_gedd );if _fgd !=nil {_g .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_fgd );};};
if _ddcb ==nil {if len (_eda )> 7&&_eda [6]=='+'{_eda =_eda [7:];};_gbf :=[]string {_eda ,"\u0054i\u006de\u0073\u0020\u004e\u0065\u0077\u0020\u0052\u006f\u006d\u0061\u006e","\u0041\u0072\u0069a\u006c","D\u0065\u006a\u0061\u0056\u0075\u0020\u0053\u0061\u006e\u0073"};
for _ ,_gcb :=range _gbf {_g .Log .Debug ("\u0044\u0045\u0042\u0055\u0047\u003a \u0073\u0065\u0061\u0072\u0063\u0068\u0069\u006e\u0067\u0020\u0073\u0079\u0073t\u0065\u006d\u0020\u0066\u006f\u006e\u0074 \u0060\u0025\u0073\u0060",_gcb );if _ddcb ,_fdcaf =_ec [_gcb ];
_fdcaf {break ;};_gde :=_fbb .Match (_gcb );if _gde ==nil {_g .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u0066\u0069\u006e\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_gcb );continue ;};_ddcb ,_fgd =_gb .NewTextFontFromPath (_gde .Filename ,_gedd );
if _fgd !=nil {_g .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_gde .Filename );continue ;};_g .Log .Debug ("\u0053\u0075\u0062\u0073\u0074\u0069t\u0075\u0074\u0069\u006e\u0067\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0073 \u0077\u0069\u0074\u0068\u0020\u0025\u0073 \u0028\u0025\u0073\u0029",_eda ,_gde .Name ,_gde .Filename );
_ec [_gcb ]=_ddcb ;break ;};};if _ddcb ==nil {_g .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020n\u006f\u0074\u0020\u0066\u0069\u006ed\u0020\u0061\u006e\u0079\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065 \u0066\u006f\u006e\u0074");
return _f .New ("\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0066\u0069\u006e\u0064\u0020a\u006ey\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065\u0020\u0066\u006f\u006e\u0074");};_ca .ProcTf (_ddcb .WithSize (_gedd ,_ccfa ));case "\u0042\u004d\u0043","\u0042\u0044\u0043":if len (_cbg .Params )==2&&_cbg .Params [0].String ()=="\u0041\u0072\u0074\u0069\u0066\u0061\u0063\u0074"{_bbcgg ,_gbbca :=_ad .GetDict (_cbg .Params [1]);
if _gbbca {if _bbcgg .Get ("\u0053u\u0062\u0074\u0079\u0070\u0065")!=nil &&_bbcgg .Get ("\u0053u\u0062\u0074\u0079\u0070\u0065").String ()=="\u0057a\u0074\u0065\u0072\u006d\u0061\u0072k"{_ca .Tr =_gb .TextRenderingModeInvisible ;};};};case "\u0045\u004d\u0043":default:_g .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0073u\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u006f\u0070\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u0073",_cbg .Operand );
};_cb =_cbg ;return nil ;});_gec =_aba .Process (_fd );if _gec !=nil {return _gec ;};return nil ;};

// Render converts the specified PDF page into an image, flattens annotations by default and returns the result.
func (_ae *ImageDevice )Render (page *_gc .PdfPage )(_bf .Image ,error ){return _ae .RenderWithOpts (page ,false );};

// RenderWithOpts converts the specified PDF page into an image, optionally flattens annotations and returns the result.
func (_dd *ImageDevice )RenderWithOpts (page *_gc .PdfPage ,skipFlattening bool )(_bf .Image ,error ){_ef ,_ba :=page .GetMediaBox ();if _ba !=nil {return nil ,_ba ;};_ef .Normalize ();_cc :=page .CropBox ;var _bb ,_gg float64 ;if _cc !=nil {_cc .Normalize ();
_bb ,_gg =_cc .Width (),_cc .Height ();};_bba :=page .Rotate ;_fc ,_bc ,_gbc ,_eb :=_ef .Llx ,_ef .Lly ,_ef .Width (),_ef .Height ();_eg :=_ea .IdentityMatrix ();if _bba !=nil &&*_bba %360!=0&&*_bba %90==0{_df :=-float64 (*_bba );_bcg :=_fab (_gbc ,_eb ,_df );
_eg =_eg .Translate ((_bcg .Width -_gbc )/2+_gbc /2,(_bcg .Height -_eb )/2+_eb /2).Rotate (_df *_ee .Pi /180).Translate (-_gbc /2,-_eb /2);_gbc ,_eb =_bcg .Width ,_bcg .Height ;if _cc !=nil {_ffa :=_fab (_bb ,_gg ,_df );_bb ,_gg =_ffa .Width ,_ffa .Height ;
};};if _fc !=0||_bc !=0{_eg =_eg .Translate (-_fc ,-_bc );};_dd ._gac =1.0;if _dd .OutputWidth !=0{_ggd :=_gbc ;if _cc !=nil {_ggd =_bb ;};_dd ._gac =float64 (_dd .OutputWidth )/_ggd ;_gbc ,_eb ,_bb ,_gg =_gbc *_dd ._gac ,_eb *_dd ._gac ,_bb *_dd ._gac ,_gg *_dd ._gac ;
_eg =_ea .ScaleMatrix (_dd ._gac ,_dd ._gac ).Mult (_eg );};_cf :=_gf .NewContext (int (_gbc ),int (_eb ));if _ge :=_dd .renderPage (_cf ,page ,_eg ,skipFlattening );_ge !=nil {return nil ,_ge ;};_fef :=_cf .Image ();if _cc !=nil {_ab ,_bce :=(_cc .Llx -_fc )*_dd ._gac ,(_cc .Lly -_bc )*_dd ._gac ;
_fcd :=_bf .Rect (0,0,int (_bb ),int (_gg ));_geb :=_bf .Pt (int (_ab ),int (_eb -_bce -_gg ));_aea :=_bf .NewRGBA (_fcd );_dc .Draw (_aea ,_fcd ,_fef ,_geb ,_dc .Src );_fef =_aea ;};return _fef ,nil ;};var (_daa =_f .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");
_bcc =_f .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););func _bccd (_bdbf *_gc .Image ,_bded _fa .Color )_bf .Image {_egd ,_fdcd :=int (_bdbf .Width ),int (_bdbf .Height );_gdec :=_bf .NewRGBA (_bf .Rect (0,0,_egd ,_fdcd ));
for _ade :=0;_ade < _fdcd ;_ade ++{for _gaeg :=0;_gaeg < _egd ;_gaeg ++{_gfdd ,_dbag :=_bdbf .ColorAt (_gaeg ,_ade );if _dbag !=nil {_g .Log .Debug ("\u0063o\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069e\u0076\u0065\u0020\u0069m\u0061\u0067\u0065\u0020\u006da\u0073\u006b\u0020\u0076\u0061\u006c\u0075\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061y\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006fr\u0072\u0065\u0063\u0074\u002e",_gaeg ,_ade );
continue ;};_bfbb ,_aeb ,_adfgd ,_ :=_gfdd .RGBA ();var _febd _fa .Color ;if _bfbb +_aeb +_adfgd ==0{_febd =_bded ;}else {_febd =_fa .Transparent ;};_gdec .Set (_gaeg ,_ade ,_febd );};};return _gdec ;};

// ImageDevice is used to render PDF pages to image targets.
type ImageDevice struct{renderer ;

// OutputWidth represents the width of the rendered images in pixels.
// The heights of the output images are calculated based on the selected
// width and the original height of each rendered page.
OutputWidth int ;};func _ebec (_dce _ad .PdfObject ,_efg _fa .Color )(_bf .Image ,error ){_bcfg ,_cdgd :=_ad .GetStream (_dce );if !_cdgd {return nil ,nil ;};_fae ,_gcadf :=_gc .NewXObjectImageFromStream (_bcfg );if _gcadf !=nil {return nil ,_gcadf ;};
_ddcf ,_gcadf :=_fae .ToImage ();if _gcadf !=nil {return nil ,_gcadf ;};return _bccd (_ddcf ,_efg ),nil ;};func _def (_edca *_gc .Image )_bf .Image {_gbcef ,_cebb :=int (_edca .Width ),int (_edca .Height );if _gbcef <=0||_cebb <=0{_g .Log .Debug ("\u0069\u006e\u0076\u0061\u006c\u0069d\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0064\u0069\u006d\u0065\u006e\u0073i\u006f\u006e\u0073\u0020\u0028\u0025\u0064,\u0020\u0025\u0064\u0029",_gbcef ,_cebb );
return nil ;};_cgea :=_bf .NewRGBA (_bf .Rect (0,0,_gbcef ,_cebb ));for _ace :=0;_ace < _cebb ;_ace ++{for _ebed :=0;_ebed < _gbcef ;_ebed ++{_edae ,_bccc :=_edca .ColorAt (_ebed ,_ace );if _bccc !=nil {_g .Log .Debug ("\u0063o\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069e\u0076\u0065\u0020\u0069m\u0061\u0067\u0065\u0020\u006da\u0073\u006b\u0020\u0076\u0061\u006c\u0075\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061y\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006fr\u0072\u0065\u0063\u0074\u002e",_ebed ,_ace );
continue ;};_baa ,_gfga ,_cdea ,_ :=_edae .RGBA ();var _bcda _fa .Color ;if _baa +_gfga +_cdea ==0{_bcda =_fa .Transparent ;}else {_cef :=uint8 (_ad .RGBToGrayscale (int (_baa >>8),int (_gfga >>8),int (_cdea >>8)));_bcda =_fa .RGBA {R :255,G :255,B :255,A :_cef };
};_cgea .Set (_ebed ,_ace ,_bcda );};};return _cgea ;};func _egac (_affg _gb .Gradient ,_fecg *_gc .PdfFunctionType2 ,_bgga _gc .PdfColorspace ,_ddfc float64 ,_bfea bool )(_gb .Gradient ,error ){switch _bgga .(type ){case *_gc .PdfColorspaceDeviceRGB :if len (_fecg .C0 )!=3||len (_fecg .C1 )!=3{return nil ,_f .New ("\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u0020\u0052\u0047\u0042\u0020\u0063o\u006co\u0072\u0020\u0061\u0072\u0072\u0061\u0079\u0020\u006c\u0065\u006e\u0067\u0074\u0068");
};_ecdd :=_fecg .C0 ;_efceb :=_fecg .C1 ;if _bfea {_affg .AddColorStop (0.0,_fa .RGBA {R :uint8 (_ecdd [0]*255),G :uint8 (_ecdd [1]*255),B :uint8 (_ecdd [2]*255),A :255});};_affg .AddColorStop (_ddfc ,_fa .RGBA {R :uint8 (_efceb [0]*255),G :uint8 (_efceb [1]*255),B :uint8 (_efceb [2]*255),A :255});
case *_gc .PdfColorspaceDeviceCMYK :if len (_fecg .C0 )!=4||len (_fecg .C1 )!=4{return nil ,_f .New ("\u0069\u006e\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0043\u004d\u0059\u004b\u0020\u0063\u006f\u006c\u006f\u0072 \u0061\u0072\u0072\u0061\u0079\u0020\u006ce\u006e\u0067\u0074\u0068");
};_eab :=_fecg .C0 ;_dcab :=_fecg .C1 ;if _bfea {_affg .AddColorStop (0.0,_fa .CMYK {C :uint8 (_eab [0]*255),M :uint8 (_eab [1]*255),Y :uint8 (_eab [2]*255),K :uint8 (_eab [3]*255)});};_affg .AddColorStop (_ddfc ,_fa .CMYK {C :uint8 (_dcab [0]*255),M :uint8 (_dcab [1]*255),Y :uint8 (_dcab [2]*255),K :uint8 (_dcab [3]*255)});
default:return nil ,_bfa .Errorf ("u\u006e\u0073\u0075\u0070\u0070\u006fr\u0074\u0065\u0064\u0020\u0063\u006f\u006c\u006f\u0072 \u0073\u0070\u0061c\u0065:\u0020\u0025\u0073",_bgga .String ());};return _affg ,nil ;};func (_gbag renderer )processLinearShading (_gcad _gb .Context ,_gfgc *_gc .PdfShading )(_gb .Gradient ,*_ad .PdfObjectArray ,error ){_bfga :=_gfgc .GetContext ().(*_gc .PdfShadingType2 );
if len (_bfga .Function )==0{return nil ,nil ,_f .New ("\u006e\u006f\u0020\u0067\u0072\u0061\u0064i\u0065\u006e\u0074 \u0066\u0075\u006e\u0063t\u0069\u006f\u006e\u0020\u0066\u006f\u0075\u006e\u0064\u002c\u0020\u0073\u006b\u0069\u0070\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e");
};_bcgd ,_gfc :=_bfga .Coords .ToFloat64Array ();if _gfc !=nil {return nil ,nil ,_f .New ("\u0066\u0061\u0069l\u0065\u0064\u0020\u0067e\u0074\u0074\u0069\u006e\u0067\u0020\u0073h\u0061\u0064\u0069\u006e\u0067\u0020\u0070\u006f\u0073\u0069\u0074\u0069\u006f\u006e");
};_edb :=_gfgc .ColorSpace ;_ffb ,_fdae :=_gcad .Matrix ().Transform (_bcgd [0],_bcgd [1]);_dgfff ,_abdd :=_gcad .Matrix ().Transform (_bcgd [2],_bcgd [3]);_eaf :=_gf .NewLinearGradient (_ffb ,_fdae ,_dgfff ,_abdd );_ffe :=_ad .MakeArrayFromFloats ([]float64 {0,0,1,1});
for _ ,_dda :=range _bcgd {if _dda > 1{_ffe =_bfga .Coords ;break ;};};if _becd ,_bga :=_bfga .Function [0].(*_gc .PdfFunctionType2 );_bga {_eaf ,_gfc =_egac (_eaf ,_becd ,_edb ,1.0,true );}else if _fagg ,_edf :=_bfga .Function [0].(*_gc .PdfFunctionType3 );
_edf {_abgf :=append ([]float64 {0},_fagg .Bounds ...);_abgf =append (_abgf ,1.0);_eaf ,_gfc =_gbga (_eaf ,_fagg ,_edb ,_abgf );};return _eaf ,_ffe ,_gfc ;};const (ShadingTypeFunctionBased PdfShadingType =1;ShadingTypeAxial PdfShadingType =2;ShadingTypeRadial PdfShadingType =3;
ShadingTypeFreeForm PdfShadingType =4;ShadingTypeLatticeForm PdfShadingType =5;ShadingTypeCoons PdfShadingType =6;ShadingTypeTensorProduct PdfShadingType =7;);

// NewImageDevice returns a new image device.
func NewImageDevice ()*ImageDevice {const _de ="r\u0065\u006e\u0064\u0065r.\u004ee\u0077\u0049\u006d\u0061\u0067e\u0044\u0065\u0076\u0069\u0063\u0065";_db .TrackUse (_de );return &ImageDevice {};};func _fgeg (_bgd string ,_aaa _bf .Image ,_afaa int )error {_cbb ,_bdcg :=_a .Create (_bgd );
if _bdcg !=nil {return _bdcg ;};defer _cbb .Close ();return _c .Encode (_cbb ,_aaa ,&_c .Options {Quality :_afaa });};func (_gea renderer )processShading (_gaef _gb .Context ,_cfee *_gc .PdfShading )(_gb .Gradient ,*_ad .PdfObjectArray ,error ){_daed :=int64 (*_cfee .ShadingType );
if _daed ==int64 (ShadingTypeAxial ){return _gea .processLinearShading (_gaef ,_cfee );}else if _daed ==int64 (ShadingTypeRadial ){return _gea .processRadialShading (_gaef ,_cfee );}else {_g .Log .Debug (_bfa .Sprintf ("\u0050r\u006f\u0063e\u0073\u0073\u0069n\u0067\u0020\u0067\u0072\u0061\u0064\u0069e\u006e\u0074\u0020\u0074\u0079\u0070e\u0020\u0025\u0064\u0020\u006e\u006f\u0074\u0020\u0079\u0065\u0074 \u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064",_daed ));
};return nil ,nil ,nil ;};func _fab (_cfb ,_agda ,_cdce float64 )_da .BoundingBox {return _da .Path {Points :[]_da .Point {_da .NewPoint (0,0).Rotate (_cdce ),_da .NewPoint (_cfb ,0).Rotate (_cdce ),_da .NewPoint (0,_agda ).Rotate (_cdce ),_da .NewPoint (_cfb ,_agda ).Rotate (_cdce )}}.GetBoundingBox ();
};type renderer struct{_gac float64 };func (_cgec renderer )processRadialShading (_bgf _gb .Context ,_bdb *_gc .PdfShading )(_gb .Gradient ,*_ad .PdfObjectArray ,error ){_cbgd :=_bdb .GetContext ().(*_gc .PdfShadingType3 );if len (_cbgd .Function )==0{return nil ,nil ,_f .New ("\u006e\u006f\u0020\u0067\u0072\u0061\u0064i\u0065\u006e\u0074 \u0066\u0075\u006e\u0063t\u0069\u006f\u006e\u0020\u0066\u006f\u0075\u006e\u0064\u002c\u0020\u0073\u006b\u0069\u0070\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e");
};_cgb ,_afce :=_cbgd .Coords .ToFloat64Array ();if _afce !=nil {return nil ,nil ,_f .New ("\u0066\u0061\u0069l\u0065\u0064\u0020\u0067e\u0074\u0074\u0069\u006e\u0067\u0020\u0073h\u0061\u0064\u0069\u006e\u0067\u0020\u0070\u006f\u0073\u0069\u0074\u0069\u006f\u006e");
};_agg :=_bdb .ColorSpace ;_ffed :=_ad .MakeArrayFromFloats ([]float64 {0,0,1,1});var _bdg ,_gbbf ,_bcece ,_gbce ,_eef ,_aabc float64 ;_bdg ,_gbbf =_bgf .Matrix ().Transform (_cgb [0],_cgb [1]);_bcece ,_gbce =_bgf .Matrix ().Transform (_cgb [3],_cgb [4]);
_eef ,_ =_bgf .Matrix ().Transform (_cgb [2],0);_aabc ,_ =_bgf .Matrix ().Transform (_cgb [5],0);_efaf ,_ :=_bgf .Matrix ().Translation ();_eef -=_efaf ;_aabc -=_efaf ;for _cgbe ,_cfed :=range _cgb {if _cgbe ==2||_cgbe ==5{continue ;};if _cfed > 1.0{_gbg :=_ee .Min (_bdg -_eef ,_bcece -_aabc );
_ecd :=_ee .Min (_gbbf -_eef ,_gbce -_aabc );_edaf :=_ee .Max (_bdg +_eef ,_bcece +_aabc );_gdbf :=_ee .Max (_gbbf +_eef ,_gbce +_aabc );_gfeg :=_edaf -_gbg ;_dgcc :=_ecd -_gdbf ;_ffed =_ad .MakeArrayFromFloats ([]float64 {_gbg ,_ecd ,_gfeg ,_dgcc });break ;
};};_ecf :=_gf .NewRadialGradient (_bdg ,_gbbf ,_eef ,_bcece ,_gbce ,_aabc );if _debb ,_fgdb :=_cbgd .Function [0].(*_gc .PdfFunctionType2 );_fgdb {_ecf ,_afce =_egac (_ecf ,_debb ,_agg ,1.0,true );}else if _cdef ,_bgg :=_cbgd .Function [0].(*_gc .PdfFunctionType3 );
_bgg {_ddf :=append ([]float64 {0},_cdef .Bounds ...);_ddf =append (_ddf ,1.0);_ecf ,_afce =_gbga (_ecf ,_cdef ,_agg ,_ddf );};if _afce !=nil {return nil ,nil ,_afce ;};return _ecf ,_ffed ,nil ;};func (_bd renderer )renderPage (_ffc _gb .Context ,_dg *_gc .PdfPage ,_ebf _ea .Matrix ,_dag bool )error {if !_dag {_eba :=_gc .FieldFlattenOpts {AnnotFilterFunc :func (_bcec *_gc .PdfAnnotation )bool {switch _bcec .GetContext ().(type ){case *_gc .PdfAnnotationLine :return true ;
case *_gc .PdfAnnotationSquare :return true ;case *_gc .PdfAnnotationCircle :return true ;case *_gc .PdfAnnotationPolygon :return true ;case *_gc .PdfAnnotationPolyLine :return true ;};return false ;}};_bdf :=_ga .FieldAppearance {};_cfg :=_dg .FlattenFieldsWithOpts (_bdf ,&_eba );
if _cfg !=nil {_g .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0064u\u0072\u0069n\u0067\u0020\u0061\u006e\u006e\u006f\u0074\u0061t\u0069\u006f\u006e\u0020\u0066\u006c\u0061\u0074\u0074\u0065\u006e\u0069n\u0067\u0020\u0025\u0076",_cfg );};};_gef ,_egb :=_dg .GetAllContentStreams ();
if _egb !=nil {return _egb ;};if _fea :=_ebf ;!_fea .Identity (){_gef =_bfa .Sprintf ("%\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066 \u0025\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066\u0020\u0063\u006d\u0020%\u0073",_fea [0],_fea [1],_fea [3],_fea [4],_fea [6],_fea [7],_gef );
};_ffc .Translate (0,float64 (_ffc .Height ()));_ffc .Scale (1,-1);_ffc .Push ();_ffc .SetRGBA (1,1,1,1);_ffc .DrawRectangle (0,0,float64 (_ffc .Width ()),float64 (_ffc .Height ()));_ffc .Fill ();_ffc .Pop ();_ffc .SetLineWidth (1.0);_ffc .SetRGBA (0,0,0,1);
return _bd .renderContentStream (_ffc ,_gef ,_dg .Resources );};

// RenderToPath converts the specified PDF page into an image and saves the
// result at the specified location.
func (_dcd *ImageDevice )RenderToPath (page *_gc .PdfPage ,outputPath string )error {_ddd ,_ag :=_dcd .Render (page );if _ag !=nil {return _ag ;};_bbab :=_ff .ToLower (_d .Ext (outputPath ));if _bbab ==""{return _f .New ("\u0063\u006ful\u0064\u0020\u006eo\u0074\u0020\u0072\u0065cog\u006eiz\u0065\u0020\u006f\u0075\u0074\u0070\u0075t \u0066\u0069\u006c\u0065\u0020\u0074\u0079p\u0065");
};switch _bbab {case "\u002e\u0070\u006e\u0067":return _gfdb (outputPath ,_ddd );case "\u002e\u006a\u0070\u0067","\u002e\u006a\u0070e\u0067":return _fgeg (outputPath ,_ddd ,100);};return _bfa .Errorf ("\u0075\u006e\u0072\u0065\u0063\u006fg\u006e\u0069\u007a\u0065\u0064\u0020\u006f\u0075\u0074\u0070\u0075\u0074\u0020f\u0069\u006c\u0065\u0020\u0074\u0079\u0070e\u003a\u0020\u0025\u0073",_bbab );
};func (_cec renderer )processGradient (_aad _gb .Context ,_bec *_fe .ContentStreamOperation ,_bcd *_gc .PdfPageResources ,_bdcf *_ad .PdfObjectName )(_gb .Gradient ,error ){if _cecf ,_dbf :=_bcd .GetPatternByName (*_bdcf );_dbf &&_cecf .IsShading (){_fdad :=_cecf .GetAsShadingPattern ().Shading ;
_ccc ,_ ,_feda :=_cec .processShading (_aad ,_fdad );if _feda !=nil {return nil ,_feda ;};return _ccc ,nil ;};return nil ,nil ;};func _cdeb (_ffced ,_cggf _bf .Image )_bf .Image {_edbe ,_eeddg :=_cggf .Bounds ().Size (),_ffced .Bounds ().Size ();_gged ,_cdb :=_edbe .X ,_edbe .Y ;
if _eeddg .X > _gged {_gged =_eeddg .X ;};if _eeddg .Y > _cdb {_cdb =_eeddg .Y ;};_dfgg :=_bf .Rect (0,0,_gged ,_cdb );if _edbe .X !=_gged ||_edbe .Y !=_cdb {_eag :=_bf .NewRGBA (_dfgg );_daf .BiLinear .Scale (_eag ,_dfgg ,_cggf ,_cggf .Bounds (),_daf .Over ,nil );
_cggf =_eag ;};if _eeddg .X !=_gged ||_eeddg .Y !=_cdb {_cfaa :=_bf .NewRGBA (_dfgg );_daf .BiLinear .Scale (_cfaa ,_dfgg ,_ffced ,_ffced .Bounds (),_daf .Over ,nil );_ffced =_cfaa ;};_gdd :=_bf .NewRGBA (_dfgg );_daf .DrawMask (_gdd ,_dfgg ,_ffced ,_bf .Point {},_cggf ,_bf .Point {},_daf .Over );
return _gdd ;};

// PdfShadingType defines PDF shading types.
// Source: PDF32000_2008.pdf. Chapter 8.7.4.5
type PdfShadingType int64 ;func _gfdb (_dfe string ,_eafa _bf .Image )error {_bde ,_fcgb :=_a .Create (_dfe );if _fcgb !=nil {return _fcgb ;};defer _bde .Close ();return _b .Encode (_bde ,_eafa );};